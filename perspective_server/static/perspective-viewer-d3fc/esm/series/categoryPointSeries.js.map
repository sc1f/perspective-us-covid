{"version":3,"sources":["../../../src/js/series/categoryPointSeries.js"],"names":["fc","withOpacity","withoutOpacity","fromDomain","categoryPointSeries","settings","seriesKey","color","symbols","series","seriesSvgPoint","size","opacity","colorStyles","type","decorate","selection","style","d","colorValue","crossValue","mainValue","symbolType","col","data","length","domain","Object","keys","filter","k"],"mappings":"AAAA;;;;;;;;AAQA,OAAO,KAAKA,EAAZ,MAAoB,MAApB;AACA,SAAQC,WAAR,EAAqBC,cAArB,QAA0C,gBAA1C;AACA,SAAQC,UAAR,QAAyB,iBAAzB;AAEA,OAAO,SAASC,mBAAT,CAA6BC,QAA7B,EAAuCC,SAAvC,EAAkDC,KAAlD,EAAyDC,OAAzD,EAAkE;AACrE,MAAIC,MAAM,GAAGT,EAAE,CAACU,cAAH,GAAoBC,IAApB,CAAyB,GAAzB,CAAb;AACA,QAAMC,OAAO,GAAGP,QAAQ,CAACQ,WAAT,IAAwBR,QAAQ,CAACQ,WAAT,CAAqBD,OAA7D;;AAEA,MAAIJ,OAAJ,EAAa;AACTC,IAAAA,MAAM,CAACK,IAAP,CAAYN,OAAO,CAACF,SAAD,CAAnB;AACH;;AAEDG,EAAAA,MAAM,CAACM,QAAP,CAAgBC,SAAS,IAAI;AACzBA,IAAAA,SAAS,CAACC,KAAV,CAAgB,QAAhB,EAA0BC,CAAC,IAAIhB,cAAc,CAACK,KAAK,CAACW,CAAC,CAACC,UAAF,IAAgBb,SAAjB,CAAN,CAA7C,EAAiFW,KAAjF,CAAuF,MAAvF,EAA+FC,CAAC,IAAIjB,WAAW,CAACM,KAAK,CAACW,CAAC,CAACC,UAAF,IAAgBb,SAAjB,CAAN,EAAmCM,OAAnC,CAA/G;AACH,GAFD;AAIA,SAAOH,MAAM,CAACW,UAAP,CAAkBF,CAAC,IAAIA,CAAC,CAACE,UAAzB,EAAqCC,SAArC,CAA+CH,CAAC,IAAIA,CAAC,CAACG,SAAtD,CAAP;AACH;AAED,OAAO,SAASC,UAAT,CAAoBjB,QAApB,EAA8B;AACjC,QAAMkB,GAAG,GAAGlB,QAAQ,CAACmB,IAAT,IAAiBnB,QAAQ,CAACmB,IAAT,CAAcC,MAAd,GAAuB,CAAxC,GAA4CpB,QAAQ,CAACmB,IAAT,CAAc,CAAd,CAA5C,GAA+D,EAA3E;AACA,QAAME,MAAM,GAAGC,MAAM,CAACC,IAAP,CAAYL,GAAZ,EAAiBM,MAAjB,CAAwBC,CAAC,IAAIA,CAAC,KAAK,cAAnC,CAAf;AACA,SAAO3B,UAAU,CAACuB,MAAD,CAAjB;AACH","sourcesContent":["/******************************************************************************\n *\n * Copyright (c) 2017, the Perspective Authors.\n *\n * This file is part of the Perspective library, distributed under the terms of\n * the Apache License 2.0.  The full license can be found in the LICENSE file.\n *\n */\nimport * as fc from \"d3fc\";\nimport {withOpacity, withoutOpacity} from \"./seriesColors\";\nimport {fromDomain} from \"./seriesSymbols\";\n\nexport function categoryPointSeries(settings, seriesKey, color, symbols) {\n    let series = fc.seriesSvgPoint().size(100);\n    const opacity = settings.colorStyles && settings.colorStyles.opacity;\n\n    if (symbols) {\n        series.type(symbols(seriesKey));\n    }\n\n    series.decorate(selection => {\n        selection.style(\"stroke\", d => withoutOpacity(color(d.colorValue || seriesKey))).style(\"fill\", d => withOpacity(color(d.colorValue || seriesKey), opacity));\n    });\n\n    return series.crossValue(d => d.crossValue).mainValue(d => d.mainValue);\n}\n\nexport function symbolType(settings) {\n    const col = settings.data && settings.data.length > 0 ? settings.data[0] : {};\n    const domain = Object.keys(col).filter(k => k !== \"__ROW_PATH__\");\n    return fromDomain(domain);\n}\n"],"file":"categoryPointSeries.js"}