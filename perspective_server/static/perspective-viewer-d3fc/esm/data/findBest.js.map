{"version":3,"sources":["../../../src/js/data/findBest.js"],"names":["findBestFromData","array","valueFn","compareFn","Math","min","findBestFromArray","reduce","best","v","thisValue","findBestFromItem","value","item","Array","isArray","bestItem"],"mappings":"AAAA;;;;;;;;AASA,OAAO,MAAMA,gBAAgB,GAAG,CAACC,KAAD,EAAQC,OAAR,EAAiBC,SAAS,GAAGC,IAAI,CAACC,GAAlC,KAA0C;AACtE,QAAMC,iBAAiB,GAAGL,KAAK,IAAI;AAC/B,WAAOA,KAAK,CAACM,MAAN,CAAa,CAACC,IAAD,EAAOC,CAAP,KAAa;AAC7B,YAAMC,SAAS,GAAGC,gBAAgB,CAACF,CAAD,EAAIP,OAAJ,CAAlC;AACA,aAAOQ,SAAS,KAAK,CAACF,IAAD,IAASL,SAAS,CAACK,IAAI,CAACI,KAAN,EAAaF,SAAS,CAACE,KAAvB,CAAT,KAA2CF,SAAS,CAACE,KAAnE,CAAT,GAAqFF,SAArF,GAAiGF,IAAxG;AACH,KAHM,EAGJ,IAHI,CAAP;AAIH,GALD;;AAMA,QAAMG,gBAAgB,GAAGE,IAAI,IAAI;AAC7B,QAAIC,KAAK,CAACC,OAAN,CAAcF,IAAd,CAAJ,EAAyB;AACrB,aAAOP,iBAAiB,CAACO,IAAD,EAAOX,OAAP,CAAxB;AACH;;AACD,UAAMU,KAAK,GAAGV,OAAO,CAACW,IAAD,CAArB;AACA,WAAOD,KAAK,KAAK,IAAV,GACD;AACIC,MAAAA,IADJ;AAEID,MAAAA;AAFJ,KADC,GAKD,IALN;AAMH,GAXD;;AAaA,QAAMI,QAAQ,GAAGV,iBAAiB,CAACL,KAAD,EAAQC,OAAR,CAAlC;AACA,SAAOc,QAAQ,GAAGA,QAAQ,CAACH,IAAZ,GAAmB,IAAlC;AACH,CAtBM","sourcesContent":["/******************************************************************************\r\n *\r\n * Copyright (c) 2017, the Perspective Authors.\r\n *\r\n * This file is part of the Perspective library, distributed under the terms of\r\n * the Apache License 2.0.  The full license can be found in the LICENSE file.\r\n *\r\n */\r\n\r\nexport const findBestFromData = (array, valueFn, compareFn = Math.min) => {\r\n    const findBestFromArray = array => {\r\n        return array.reduce((best, v) => {\r\n            const thisValue = findBestFromItem(v, valueFn);\r\n            return thisValue && (!best || compareFn(best.value, thisValue.value) === thisValue.value) ? thisValue : best;\r\n        }, null);\r\n    };\r\n    const findBestFromItem = item => {\r\n        if (Array.isArray(item)) {\r\n            return findBestFromArray(item, valueFn);\r\n        }\r\n        const value = valueFn(item);\r\n        return value !== null\r\n            ? {\r\n                  item,\r\n                  value\r\n              }\r\n            : null;\r\n    };\r\n\r\n    const bestItem = findBestFromArray(array, valueFn);\r\n    return bestItem ? bestItem.item : null;\r\n};\r\n"],"file":"findBest.js"}