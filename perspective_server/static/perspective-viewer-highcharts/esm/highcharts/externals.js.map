{"version":3,"sources":["../../../src/js/highcharts/externals.js"],"names":["highcharts","highchartsMore","heatmap","boost","treemap","sunburst","grouped_categories","Highcharts","axisProto","Axis","prototype","protoAxisRender","render","UNDEFINED","COLORS_10","COLORS_20","setOptions","colors","H","wrap","seriesTypes","scatter","translate","apply","Array","slice","call","arguments","chart","userOptions","type","translateColors","merge","extendClass","defaultOptions","getOptions","plotOptions","colorSeriesMixin","optionalAxis","colorKey","coloredColumn","column","axisTypes","coloredScatter","coloredBubble","bubble","p","positions","series","nullColor","options","colorAxis","each","data","point","value","color","undefined","toColor","walk","arr","key","fn","l","length","children","isGrouped","labelsGridPath","originalTickLength","tickLength","labelsGrid","attr","visibility","axis","visible","hasVisibleSeries","hasData","grid","d","tickWidth","renderer","path","strokeWidth","stroke","tickColor","add","axisGroup","addClass","labelGroup","categoriesTree","group","tick","startAt","leaves","min","max","label","hide","destroyed"],"mappings":"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","sourcesContent":["/******************************************************************************\n *\n * Copyright (c) 2017, the Perspective Authors.\n *\n * This file is part of the Perspective library, distributed under the terms of\n * the Apache License 2.0.  The full license can be found in the LICENSE file.\n *\n */\n\nimport highcharts from \"highcharts\";\nimport highchartsMore from \"highcharts-more\";\nimport heatmap from \"highcharts/modules/heatmap\";\nimport boost from \"highcharts/modules/boost\";\nimport treemap from \"highcharts/modules/treemap\";\nimport sunburst from \"highcharts/modules/sunburst\";\nimport grouped_categories from \"highcharts-grouped-categories\";\n\nconst Highcharts = highcharts;\n\n// cache prototypes\nlet axisProto = Highcharts.Axis.prototype,\n    // cache original methods\n    protoAxisRender = axisProto.render,\n    UNDEFINED = void 0;\n\nhighchartsMore(highcharts);\nheatmap(highcharts);\ntreemap(highcharts);\nsunburst(highcharts);\ngrouped_categories(highcharts);\nboost(highcharts);\n\nexport const COLORS_10 = [\"#1f77b4\", \"#ff7f0e\", \"#2ca02c\", \"#d62728\", \"#9467bd\", \"#8c564b\", \"#e377c2\", \"#7f7f7f\", \"#bcbd22\", \"#17becf\"];\nexport const COLORS_20 = [\n    \"#1f77b4\",\n    \"#aec7e8\",\n    \"#ff7f0e\",\n    \"#ffbb78\",\n    \"#2ca02c\",\n    \"#98df8a\",\n    \"#d62728\",\n    \"#ff9896\",\n    \"#9467bd\",\n    \"#c5b0d5\",\n    \"#8c564b\",\n    \"#c49c94\",\n    \"#e377c2\",\n    \"#f7b6d2\",\n    \"#7f7f7f\",\n    \"#c7c7c7\",\n    \"#bcbd22\",\n    \"#dbdb8d\",\n    \"#17becf\",\n    \"#9edae5\"\n];\n\nHighcharts.setOptions({\n    colors: COLORS_20\n});\n\n(function(H) {\n    H.wrap(H.seriesTypes.scatter.prototype, \"translate\", function(translate) {\n        translate.apply(this, Array.prototype.slice.call(arguments, 1));\n        if (this.chart.userOptions.chart.type.slice(0, 7) === \"colored\") {\n            this.translateColors.call(this);\n        }\n    });\n    var seriesTypes = H.seriesTypes,\n        merge = H.merge,\n        extendClass = H.extendClass,\n        defaultOptions = H.getOptions(),\n        plotOptions = defaultOptions.plotOptions;\n    var colorSeriesMixin = {\n        optionalAxis: \"colorAxis\",\n        colorKey: \"colorValue\",\n        translateColors: seriesTypes.heatmap && seriesTypes.heatmap.prototype.translateColors\n    };\n    plotOptions.coloredColumn = merge(plotOptions.column, {});\n    seriesTypes.coloredColumn = extendClass(\n        seriesTypes.column,\n        merge(colorSeriesMixin, {\n            type: \"coloredColumn\",\n            axisTypes: [\"xAxis\", \"yAxis\", \"colorAxis\"]\n        })\n    );\n    plotOptions.coloredScatter = merge(plotOptions.scatter, {});\n    seriesTypes.coloredScatter = extendClass(\n        seriesTypes.scatter,\n        merge(colorSeriesMixin, {\n            type: \"coloredScatter\",\n            axisTypes: [\"xAxis\", \"yAxis\", \"colorAxis\"]\n        })\n    );\n    plotOptions.coloredBubble = merge(plotOptions.bubble, {});\n    seriesTypes.coloredBubble = extendClass(\n        seriesTypes.bubble,\n        merge(colorSeriesMixin, {\n            type: \"coloredBubble\",\n            axisTypes: [\"xAxis\", \"yAxis\", \"colorAxis\"]\n        })\n    );\n\n    // draw points and add setting colors\n    H.wrap(H.seriesTypes.sunburst.prototype, \"translate\", function(p, positions) {\n        p.call(this, positions);\n        this.translateColors();\n    });\n\n    // copy method from heatmap for color mixin\n    H.seriesTypes.sunburst.prototype.translateColors = function() {\n        var series = this,\n            nullColor = this.options.nullColor,\n            colorAxis = this.colorAxis,\n            colorKey = this.colorKey;\n\n        H.each(this.data, function(point) {\n            var value = point[colorKey],\n                color;\n\n            color =\n                point.options.color ||\n                (!point.value // LINE CHANGED\n                    ? nullColor\n                    : colorAxis && value !== undefined\n                    ? colorAxis.toColor(value, point)\n                    : point.color || series.color);\n\n            if (color) {\n                point.color = color;\n            }\n        });\n    };\n\n    // use \"colorValue\" to calculate color\n    H.seriesTypes.sunburst.prototype.colorKey = \"colorValue\";\n\n    // Pushes part of grid to path\n    function walk(arr, key, fn) {\n        var l = arr.length,\n            children;\n\n        while (l--) {\n            children = arr[l][key];\n\n            if (children) {\n                walk(children, key, fn);\n            }\n            fn(arr[l]);\n        }\n    }\n    axisProto.render = function() {\n        // clear grid path\n        if (this.isGrouped) {\n            this.labelsGridPath = [];\n        }\n\n        // cache original tick length\n        if (this.originalTickLength === UNDEFINED) {\n            this.originalTickLength = this.options.tickLength;\n        }\n\n        // use default tickLength for not-grouped axis\n        // and generate grid on grouped axes,\n        // use tiny number to force highcharts to hide tick\n        this.options.tickLength = this.isGrouped ? 0.001 : this.originalTickLength;\n\n        protoAxisRender.call(this);\n\n        if (!this.isGrouped) {\n            if (this.labelsGrid) {\n                this.labelsGrid.attr({\n                    visibility: \"hidden\"\n                });\n            }\n            return false;\n        }\n\n        var axis = this,\n            options = axis.options,\n            visible = axis.hasVisibleSeries || axis.hasData,\n            grid = axis.labelsGrid,\n            d = axis.labelsGridPath,\n            tickWidth = axis.tickWidth;\n\n        // render grid path for the first time\n        if (!grid) {\n            grid = axis.labelsGrid = axis.chart.renderer\n                .path()\n                .attr({\n                    // #58: use tickWidth/tickColor instead of\n                    // lineWidth/lineColor:\n                    strokeWidth: tickWidth, // < 4.0.3\n                    \"stroke-width\": tickWidth, // 4.0.3+ #30\n                    stroke: options.tickColor || \"\" // for styled mode (tickColor === undefined)\n                })\n                .add(axis.axisGroup);\n            // for styled mode - add class\n            if (!options.tickColor) {\n                grid.addClass(\"highcharts-tick\");\n            }\n        }\n\n        // draw grid path\n        grid.attr({\n            d: d,\n            visibility: visible ? \"visible\" : \"hidden\"\n        });\n\n        axis.labelGroup.attr({\n            visibility: visible ? \"visible\" : \"hidden\"\n        });\n\n        walk(axis.categoriesTree, \"categories\", function(group) {\n            var tick = group.tick;\n\n            if (!tick) {\n                return false;\n            }\n            if (tick.startAt + tick.leaves - 1 < axis.min || tick.startAt > axis.max) {\n                tick.label.hide();\n                tick.destroyed = 0;\n            } else {\n                tick.label.attr({\n                    visibility: visible ? \"visible\" : \"hidden\"\n                });\n            }\n            return true;\n        });\n        return true;\n    };\n})(Highcharts);\n"],"file":"externals.js"}