{"version":3,"sources":["../../../../src/js/series/treemap/treemapControls.js"],"names":["getOrCreateElement","template","parentControls","container","onClick","text","hide","deactivated","parent","append","attr","style","html","controls","select","on","deactivate","args","length","button"],"mappings":"AAAA;;;;;;;;AASA,SAAQA,kBAAR,QAAiC,mBAAjC;AACA,OAAOC,QAAP,MAAqB,oCAArB;AAEA,OAAO,SAASC,cAAT,CAAwBC,SAAxB,EAAmC;AACtC,MAAIC,OAAO,GAAG,IAAd;AACA,MAAIC,IAAI,GAAG,IAAX;AACA,MAAIC,IAAI,GAAG,IAAX;AACA,MAAIC,WAAW,GAAG,KAAlB;AAEA,QAAMC,MAAM,GAAGR,kBAAkB,CAACG,SAAD,EAAY,kBAAZ,EAAgC,MAC7DA,SAAS,CACJM,MADL,CACY,KADZ,EAEKC,IAFL,CAEU,OAFV,EAEmB,iBAFnB,EAGKC,KAHL,CAGW,SAHX,EAGsBL,IAAI,GAAG,MAAH,GAAY,EAHtC,EAIKM,IAJL,CAIUX,QAJV,CAD6B,CAAjC;;AAQA,QAAMY,QAAQ,GAAG,MAAM;AACnBL,IAAAA,MAAM,CACDG,KADL,CACW,SADX,EACsBL,IAAI,GAAG,MAAH,GAAY,EADtC,EAEKQ,MAFL,CAEY,cAFZ,EAGKH,KAHL,CAGW,gBAHX,EAG6BJ,WAAW,GAAG,MAAH,GAAY,IAHpD,EAIKK,IAJL,CAIW,KAAIP,IAAK,EAJpB,EAKKU,EALL,CAKQ,OALR,EAKiB,MAAMX,OAAO,EAL9B;AAMH,GAPD;;AASAS,EAAAA,QAAQ,CAACG,UAAT,GAAsB,CAAC,GAAGC,IAAJ,KAAa;AAC/B,QAAI,CAACA,IAAI,CAACC,MAAV,EAAkB;AACd,aAAOX,WAAP;AACH;;AACDA,IAAAA,WAAW,GAAGU,IAAI,CAAC,CAAD,CAAlB;AAEA,UAAME,MAAM,GAAGX,MAAM,CAACM,MAAP,CAAc,cAAd,CAAf;;AACA,QAAIP,WAAJ,EAAiB;AACbY,MAAAA,MAAM,CAACR,KAAP,CAAa,gBAAb,EAA+B,MAA/B;AACH,KAFD,MAEO;AACHQ,MAAAA,MAAM,CAACR,KAAP,CAAa,gBAAb,EAA+B,IAA/B;AACH;;AAED,WAAOE,QAAP;AACH,GAdD;;AAgBAA,EAAAA,QAAQ,CAACP,IAAT,GAAgB,CAAC,GAAGW,IAAJ,KAAa;AACzB,QAAI,CAACA,IAAI,CAACC,MAAV,EAAkB;AACd,aAAOZ,IAAP;AACH;;AACDA,IAAAA,IAAI,GAAGW,IAAI,CAAC,CAAD,CAAX;AACA,WAAOJ,QAAP;AACH,GAND;;AAQAA,EAAAA,QAAQ,CAACR,IAAT,GAAgB,CAAC,GAAGY,IAAJ,KAAa;AACzB,QAAI,CAACA,IAAI,CAACC,MAAV,EAAkB;AACd,aAAOb,IAAP;AACH;;AACDA,IAAAA,IAAI,GAAGY,IAAI,CAAC,CAAD,CAAX;AACA,WAAOJ,QAAP;AACH,GAND;;AAQAA,EAAAA,QAAQ,CAACT,OAAT,GAAmB,CAAC,GAAGa,IAAJ,KAAa;AAC5B,QAAI,CAACA,IAAI,CAACC,MAAV,EAAkB;AACd,aAAOd,OAAP;AACH;;AACDA,IAAAA,OAAO,GAAGa,IAAI,CAAC,CAAD,CAAd;AACA,WAAOJ,QAAP;AACH,GAND;;AAQA,SAAOA,QAAP;AACH","sourcesContent":["/******************************************************************************\n *\n * Copyright (c) 2017, the Perspective Authors.\n *\n * This file is part of the Perspective library, distributed under the terms of\n * the Apache License 2.0.  The full license can be found in the LICENSE file.\n *\n */\n\nimport {getOrCreateElement} from \"../../utils/utils\";\nimport template from \"../../../html/parent-controls.html\";\n\nexport function parentControls(container) {\n    let onClick = null;\n    let text = null;\n    let hide = true;\n    let deactivated = false;\n\n    const parent = getOrCreateElement(container, \".parent-controls\", () =>\n        container\n            .append(\"div\")\n            .attr(\"class\", \"parent-controls\")\n            .style(\"display\", hide ? \"none\" : \"\")\n            .html(template)\n    );\n\n    const controls = () => {\n        parent\n            .style(\"display\", hide ? \"none\" : \"\")\n            .select(\"#goto-parent\")\n            .style(\"pointer-events\", deactivated ? \"none\" : null)\n            .html(`â‡ª ${text}`)\n            .on(\"click\", () => onClick());\n    };\n\n    controls.deactivate = (...args) => {\n        if (!args.length) {\n            return deactivated;\n        }\n        deactivated = args[0];\n\n        const button = parent.select(\"#goto-parent\");\n        if (deactivated) {\n            button.style(\"pointer-events\", \"none\");\n        } else {\n            button.style(\"pointer-events\", null);\n        }\n\n        return controls;\n    };\n\n    controls.hide = (...args) => {\n        if (!args.length) {\n            return hide;\n        }\n        hide = args[0];\n        return controls;\n    };\n\n    controls.text = (...args) => {\n        if (!args.length) {\n            return text;\n        }\n        text = args[0];\n        return controls;\n    };\n\n    controls.onClick = (...args) => {\n        if (!args.length) {\n            return onClick;\n        }\n        onClick = args[0];\n        return controls;\n    };\n\n    return controls;\n}\n"],"file":"treemapControls.js"}