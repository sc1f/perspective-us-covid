{"version":3,"sources":["../../../../src/js/d3fc/padding/hardLimitZero.js"],"names":["defaultPadding","fc","hardLimitZeroPadding","_defaultPadding","padding","extent","pad","padUnit","delta","Error","paddedLowerExtent","paddedUpperExtent","rebindAll"],"mappings":"AAAA;;;;;;;;AASA,SAAQA,cAAR,QAA6B,WAA7B;AACA,OAAO,KAAKC,EAAZ,MAAoB,MAApB;AAEA,OAAO,MAAMC,oBAAoB,GAAG,MAAM;AACtC,QAAMC,eAAe,GAAGH,cAAc,EAAtC;;AAEA,QAAMI,OAAO,GAAGC,MAAM,IAAI;AACtB,QAAIC,GAAG,GAAGH,eAAe,CAACG,GAAhB,EAAV;;AACA,QAAIC,OAAO,GAAGJ,eAAe,CAACI,OAAhB,EAAd;;AAEA,QAAIC,KAAK,GAAG,CAAZ;;AACA,YAAQD,OAAR;AACI,WAAK,QAAL;AAAe;AACX;AACH;;AACD,WAAK,SAAL;AAAgB;AACZC,UAAAA,KAAK,GAAGH,MAAM,CAAC,CAAD,CAAN,GAAYA,MAAM,CAAC,CAAD,CAA1B;AACA;AACH;;AACD;AACI,cAAM,IAAII,KAAJ,CAAU,sBAAsBF,OAAhC,CAAN;AATR;;AAYA,QAAIG,iBAAiB,GAAGL,MAAM,CAAC,CAAD,CAAN,GAAYC,GAAG,CAAC,CAAD,CAAH,GAASE,KAA7C;AACA,QAAIG,iBAAiB,GAAGN,MAAM,CAAC,CAAD,CAAN,GAAYC,GAAG,CAAC,CAAD,CAAH,GAASE,KAA7C,CAlBsB,CAoBtB;AACA;;AACAH,IAAAA,MAAM,CAAC,CAAD,CAAN,GAAYA,MAAM,CAAC,CAAD,CAAN,IAAa,CAAb,IAAkBK,iBAAiB,GAAG,CAAtC,GAA0C,CAA1C,GAA8CA,iBAA1D;AACAL,IAAAA,MAAM,CAAC,CAAD,CAAN,GAAYA,MAAM,CAAC,CAAD,CAAN,IAAa,CAAb,IAAkBM,iBAAiB,GAAG,CAAtC,GAA0C,CAA1C,GAA8CA,iBAA1D;AACA,WAAON,MAAP;AACH,GAzBD;;AA2BAJ,EAAAA,EAAE,CAACW,SAAH,CAAaR,OAAb,EAAsBD,eAAtB;AAEA,SAAOC,OAAP;AACH,CAjCM","sourcesContent":["/******************************************************************************\n *\n * Copyright (c) 2017, the Perspective Authors.\n *\n * This file is part of the Perspective library, distributed under the terms of\n * the Apache License 2.0.  The full license can be found in the LICENSE file.\n *\n */\n\nimport {defaultPadding} from \"./default\";\nimport * as fc from \"d3fc\";\n\nexport const hardLimitZeroPadding = () => {\n    const _defaultPadding = defaultPadding();\n\n    const padding = extent => {\n        let pad = _defaultPadding.pad();\n        let padUnit = _defaultPadding.padUnit();\n\n        let delta = 1;\n        switch (padUnit) {\n            case \"domain\": {\n                break;\n            }\n            case \"percent\": {\n                delta = extent[1] - extent[0];\n                break;\n            }\n            default:\n                throw new Error(\"Unknown padUnit: \" + padUnit);\n        }\n\n        let paddedLowerExtent = extent[0] - pad[0] * delta;\n        let paddedUpperExtent = extent[1] + pad[1] * delta;\n\n        // If datapoints are exclusively negative or exclusively positive hard\n        // limit extent to 0.\n        extent[0] = extent[0] >= 0 && paddedLowerExtent < 0 ? 0 : paddedLowerExtent;\n        extent[1] = extent[1] <= 0 && paddedUpperExtent > 0 ? 0 : paddedUpperExtent;\n        return extent;\n    };\n\n    fc.rebindAll(padding, _defaultPadding);\n\n    return padding;\n};\n"],"file":"hardLimitZero.js"}