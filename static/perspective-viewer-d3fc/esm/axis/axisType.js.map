{"version":3,"sources":["../../../src/js/axis/axisType.js"],"names":["AXIS_TYPES","none","ordinal","time","linear","axisType","settings","settingName","settingValue","excludeType","getType","checkTypes","types","list","filter","s","name","length","some","includes","type","args"],"mappings":"AAAA;;;;;;;;AASA,OAAO,MAAMA,UAAU,GAAG;AACtBC,EAAAA,IAAI,EAAE,MADgB;AAEtBC,EAAAA,OAAO,EAAE,SAFa;AAGtBC,EAAAA,IAAI,EAAE,MAHgB;AAItBC,EAAAA,MAAM,EAAE;AAJc,CAAnB;AAOP,OAAO,MAAMC,QAAQ,GAAGC,QAAQ,IAAI;AAChC,MAAIC,WAAW,GAAG,aAAlB;AACA,MAAIC,YAAY,GAAG,IAAnB;AACA,MAAIC,WAAW,GAAG,IAAlB;;AAEA,QAAMC,OAAO,GAAG,MAAM;AAClB,UAAMC,UAAU,GAAGC,KAAK,IAAI;AACxB,YAAMC,IAAI,GAAGL,YAAY,GAAGF,QAAQ,CAACC,WAAD,CAAR,CAAsBO,MAAtB,CAA6BC,CAAC,IAAIP,YAAY,IAAIO,CAAC,CAACC,IAApD,CAAH,GAA+DV,QAAQ,CAACC,WAAD,CAAhG;;AAEA,UAAIA,WAAW,IAAI,aAAf,IAAgCM,IAAI,CAACI,MAAL,GAAc,CAAlD,EAAqD;AACjD;AACA,eAAO,KAAP;AACH;;AAED,aAAOJ,IAAI,CAACK,IAAL,CAAUH,CAAC,IAAIH,KAAK,CAACO,QAAN,CAAeJ,CAAC,CAACK,IAAjB,CAAf,CAAP;AACH,KATD;;AAWA,QAAId,QAAQ,CAACC,WAAD,CAAR,CAAsBU,MAAtB,KAAiC,CAArC,EAAwC;AACpC,aAAOjB,UAAU,CAACC,IAAlB;AACH,KAFD,MAEO,IAAIQ,WAAW,IAAIT,UAAU,CAACG,IAA1B,IAAkCQ,UAAU,CAAC,CAAC,UAAD,EAAa,MAAb,CAAD,CAAhD,EAAwE;AAC3E,aAAOX,UAAU,CAACG,IAAlB;AACH,KAFM,MAEA,IAAIM,WAAW,IAAIT,UAAU,CAACI,MAA1B,IAAoCO,UAAU,CAAC,CAAC,SAAD,EAAY,OAAZ,CAAD,CAAlD,EAA0E;AAC7E,aAAOX,UAAU,CAACI,MAAlB;AACH;;AAED,QAAIK,WAAW,IAAIT,UAAU,CAACE,OAA9B,EAAuC;AACnC,aAAOF,UAAU,CAACI,MAAlB;AACH;;AACD,WAAOJ,UAAU,CAACE,OAAlB;AACH,GAxBD;;AA0BAQ,EAAAA,OAAO,CAACH,WAAR,GAAsB,CAAC,GAAGc,IAAJ,KAAa;AAC/B,QAAI,CAACA,IAAI,CAACJ,MAAV,EAAkB;AACd,aAAOV,WAAP;AACH;;AACDA,IAAAA,WAAW,GAAGc,IAAI,CAAC,CAAD,CAAlB;AACA,WAAOX,OAAP;AACH,GAND;;AAQAA,EAAAA,OAAO,CAACF,YAAR,GAAuB,CAAC,GAAGa,IAAJ,KAAa;AAChC,QAAI,CAACA,IAAI,CAACJ,MAAV,EAAkB;AACd,aAAOT,YAAP;AACH;;AACDA,IAAAA,YAAY,GAAGa,IAAI,CAAC,CAAD,CAAnB;AACA,WAAOX,OAAP;AACH,GAND;;AAQAA,EAAAA,OAAO,CAACD,WAAR,GAAsB,CAAC,GAAGY,IAAJ,KAAa;AAC/B,QAAI,CAACA,IAAI,CAACJ,MAAV,EAAkB;AACd,aAAOR,WAAP;AACH;;AACDA,IAAAA,WAAW,GAAGY,IAAI,CAAC,CAAD,CAAlB;AACA,WAAOX,OAAP;AACH,GAND;;AAQA,SAAOA,OAAP;AACH,CAxDM","sourcesContent":["/******************************************************************************\r\n *\r\n * Copyright (c) 2017, the Perspective Authors.\r\n *\r\n * This file is part of the Perspective library, distributed under the terms of\r\n * the Apache License 2.0.  The full license can be found in the LICENSE file.\r\n *\r\n */\r\n\r\nexport const AXIS_TYPES = {\r\n    none: \"none\",\r\n    ordinal: \"ordinal\",\r\n    time: \"time\",\r\n    linear: \"linear\"\r\n};\r\n\r\nexport const axisType = settings => {\r\n    let settingName = \"crossValues\";\r\n    let settingValue = null;\r\n    let excludeType = null;\r\n\r\n    const getType = () => {\r\n        const checkTypes = types => {\r\n            const list = settingValue ? settings[settingName].filter(s => settingValue == s.name) : settings[settingName];\r\n\r\n            if (settingName == \"crossValues\" && list.length > 1) {\r\n                // can't do multiple values on non-ordinal cross-axis\r\n                return false;\r\n            }\r\n\r\n            return list.some(s => types.includes(s.type));\r\n        };\r\n\r\n        if (settings[settingName].length === 0) {\r\n            return AXIS_TYPES.none;\r\n        } else if (excludeType != AXIS_TYPES.time && checkTypes([\"datetime\", \"date\"])) {\r\n            return AXIS_TYPES.time;\r\n        } else if (excludeType != AXIS_TYPES.linear && checkTypes([\"integer\", \"float\"])) {\r\n            return AXIS_TYPES.linear;\r\n        }\r\n\r\n        if (excludeType == AXIS_TYPES.ordinal) {\r\n            return AXIS_TYPES.linear;\r\n        }\r\n        return AXIS_TYPES.ordinal;\r\n    };\r\n\r\n    getType.settingName = (...args) => {\r\n        if (!args.length) {\r\n            return settingName;\r\n        }\r\n        settingName = args[0];\r\n        return getType;\r\n    };\r\n\r\n    getType.settingValue = (...args) => {\r\n        if (!args.length) {\r\n            return settingValue;\r\n        }\r\n        settingValue = args[0];\r\n        return getType;\r\n    };\r\n\r\n    getType.excludeType = (...args) => {\r\n        if (!args.length) {\r\n            return excludeType;\r\n        }\r\n        excludeType = args[0];\r\n        return getType;\r\n    };\r\n\r\n    return getType;\r\n};\r\n"],"file":"axisType.js"}