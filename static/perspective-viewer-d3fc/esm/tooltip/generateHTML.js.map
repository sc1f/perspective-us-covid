{"version":3,"sources":["../../../src/js/tooltip/generateHTML.js"],"names":["select","getGroupValues","getSplitValues","getDataValues","get_type_config","generateHtml","tooltipDiv","data","settings","tooltipValues","concat","addDataValues","values","selectAll","join","each","d","text","name","append","formatNumber","value","toLocaleString","undefined","style","minimumFractionDigits","precision","maximumFractionDigits"],"mappings":"AAAA;;;;;;;;AAQA,SAAQA,MAAR,QAAqB,IAArB;AACA,SAAQC,cAAR,EAAwBC,cAAxB,EAAwCC,aAAxC,QAA4D,iBAA5D;AACA,SAAQC,eAAR,QAA8B,oCAA9B;AAEA,OAAO,SAASC,YAAT,CAAsBC,UAAtB,EAAkCC,IAAlC,EAAwCC,QAAxC,EAAkD;AACrD,QAAMC,aAAa,GAAGR,cAAc,CAACM,IAAD,EAAOC,QAAP,CAAd,CACjBE,MADiB,CACVR,cAAc,CAACK,IAAD,EAAOC,QAAP,CADJ,EAEjBE,MAFiB,CAEVP,aAAa,CAACI,IAAD,EAAOC,QAAP,CAFH,CAAtB;AAGAG,EAAAA,aAAa,CAACL,UAAD,EAAaG,aAAb,CAAb;AACH;;AAED,SAASE,aAAT,CAAuBL,UAAvB,EAAmCM,MAAnC,EAA2C;AACvCN,EAAAA,UAAU,CACLN,MADL,CACY,iBADZ,EAEKa,SAFL,CAEe,IAFf,EAGKN,IAHL,CAGUK,MAHV,EAIKE,IAJL,CAIU,IAJV,EAKKC,IALL,CAKU,UAASC,CAAT,EAAY;AACdhB,IAAAA,MAAM,CAAC,IAAD,CAAN,CACKiB,IADL,CACW,GAAED,CAAC,CAACE,IAAK,IADpB,EAEKC,MAFL,CAEY,GAFZ,EAGKF,IAHL,CAGUG,YAAY,CAACJ,CAAC,CAACK,KAAH,CAHtB;AAIH,GAVL;AAWH;;AAED,MAAMD,YAAY,GAAGC,KAAK,IACtBA,KAAK,CAACC,cAAN,CAAqBC,SAArB,EAAgC;AAC5BC,EAAAA,KAAK,EAAE,SADqB;AAE5BC,EAAAA,qBAAqB,EAAErB,eAAe,CAAC,OAAD,CAAf,CAAyBsB,SAFpB;AAG5BC,EAAAA,qBAAqB,EAAEvB,eAAe,CAAC,OAAD,CAAf,CAAyBsB;AAHpB,CAAhC,CADJ","sourcesContent":["/******************************************************************************\n *\n * Copyright (c) 2017, the Perspective Authors.\n *\n * This file is part of the Perspective library, distributed under the terms of\n * the Apache License 2.0.  The full license can be found in the LICENSE file.\n *\n */\nimport {select} from \"d3\";\nimport {getGroupValues, getSplitValues, getDataValues} from \"./selectionData\";\nimport {get_type_config} from \"@finos/perspective/dist/esm/config\";\n\nexport function generateHtml(tooltipDiv, data, settings) {\n    const tooltipValues = getGroupValues(data, settings)\n        .concat(getSplitValues(data, settings))\n        .concat(getDataValues(data, settings));\n    addDataValues(tooltipDiv, tooltipValues);\n}\n\nfunction addDataValues(tooltipDiv, values) {\n    tooltipDiv\n        .select(\"#tooltip-values\")\n        .selectAll(\"li\")\n        .data(values)\n        .join(\"li\")\n        .each(function(d) {\n            select(this)\n                .text(`${d.name}: `)\n                .append(\"b\")\n                .text(formatNumber(d.value));\n        });\n}\n\nconst formatNumber = value =>\n    value.toLocaleString(undefined, {\n        style: \"decimal\",\n        minimumFractionDigits: get_type_config(\"float\").precision,\n        maximumFractionDigits: get_type_config(\"float\").precision\n    });\n"],"file":"generateHTML.js"}