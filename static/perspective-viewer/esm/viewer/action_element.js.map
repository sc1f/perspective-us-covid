{"version":3,"sources":["../../../src/js/viewer/action_element.js"],"names":["dragend","column_dragend","column_dragleave","column_dragover","column_drop","drop","dragenter","dragover","dragleave","DomElement","ActionElement","_show_context_menu","event","shadowRoot","querySelector","classList","toggle","stopPropagation","preventDefault","_hide_context_menu","remove","_toggle_config","button","_show_config","panel","_pre_resize","clientWidth","_side_panel","clientHeight","_top_panel","style","display","removeAttribute","dispatchEvent","CustomEvent","detail","_post_resize","toggleAttribute","width","height","post","pre","undefined","_datavis","document","hidden","offsetParent","_plugin","resize","call","_open_computed_expression_editor","stopImmediatePropagation","_computed_expression_editor","expressions","length","_disable_remove_button","_enable_remove_button","_side_panel_actions","_observe_textarea","_save_computed_expression","expression","computed_columns","_get_view_computed_columns","includes","console","warn","push","setAttribute","JSON","stringify","_type_check_computed_expression","parsed","parsed_expression","_type_check_expression","functions","col","column","computed_function_name","schema","_table","computed_schema","expected_types","key","get_computation_input_types","_clear_all_computed_expressions","_set_computed_expression","_column_visibility_clicked","ev","parent","currentTarget","is_active","parentElement","getAttribute","min_columns","initial","count","_get_view_active_valid_column_count","shiftKey","child","Array","prototype","slice","_active_columns","children","removeChild","index","indexOf","names","insertBefore","_new_row","selectMode","row","cols","_get_view_active_columns","i","contains","appendChild","replaceChild","_check_responsive_layout","_update_column_view","_column_aggregate_clicked","aggregates","get_aggregate_attribute","new_aggregates","_get_view_aggregates","aggregate","updated_agg","find","x","op","set_aggregate_attribute","_debounce_update","_column_filter_clicked","new_filters","_get_view_filters","_updating_filter","_increment_sort","sort","column_sorting","abs_sorting","sort_orders","map","_sort_order_clicked","target","new_sort_order","_get_view_column_pivots","_get_view_sorts","_transpose","has_row","hasAttribute","has_col","row_pivots","column_pivots","_reset_sidepanel","_resize_sidepanel","body","cursor","start","clientX","offsetWidth","new_width","Math","max","min","notifyResize","stop","removeEventListener","addEventListener","_vis_selector_changed","_plugin_information","add","_vis_selector","value","classname","_register_callbacks","_sort","bind","_row_pivots","_column_pivots","_filters","_add_computed_expression_button","_config_button","_reset_button","reset","_copy_button","copy","_download_button","download","_transpose_button","_drop_target","_resize_bar","_plugin_information_action","ignore_size_check","limit_points","_plugin_information_action_close"],"mappings":"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","sourcesContent":["/******************************************************************************\n *\n * Copyright (c) 2018, the Perspective Authors.\n *\n * This file is part of the Perspective library, distributed under the terms of\n * the Apache License 2.0.  The full license can be found in the LICENSE file.\n *\n */\n\nimport {dragend, column_dragend, column_dragleave, column_dragover, column_drop, drop, dragenter, dragover, dragleave} from \"./dragdrop.js\";\n\nimport {DomElement} from \"./dom_element.js\";\n\nexport class ActionElement extends DomElement {\n    _show_context_menu(event) {\n        this.shadowRoot.querySelector(\"#app\").classList.toggle(\"show_menu\");\n        event.stopPropagation();\n        event.preventDefault();\n        return false;\n    }\n\n    _hide_context_menu() {\n        this.shadowRoot.querySelector(\"#app\").classList.remove(\"show_menu\");\n    }\n\n    async _toggle_config(event) {\n        if (!event || event.button !== 2) {\n            this._show_config = !this._show_config;\n            this._hide_context_menu();\n            const panel = this.shadowRoot.querySelector(\"#pivot_chart_container\");\n            if (!this._show_config) {\n                await this._pre_resize(\n                    panel.clientWidth + this._side_panel.clientWidth,\n                    panel.clientHeight + this._top_panel.clientHeight,\n                    () => {\n                        this._side_panel.style.display = \"none\";\n                        this._top_panel.style.display = \"none\";\n                        this.removeAttribute(\"settings\");\n                    },\n                    () => this.dispatchEvent(new CustomEvent(\"perspective-toggle-settings\", {detail: this._show_config}))\n                );\n            } else {\n                await this._post_resize(\n                    () => {\n                        this.toggleAttribute(\"settings\", true);\n                    },\n                    () => {\n                        this._side_panel.style.display = \"flex\";\n                        this._top_panel.style.display = \"flex\";\n                        this.dispatchEvent(new CustomEvent(\"perspective-toggle-settings\", {detail: this._show_config}));\n                    }\n                );\n            }\n        }\n    }\n\n    /**\n     * Given a targe `width` and `height`, pre-size the plugin before modifying\n     * the HTML to reduce visual tearing.\n     *\n     * @private\n     * @param {*} width\n     * @param {*} height\n     * @param {*} post Function to run once action is complete\n     * @param {*} [pre=undefined] Function to run once visual effects have been\n     * applied.  This may be before `post`, as pre-sizing will be delayed when\n     * the target size is a sub-window of the current view.\n     * @memberof ActionElement\n     */\n    async _pre_resize(width, height, post, pre = undefined) {\n        this._datavis.style.width = `${width}px`;\n        this._datavis.style.height = `${height}px`;\n        try {\n            if (!document.hidden && this.offsetParent) {\n                await this._plugin.resize.call(this);\n            }\n        } finally {\n            pre?.();\n            this._datavis.style.width = \"100%\";\n            this._datavis.style.height = \"100%\";\n            post();\n        }\n    }\n\n    async _post_resize(post, pre) {\n        pre?.();\n        try {\n            if (!document.hidden && this.offsetParent) {\n                await this._plugin.resize.call(this);\n            }\n        } finally {\n            post();\n        }\n    }\n\n    /**\n     * Display the computed expressions panel.\n     *\n     * @param {*} event\n     */\n    _open_computed_expression_editor(event) {\n        event.stopImmediatePropagation();\n        if (this._computed_expression_editor.expressions.length == 0) {\n            this._computed_expression_editor._disable_remove_button();\n        } else {\n            this._computed_expression_editor._enable_remove_button();\n        }\n        this._computed_expression_editor.style.display = \"flex\";\n        this._side_panel_actions.style.display = \"none\";\n        this._computed_expression_editor._observe_textarea();\n    }\n\n    /**\n     * Given an expression (in the `detail` property of the\n     * `perspective-computed-expression-save` event), retrieve the viewer's\n     * `computed-columns` array and append the new expression to be parsed.\n     *\n     * @param {*} event\n     */\n    _save_computed_expression(event) {\n        const expression = event.detail.expression;\n\n        // `computed-columns` stores the raw expression typed by the user.\n        let computed_columns = this._get_view_computed_columns();\n\n        if (computed_columns.includes(expression)) {\n            console.warn(`\"${expression}\" was not applied because it already exists.`);\n            return;\n        }\n\n        computed_columns.push(expression);\n\n        this.setAttribute(\"computed-columns\", JSON.stringify(computed_columns));\n    }\n\n    async _type_check_computed_expression(event) {\n        const parsed = event.detail.parsed_expression || [];\n        if (parsed.length === 0) {\n            this._computed_expression_editor._type_check_expression({});\n            return;\n        }\n        const functions = {};\n        for (const col of parsed) {\n            functions[col.column] = col.computed_function_name;\n        }\n        const schema = await this._table.computed_schema(parsed);\n        // Look at the failing values, and get their expected types\n        const expected_types = {};\n        for (const key in functions) {\n            if (!schema[key]) {\n                expected_types[key] = await this._table.get_computation_input_types(functions[key]);\n            }\n        }\n\n        this._computed_expression_editor._type_check_expression(schema, expected_types);\n    }\n\n    /**\n     * Remove all computed expressions from the DOM.\n     */\n    _clear_all_computed_expressions() {\n        this.setAttribute(\"computed-columns\", JSON.stringify([]));\n    }\n\n    _set_computed_expression(event) {\n        return event;\n    }\n\n    _column_visibility_clicked(ev) {\n        const parent = ev.currentTarget;\n        const is_active = parent.parentElement.getAttribute(\"id\") === \"active_columns\";\n        if (is_active) {\n            const min_columns = this._plugin.initial?.count || 1;\n            if (this._get_view_active_valid_column_count() === min_columns) {\n                return;\n            }\n            if (ev.detail.shiftKey) {\n                for (let child of Array.prototype.slice.call(this._active_columns.children)) {\n                    if (child !== parent) {\n                        this._active_columns.removeChild(child);\n                    }\n                }\n            } else {\n                const index = Array.prototype.slice.call(this._active_columns.children).indexOf(parent);\n                if (index < this._plugin.initial?.count) {\n                    return;\n                } else if (index < this._plugin.initial?.names?.length - 1) {\n                    this._active_columns.insertBefore(this._new_row(null), parent);\n                }\n                this._active_columns.removeChild(parent);\n            }\n        } else {\n            if ((ev.detail.shiftKey && this._plugin.selectMode === \"toggle\") || (!ev.detail.shiftKey && this._plugin.selectMode === \"select\")) {\n                for (let child of Array.prototype.slice.call(this._active_columns.children)) {\n                    this._active_columns.removeChild(child);\n                }\n            }\n            let row = this._new_row(parent.getAttribute(\"name\"), parent.getAttribute(\"type\"));\n            const cols = this._get_view_active_columns();\n            let i = cols.length - 1;\n            if (!cols[i] || !cols[i]?.classList.contains(\"null-column\")) {\n                this._active_columns.appendChild(row);\n            } else\n                while (i-- > 0) {\n                    if (!cols[i].classList.contains(\"null-column\")) {\n                        this._active_columns.replaceChild(row, cols[i + 1]);\n                        break;\n                    }\n                }\n        }\n        this._check_responsive_layout();\n        this._update_column_view();\n    }\n\n    _column_aggregate_clicked() {\n        let aggregates = this.get_aggregate_attribute();\n        let new_aggregates = this._get_view_aggregates();\n        for (let aggregate of aggregates) {\n            let updated_agg = new_aggregates.find(x => x.column === aggregate.column);\n            if (updated_agg) {\n                aggregate.op = updated_agg.op;\n            }\n        }\n        this.set_aggregate_attribute(aggregates);\n        this._update_column_view();\n        this._debounce_update();\n    }\n\n    _column_filter_clicked() {\n        let new_filters = this._get_view_filters();\n        this._updating_filter = true;\n        this.setAttribute(\"filters\", JSON.stringify(new_filters));\n        this._updating_filter = false;\n        this._debounce_update();\n    }\n\n    _increment_sort(sort, column_sorting, abs_sorting) {\n        let sort_orders = [\"asc\", \"desc\"];\n        if (column_sorting) {\n            sort_orders.push(\"col asc\", \"col desc\");\n        }\n        if (abs_sorting) {\n            sort_orders = sort_orders.map(x => `${x} abs`);\n        }\n        sort_orders.push(\"none\");\n        return sort_orders[(sort_orders.indexOf(sort) + 1) % sort_orders.length];\n    }\n\n    _sort_order_clicked(event) {\n        const row = event.target;\n        const abs_sorting = event.detail.shiftKey && row.getAttribute(\"type\") !== \"string\";\n        const new_sort_order = this._increment_sort(row.getAttribute(\"sort-order\"), this._get_view_column_pivots().length > 0, abs_sorting);\n        row.setAttribute(\"sort-order\", new_sort_order);\n\n        const sort = this._get_view_sorts();\n        this.setAttribute(\"sort\", JSON.stringify(sort));\n    }\n\n    // edits state\n    _transpose() {\n        const has_row = this.hasAttribute(\"row-pivots\");\n        const has_col = this.hasAttribute(\"column-pivots\");\n        if (has_row && has_col) {\n            let row_pivots = this.getAttribute(\"row-pivots\");\n            this.setAttribute(\"row-pivots\", this.getAttribute(\"column-pivots\"));\n            this.setAttribute(\"column-pivots\", row_pivots);\n        } else if (has_row) {\n            let row_pivots = this.getAttribute(\"row-pivots\");\n            this.removeAttribute(\"row-pivots\");\n            this.setAttribute(\"column-pivots\", row_pivots);\n        } else if (has_col) {\n            let column_pivots = this.getAttribute(\"column-pivots\");\n            this.removeAttribute(\"column-pivots\");\n            this.setAttribute(\"row-pivots\", column_pivots);\n        } else {\n            this.removeAttribute(\"column-pivots\");\n            this.removeAttribute(\"row-pivots\");\n        }\n    }\n\n    _reset_sidepanel() {\n        this._side_panel.style.width = \"\";\n    }\n\n    _resize_sidepanel(event) {\n        const initial = document.body.style.cursor;\n        document.body.style.cursor = \"col-resize\";\n        const start = event.clientX;\n        const width = this._side_panel.offsetWidth;\n        const resize = event => {\n            const new_width = Math.max(0, Math.min(width + (event.clientX - start), this.offsetWidth - 10));\n            this._side_panel.style.width = `${new_width}px`;\n            if (this._plugin) {\n                this.notifyResize();\n            }\n        };\n        const stop = () => {\n            document.body.style.cursor = initial;\n            document.removeEventListener(\"mousemove\", resize);\n            document.removeEventListener(\"mouseup\", stop);\n        };\n        document.addEventListener(\"mousemove\", resize);\n        document.addEventListener(\"mouseup\", stop);\n    }\n\n    _vis_selector_changed() {\n        this._plugin_information.classList.add(\"hidden\");\n        this.setAttribute(\"plugin\", this._vis_selector.value);\n        this._active_columns.classList.remove(\"one_lock\", \"two_lock\");\n        const classname = [\"one_lock\", \"two_lock\"][this._plugin.initial?.count - 1];\n        if (classname) {\n            this._active_columns.classList.add(classname);\n        }\n        this._debounce_update();\n    }\n\n    // most of these are drag and drop handlers - how to clean up?\n    _register_callbacks() {\n        this._sort.addEventListener(\"drop\", drop.bind(this));\n        this._sort.addEventListener(\"dragend\", dragend.bind(this));\n        this._sort.addEventListener(\"dragenter\", dragenter.bind(this));\n        this._sort.addEventListener(\"dragover\", dragover.bind(this));\n        this._sort.addEventListener(\"dragleave\", dragleave.bind(this));\n        this._row_pivots.addEventListener(\"drop\", drop.bind(this));\n        this._row_pivots.addEventListener(\"dragend\", dragend.bind(this));\n        this._row_pivots.addEventListener(\"dragenter\", dragenter.bind(this));\n        this._row_pivots.addEventListener(\"dragover\", dragover.bind(this));\n        this._row_pivots.addEventListener(\"dragleave\", dragleave.bind(this));\n        this._column_pivots.addEventListener(\"drop\", drop.bind(this));\n        this._column_pivots.addEventListener(\"dragend\", dragend.bind(this));\n        this._column_pivots.addEventListener(\"dragenter\", dragenter.bind(this));\n        this._column_pivots.addEventListener(\"dragover\", dragover.bind(this));\n        this._column_pivots.addEventListener(\"dragleave\", dragleave.bind(this));\n        this._filters.addEventListener(\"drop\", drop.bind(this));\n        this._filters.addEventListener(\"dragend\", dragend.bind(this));\n        this._filters.addEventListener(\"dragenter\", dragenter.bind(this));\n        this._filters.addEventListener(\"dragover\", dragover.bind(this));\n        this._filters.addEventListener(\"dragleave\", dragleave.bind(this));\n        this._active_columns.addEventListener(\"drop\", column_drop.bind(this));\n        this._active_columns.addEventListener(\"dragenter\", dragenter.bind(this));\n        this._active_columns.addEventListener(\"dragend\", column_dragend.bind(this));\n        this._active_columns.addEventListener(\"dragover\", column_dragover.bind(this));\n        this._active_columns.addEventListener(\"dragleave\", column_dragleave.bind(this));\n        this._add_computed_expression_button.addEventListener(\"click\", this._open_computed_expression_editor.bind(this));\n        this._computed_expression_editor.addEventListener(\"perspective-computed-expression-save\", this._save_computed_expression.bind(this));\n        this._computed_expression_editor.addEventListener(\"perspective-computed-expression-resize\", this._reset_sidepanel.bind(this));\n        this._computed_expression_editor.addEventListener(\"perspective-computed-expression-type-check\", this._type_check_computed_expression.bind(this));\n        this._computed_expression_editor.addEventListener(\"perspective-computed-expression-remove\", this._clear_all_computed_expressions.bind(this));\n        this._computed_expression_editor.addEventListener(\"perspective-computed-expression-update\", this._set_computed_expression.bind(this));\n        this._config_button.addEventListener(\"mousedown\", this._toggle_config.bind(this));\n        this._config_button.addEventListener(\"contextmenu\", this._show_context_menu.bind(this));\n        this._reset_button.addEventListener(\"click\", this.reset.bind(this));\n        this._copy_button.addEventListener(\"click\", event => this.copy(event.shiftKey));\n        this._download_button.addEventListener(\"click\", event => this.download(event.shiftKey));\n        this._transpose_button.addEventListener(\"click\", this._transpose.bind(this));\n        this._drop_target.addEventListener(\"dragover\", dragover.bind(this));\n        this._resize_bar.addEventListener(\"mousedown\", this._resize_sidepanel.bind(this));\n        this._resize_bar.addEventListener(\"dblclick\", this._reset_sidepanel.bind(this));\n\n        this._vis_selector.addEventListener(\"change\", this._vis_selector_changed.bind(this));\n\n        this._plugin_information_action.addEventListener(\"click\", () => {\n            this._debounce_update({ignore_size_check: true, limit_points: false});\n            this._plugin_information.classList.add(\"hidden\");\n        });\n\n        this._plugin_information_action_close.addEventListener(\"click\", () => {\n            this._plugin_information.classList.add(\"hidden\");\n        });\n    }\n}\n"],"file":"action_element.js"}