!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n=e();for(var r in n)("object"==typeof exports?exports:t)[r]=n[r]}}(window,(function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=129)}([function(t,e,n){"use strict";function r(t){return t&&0===t.length}function o(t){return null==t?[]:Object.keys(t)}function i(t){for(var e=[],n=Object.keys(t),r=0;r<n.length;r++)e.push(t[n[r]]);return e}function s(t,e){for(var n=[],r=o(t),i=0;i<r.length;i++){var s=r[i];n.push(e.call(null,t[s],s))}return n}function a(t,e){for(var n=[],r=0;r<t.length;r++)n.push(e.call(null,t[r],r));return n}function c(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];Array.isArray(r)?e=e.concat(c(r)):e.push(r)}return e}function u(t){return r(t)?void 0:t[0]}function l(t){var e=t&&t.length;return e?t[e-1]:void 0}function h(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++)e.call(null,t[n],n);else{if(!k(t))throw Error("non exhaustive match");var r=o(t);for(n=0;n<r.length;n++){var i=r[n],s=t[i];e.call(null,s,i)}}}function p(t){return"string"==typeof t}function d(t){return void 0===t}function f(t){return t instanceof Function}function _(t,e){return void 0===e&&(e=1),t.slice(e,t.length)}function m(t,e){return void 0===e&&(e=1),t.slice(0,t.length-e)}function v(t,e){var n=[];if(Array.isArray(t))for(var r=0;r<t.length;r++){var o=t[r];e.call(null,o)&&n.push(o)}return n}function g(t,e){return v(t,(function(t){return!e(t)}))}function y(t,e){for(var n=Object.keys(t),r={},o=0;o<n.length;o++){var i=n[o],s=t[i];e(s)&&(r[i]=s)}return r}function b(t,e){return!!k(t)&&t.hasOwnProperty(e)}function w(t,e){return void 0!==x(t,(function(t){return t===e}))}function E(t){for(var e=[],n=0;n<t.length;n++)e.push(t[n]);return e}function O(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function x(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(e.call(null,r))return r}}function T(t,e){for(var n=[],r=0;r<t.length;r++){var o=t[r];e.call(null,o)&&n.push(o)}return n}function A(t,e,n){for(var r=Array.isArray(t),s=r?t:i(t),a=r?[]:o(t),c=n,u=0;u<s.length;u++)c=e.call(null,c,s[u],r?u:a[u]);return c}function S(t){return g(t,(function(t){return null==t}))}function N(t,e){void 0===e&&(e=function(t){return t});var n=[];return A(t,(function(t,r){var o=e(r);return w(n,o)?t:(n.push(o),t.concat(r))}),[])}function C(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=[null].concat(e);return Function.bind.apply(t,r)}function I(t){return Array.isArray(t)}function R(t){return t instanceof RegExp}function k(t){return t instanceof Object}function L(t,e){for(var n=0;n<t.length;n++)if(!e(t[n],n))return!1;return!0}function j(t,e){return g(t,(function(t){return w(e,t)}))}function P(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return!0;return!1}function M(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1}function D(t,e){var n=E(t);return n.sort((function(t,n){return e(t)-e(n)})),n}function U(t,e){if(t.length!==e.length)throw Error("can't zipObject with different number of keys and values!");for(var n={},r=0;r<t.length;r++)n[t[r]]=e[r];return n}function F(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0;r<e.length;r++)for(var i=e[r],s=o(i),a=0;a<s.length;a++){var c=s[a];t[c]=i[c]}return t}function B(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0;r<e.length;r++){var i=e[r];if(!d(i))for(var s=o(i),a=0;a<s.length;a++){var c=s[a];b(t,c)||(t[c]=i[c])}}return t}function z(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return B.apply(null,[{}].concat(t))}function H(t,e){var n={};return h(t,(function(t){var r=e(t),o=n[r];o?o.push(t):n[r]=[t]})),n}function q(t,e){for(var n=O(t),r=o(e),i=0;i<r.length;i++){var s=r[i],a=e[s];n[s]=a}return n}function W(){}function V(t){return t}function G(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];e.push(void 0!==r?r:void 0)}return e}function K(t){console&&console.error&&console.error("Error: "+t)}function Y(t){console&&console.warn&&console.warn("Warning: "+t)}function X(){return"function"==typeof Map}function J(t,e){e.forEach((function(e){var n=e.prototype;Object.getOwnPropertyNames(n).forEach((function(r){if("constructor"!==r){var o=Object.getOwnPropertyDescriptor(n,r);o&&(o.get||o.set)?Object.defineProperty(t.prototype,r,o):t.prototype[r]=e.prototype[r]}}))}))}function $(t){function e(){}e.prototype=t;var n=new e;function r(){return typeof n.bar}return r(),r(),t}function Z(t){return t[t.length-1]}function Q(t){var e=(new Date).getTime(),n=t();return{time:(new Date).getTime()-e,value:n}}n.d(e,"A",(function(){return r})),n.d(e,"G",(function(){return o})),n.d(e,"U",(function(){return i})),n.d(e,"J",(function(){return s})),n.d(e,"I",(function(){return a})),n.d(e,"t",(function(){return c})),n.d(e,"s",(function(){return u})),n.d(e,"H",(function(){return l})),n.d(e,"u",(function(){return h})),n.d(e,"E",(function(){return p})),n.d(e,"F",(function(){return d})),n.d(e,"B",(function(){return f})),n.d(e,"m",(function(){return _})),n.d(e,"n",(function(){return m})),n.d(e,"p",(function(){return v})),n.d(e,"P",(function(){return g})),n.d(e,"N",(function(){return y})),n.d(e,"w",(function(){return b})),n.d(e,"j",(function(){return w})),n.d(e,"g",(function(){return E})),n.d(e,"h",(function(){return O})),n.d(e,"q",(function(){return x})),n.d(e,"r",(function(){return T})),n.d(e,"O",(function(){return A})),n.d(e,"i",(function(){return S})),n.d(e,"T",(function(){return N})),n.d(e,"y",(function(){return I})),n.d(e,"D",(function(){return R})),n.d(e,"C",(function(){return k})),n.d(e,"o",(function(){return L})),n.d(e,"l",(function(){return j})),n.d(e,"Q",(function(){return P})),n.d(e,"x",(function(){return M})),n.d(e,"f",(function(){return F})),n.d(e,"k",(function(){return z})),n.d(e,"v",(function(){return H})),n.d(e,"K",(function(){return q})),n.d(e,"b",(function(){return W})),n.d(e,"a",(function(){return V})),n.d(e,"L",(function(){return G})),n.d(e,"c",(function(){return K})),n.d(e,"d",(function(){return Y})),n.d(e,"z",(function(){return X})),n.d(e,"e",(function(){return J})),n.d(e,"S",(function(){return $})),n.d(e,"M",(function(){return Z})),n.d(e,"R",(function(){return Q}))},function(t,e,n){(function(e){var n=function(t){return t&&t.Math==Math&&t};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof e&&e)||Function("return this")()}).call(this,n(25))},function(t,e,n){var r=n(1),o=n(81),i=n(5),s=n(58),a=n(84),c=n(130),u=o("wks"),l=r.Symbol,h=c?l:l&&l.withoutSetter||s;t.exports=function(t){return i(u,t)||(a&&i(l,t)?u[t]=l[t]:u[t]=h("Symbol."+t)),u[t]}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){var r=n(7);t.exports=function(t){if(!r(t))throw TypeError(String(t)+" is not an object");return t}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var r=n(22),o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){var r=n(1),o=n(42).f,i=n(11),s=n(14),a=n(56),c=n(92),u=n(64);t.exports=function(t,e){var n,l,h,p,d,f=t.target,_=t.global,m=t.stat;if(n=_?r:m?r[f]||a(f,{}):(r[f]||{}).prototype)for(l in e){if(p=e[l],h=t.noTargetGet?(d=o(n,l))&&d.value:n[l],!u(_?l:f+(m?".":"#")+l,t.forced)&&void 0!==h){if(typeof p==typeof h)continue;c(p,h)}(t.sham||h&&h.sham)&&i(p,"sham",!0),s(n,l,p,t)}}},function(t,e,n){var r=n(3);t.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(t,e,n){var r=n(9),o=n(83),i=n(4),s=n(40),a=Object.defineProperty;e.f=r?a:function(t,e,n){if(i(t),e=s(e,!0),i(n),o)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var r=n(9),o=n(10),i=n(26);t.exports=r?function(t,e,n){return o.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},,function(t,e,n){"use strict";var r=n(39),o=n(80),i=n(33),s=n(16),a=n(90),c=s.set,u=s.getterFor("Array Iterator");t.exports=a(Array,"Array",(function(t,e){c(this,{type:"Array Iterator",target:r(t),index:0,kind:e})}),(function(){var t=u(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}}),"values"),i.Arguments=i.Array,o("keys"),o("values"),o("entries")},function(t,e,n){var r=n(1),o=n(11),i=n(5),s=n(56),a=n(63),c=n(16),u=c.get,l=c.enforce,h=String(String).split("String");(t.exports=function(t,e,n,a){var c=!!a&&!!a.unsafe,u=!!a&&!!a.enumerable,p=!!a&&!!a.noTargetGet;"function"==typeof n&&("string"!=typeof e||i(n,"name")||o(n,"name",e),l(n).source=h.join("string"==typeof e?e:"")),t!==r?(c?!p&&t[e]&&(u=!0):delete t[e],u?t[e]=n:o(t,e,n)):u?t[e]=n:s(e,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&u(this).source||a(this)}))},function(t,e,n){var r=n(112),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();t.exports=i},function(t,e,n){var r,o,i,s=n(132),a=n(1),c=n(7),u=n(11),l=n(5),h=n(62),p=n(60),d=a.WeakMap;if(s){var f=new d,_=f.get,m=f.has,v=f.set;r=function(t,e){return v.call(f,t,e),e},o=function(t){return _.call(f,t)||{}},i=function(t){return m.call(f,t)}}else{var g=h("state");p[g]=!0,r=function(t,e){return u(t,g,e),e},o=function(t){return l(t,g)?t[g]:{}},i=function(t){return l(t,g)}}t.exports={set:r,get:o,has:i,enforce:function(t){return i(t)?o(t):r(t,{})},getterFor:function(t){return function(e){var n;if(!c(e)||(n=o(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}}},function(t,e,n){var r=n(19);t.exports=function(t){return Object(r(t))}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},function(t,e,n){var r=n(1),o=n(136),i=n(13),s=n(11),a=n(2),c=a("iterator"),u=a("toStringTag"),l=i.values;for(var h in o){var p=r[h],d=p&&p.prototype;if(d){if(d[c]!==l)try{s(d,c,l)}catch(t){d[c]=l}if(d[u]||s(d,u,h),o[h])for(var f in i)if(d[f]!==i[f])try{s(d,f,i[f])}catch(t){d[f]=i[f]}}}},function(t,e,n){var r,o,i;"undefined"!=typeof self&&self,o=[],void 0===(i="function"==typeof(r=function(){function t(){}t.prototype.saveState=function(){return{idx:this.idx,input:this.input,groupIdx:this.groupIdx}},t.prototype.restoreState=function(t){this.idx=t.idx,this.input=t.input,this.groupIdx=t.groupIdx},t.prototype.pattern=function(t){this.idx=0,this.input=t,this.groupIdx=0,this.consumeChar("/");var e=this.disjunction();this.consumeChar("/");for(var n={type:"Flags",global:!1,ignoreCase:!1,multiLine:!1,unicode:!1,sticky:!1};this.isRegExpFlag();)switch(this.popChar()){case"g":a(n,"global");break;case"i":a(n,"ignoreCase");break;case"m":a(n,"multiLine");break;case"u":a(n,"unicode");break;case"y":a(n,"sticky")}if(this.idx!==this.input.length)throw Error("Redundant input: "+this.input.substring(this.idx));return{type:"Pattern",flags:n,value:e}},t.prototype.disjunction=function(){var t=[];for(t.push(this.alternative());"|"===this.peekChar();)this.consumeChar("|"),t.push(this.alternative());return{type:"Disjunction",value:t}},t.prototype.alternative=function(){for(var t=[];this.isTerm();)t.push(this.term());return{type:"Alternative",value:t}},t.prototype.term=function(){return this.isAssertion()?this.assertion():this.atom()},t.prototype.assertion=function(){switch(this.popChar()){case"^":return{type:"StartAnchor"};case"$":return{type:"EndAnchor"};case"\\":switch(this.popChar()){case"b":return{type:"WordBoundary"};case"B":return{type:"NonWordBoundary"}}throw Error("Invalid Assertion Escape");case"(":var t;switch(this.consumeChar("?"),this.popChar()){case"=":t="Lookahead";break;case"!":t="NegativeLookahead"}c(t);var e=this.disjunction();return this.consumeChar(")"),{type:t,value:e}}!function(){throw Error("Internal Error - Should never get here!")}()},t.prototype.quantifier=function(t){var e;switch(this.popChar()){case"*":e={atLeast:0,atMost:1/0};break;case"+":e={atLeast:1,atMost:1/0};break;case"?":e={atLeast:0,atMost:1};break;case"{":var n=this.integerIncludingZero();switch(this.popChar()){case"}":e={atLeast:n,atMost:n};break;case",":e=this.isDigit()?{atLeast:n,atMost:this.integerIncludingZero()}:{atLeast:n,atMost:1/0},this.consumeChar("}")}if(!0===t&&void 0===e)return;c(e)}if(!0!==t||void 0!==e)return c(e),"?"===this.peekChar(0)?(this.consumeChar("?"),e.greedy=!1):e.greedy=!0,e.type="Quantifier",e},t.prototype.atom=function(){var t;switch(this.peekChar()){case".":t=this.dotAll();break;case"\\":t=this.atomEscape();break;case"[":t=this.characterClass();break;case"(":t=this.group()}return void 0===t&&this.isPatternCharacter()&&(t=this.patternCharacter()),c(t),this.isQuantifier()&&(t.quantifier=this.quantifier()),t},t.prototype.dotAll=function(){return this.consumeChar("."),{type:"Set",complement:!0,value:[i("\n"),i("\r"),i("\u2028"),i("\u2029")]}},t.prototype.atomEscape=function(){switch(this.consumeChar("\\"),this.peekChar()){case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return this.decimalEscapeAtom();case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}},t.prototype.decimalEscapeAtom=function(){return{type:"GroupBackReference",value:this.positiveInteger()}},t.prototype.characterClassEscape=function(){var t,e=!1;switch(this.popChar()){case"d":t=u;break;case"D":t=u,e=!0;break;case"s":t=h;break;case"S":t=h,e=!0;break;case"w":t=l;break;case"W":t=l,e=!0}return c(t),{type:"Set",value:t,complement:e}},t.prototype.controlEscapeAtom=function(){var t;switch(this.popChar()){case"f":t=i("\f");break;case"n":t=i("\n");break;case"r":t=i("\r");break;case"t":t=i("\t");break;case"v":t=i("\v")}return c(t),{type:"Character",value:t}},t.prototype.controlLetterEscapeAtom=function(){this.consumeChar("c");var t=this.popChar();if(!1===/[a-zA-Z]/.test(t))throw Error("Invalid ");return{type:"Character",value:t.toUpperCase().charCodeAt(0)-64}},t.prototype.nulCharacterAtom=function(){return this.consumeChar("0"),{type:"Character",value:i("\0")}},t.prototype.hexEscapeSequenceAtom=function(){return this.consumeChar("x"),this.parseHexDigits(2)},t.prototype.regExpUnicodeEscapeSequenceAtom=function(){return this.consumeChar("u"),this.parseHexDigits(4)},t.prototype.identityEscapeAtom=function(){return{type:"Character",value:i(this.popChar())}},t.prototype.classPatternCharacterAtom=function(){switch(this.peekChar()){case"\n":case"\r":case"\u2028":case"\u2029":case"\\":case"]":throw Error("TBD");default:return{type:"Character",value:i(this.popChar())}}},t.prototype.characterClass=function(){var t=[],e=!1;for(this.consumeChar("["),"^"===this.peekChar(0)&&(this.consumeChar("^"),e=!0);this.isClassAtom();){var n=this.classAtom();if("Character"===n.type&&this.isRangeDash()){this.consumeChar("-");var r=this.classAtom();if("Character"===r.type){if(r.value<n.value)throw Error("Range out of order in character class");t.push({from:n.value,to:r.value})}else s(n.value,t),t.push(i("-")),s(r.value,t)}else s(n.value,t)}return this.consumeChar("]"),{type:"Set",complement:e,value:t}},t.prototype.classAtom=function(){switch(this.peekChar()){case"]":case"\n":case"\r":case"\u2028":case"\u2029":throw Error("TBD");case"\\":return this.classEscape();default:return this.classPatternCharacterAtom()}},t.prototype.classEscape=function(){switch(this.consumeChar("\\"),this.peekChar()){case"b":return this.consumeChar("b"),{type:"Character",value:i("\b")};case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}},t.prototype.group=function(){var t=!0;switch(this.consumeChar("("),this.peekChar(0)){case"?":this.consumeChar("?"),this.consumeChar(":"),t=!1;break;default:this.groupIdx++}var e=this.disjunction();this.consumeChar(")");var n={type:"Group",capturing:t,value:e};return t&&(n.idx=this.groupIdx),n},t.prototype.positiveInteger=function(){var t=this.popChar();if(!1===o.test(t))throw Error("Expecting a positive integer");for(;r.test(this.peekChar(0));)t+=this.popChar();return parseInt(t,10)},t.prototype.integerIncludingZero=function(){var t=this.popChar();if(!1===r.test(t))throw Error("Expecting an integer");for(;r.test(this.peekChar(0));)t+=this.popChar();return parseInt(t,10)},t.prototype.patternCharacter=function(){var t=this.popChar();switch(t){case"\n":case"\r":case"\u2028":case"\u2029":case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":throw Error("TBD");default:return{type:"Character",value:i(t)}}},t.prototype.isRegExpFlag=function(){switch(this.peekChar(0)){case"g":case"i":case"m":case"u":case"y":return!0;default:return!1}},t.prototype.isRangeDash=function(){return"-"===this.peekChar()&&this.isClassAtom(1)},t.prototype.isDigit=function(){return r.test(this.peekChar(0))},t.prototype.isClassAtom=function(t){switch(void 0===t&&(t=0),this.peekChar(t)){case"]":case"\n":case"\r":case"\u2028":case"\u2029":return!1;default:return!0}},t.prototype.isTerm=function(){return this.isAtom()||this.isAssertion()},t.prototype.isAtom=function(){if(this.isPatternCharacter())return!0;switch(this.peekChar(0)){case".":case"\\":case"[":case"(":return!0;default:return!1}},t.prototype.isAssertion=function(){switch(this.peekChar(0)){case"^":case"$":return!0;case"\\":switch(this.peekChar(1)){case"b":case"B":return!0;default:return!1}case"(":return"?"===this.peekChar(1)&&("="===this.peekChar(2)||"!"===this.peekChar(2));default:return!1}},t.prototype.isQuantifier=function(){var t=this.saveState();try{return void 0!==this.quantifier(!0)}catch(t){return!1}finally{this.restoreState(t)}},t.prototype.isPatternCharacter=function(){switch(this.peekChar()){case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":case"/":case"\n":case"\r":case"\u2028":case"\u2029":return!1;default:return!0}},t.prototype.parseHexDigits=function(t){for(var e="",r=0;r<t;r++){var o=this.popChar();if(!1===n.test(o))throw Error("Expecting a HexDecimal digits");e+=o}return{type:"Character",value:parseInt(e,16)}},t.prototype.peekChar=function(t){return void 0===t&&(t=0),this.input[this.idx+t]},t.prototype.popChar=function(){var t=this.peekChar(0);return this.consumeChar(),t},t.prototype.consumeChar=function(t){if(void 0!==t&&this.input[this.idx]!==t)throw Error("Expected: '"+t+"' but found: '"+this.input[this.idx]+"' at offset: "+this.idx);if(this.idx>=this.input.length)throw Error("Unexpected end of input");this.idx++};var e,n=/[0-9a-fA-F]/,r=/[0-9]/,o=/[1-9]/;function i(t){return t.charCodeAt(0)}function s(t,e){void 0!==t.length?t.forEach((function(t){e.push(t)})):e.push(t)}function a(t,e){if(!0===t[e])throw"duplicate flag "+e;t[e]=!0}function c(t){if(void 0===t)throw Error("Internal Error - Should never get here!")}var u=[];for(e=i("0");e<=i("9");e++)u.push(e);var l=[i("_")].concat(u);for(e=i("a");e<=i("z");e++)l.push(e);for(e=i("A");e<=i("Z");e++)l.push(e);var h=[i(" "),i("\f"),i("\n"),i("\r"),i("\t"),i("\v"),i("\t"),i("\xa0"),i("\u1680"),i("\u2000"),i("\u2001"),i("\u2002"),i("\u2003"),i("\u2004"),i("\u2005"),i("\u2006"),i("\u2007"),i("\u2008"),i("\u2009"),i("\u200a"),i("\u2028"),i("\u2029"),i("\u202f"),i("\u205f"),i("\u3000"),i("\ufeff")];function p(){}return p.prototype.visitChildren=function(t){for(var e in t){var n=t[e];t.hasOwnProperty(e)&&(void 0!==n.type?this.visit(n):Array.isArray(n)&&n.forEach((function(t){this.visit(t)}),this))}},p.prototype.visit=function(t){switch(t.type){case"Pattern":this.visitPattern(t);break;case"Flags":this.visitFlags(t);break;case"Disjunction":this.visitDisjunction(t);break;case"Alternative":this.visitAlternative(t);break;case"StartAnchor":this.visitStartAnchor(t);break;case"EndAnchor":this.visitEndAnchor(t);break;case"WordBoundary":this.visitWordBoundary(t);break;case"NonWordBoundary":this.visitNonWordBoundary(t);break;case"Lookahead":this.visitLookahead(t);break;case"NegativeLookahead":this.visitNegativeLookahead(t);break;case"Character":this.visitCharacter(t);break;case"Set":this.visitSet(t);break;case"Group":this.visitGroup(t);break;case"GroupBackReference":this.visitGroupBackReference(t);break;case"Quantifier":this.visitQuantifier(t)}this.visitChildren(t)},p.prototype.visitPattern=function(t){},p.prototype.visitFlags=function(t){},p.prototype.visitDisjunction=function(t){},p.prototype.visitAlternative=function(t){},p.prototype.visitStartAnchor=function(t){},p.prototype.visitEndAnchor=function(t){},p.prototype.visitWordBoundary=function(t){},p.prototype.visitNonWordBoundary=function(t){},p.prototype.visitLookahead=function(t){},p.prototype.visitNegativeLookahead=function(t){},p.prototype.visitCharacter=function(t){},p.prototype.visitSet=function(t){},p.prototype.visitGroup=function(t){},p.prototype.visitGroupBackReference=function(t){},p.prototype.visitQuantifier=function(t){},{RegExpParser:t,BaseRegExpVisitor:p,VERSION:"0.4.0"}})?r.apply(e,o):r)||(t.exports=i)},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){var r=n(29);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){(function(e){n(13),n(137),n(20);const r=n(138).default,o=n(139).default;function i(t){return t&&"object"==typeof t&&!Array.isArray(t)}function s(t,...e){if(!e.length)return t;const n=e.shift();if(i(t)&&i(n))for(const e in n)i(n[e])?(t[e]||Object.assign(t,{[e]:{}}),s(t[e],n[e])):Object.assign(t,{[e]:n[e]});return s(t,...e)}t.exports.get_types=function(){return Object.keys(t.exports.get_config().types)},t.exports.get_type_config=function(e){const n={};if(t.exports.get_config().types[e]&&Object.assign(n,t.exports.get_config().types[e]),n.type){const e=t.exports.get_type_config(n.type);return Object.assign(e,n),e}return n},e.__PERSPECTIVE_CONFIG__=void 0,t.exports.override_config=function(t){e.__PERSPECTIVE_CONFIG__&&console.warn("Config already initialized!"),e.__PERSPECTIVE_CONFIG__=s(r,t)},t.exports.get_config=function(){return e.__PERSPECTIVE_CONFIG__||(e.__PERSPECTIVE_CONFIG__=s(r,"undefined"==typeof window?o():{types:{float:{filter_operator:"==",aggregate:"sum",format:{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}},string:{filter_operator:"==",aggregate:"count"},integer:{filter_operator:"==",aggregate:"sum",format:{}},boolean:{filter_operator:"==",aggregate:"count"},datetime:{filter_operator:"==",aggregate:"count",format:{week:"numeric",year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},null_value:-1},date:{filter_operator:"==",aggregate:"count",format:{week:"numeric",year:"numeric",month:"numeric",day:"numeric"},null_value:-1}}}||{})),e.__PERSPECTIVE_CONFIG__}}).call(this,n(25))},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var r=n(89),o=n(1),i=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?i(r[t])||i(o[t]):r[t]&&r[t][e]||o[t]&&o[t][e]}},function(t,e,n){var r=n(10).f,o=n(5),i=n(2)("toStringTag");t.exports=function(t,e,n){t&&!o(t=n?t:t.prototype,i)&&r(t,i,{configurable:!0,value:e})}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},function(t,e,n){"use strict";var r,o,i,s,a=n(8),c=n(32),u=n(1),l=n(27),h=n(143),p=n(14),d=n(65),f=n(28),_=n(67),m=n(7),v=n(29),g=n(35),y=n(18),b=n(63),w=n(144),E=n(102),O=n(66),x=n(103).set,T=n(146),A=n(147),S=n(148),N=n(106),C=n(149),I=n(16),R=n(64),k=n(2),L=n(150),j=k("species"),P="Promise",M=I.get,D=I.set,U=I.getterFor(P),F=h,B=u.TypeError,z=u.document,H=u.process,q=l("fetch"),W=N.f,V=W,G="process"==y(H),K=!!(z&&z.createEvent&&u.dispatchEvent),Y=R(P,(function(){if(!(b(F)!==String(F))){if(66===L)return!0;if(!G&&"function"!=typeof PromiseRejectionEvent)return!0}if(c&&!F.prototype.finally)return!0;if(L>=51&&/native code/.test(F))return!1;var t=F.resolve(1),e=function(t){t((function(){}),(function(){}))};return(t.constructor={})[j]=e,!(t.then((function(){}))instanceof e)})),X=Y||!E((function(t){F.all(t).catch((function(){}))})),J=function(t){var e;return!(!m(t)||"function"!=typeof(e=t.then))&&e},$=function(t,e,n){if(!e.notified){e.notified=!0;var r=e.reactions;T((function(){for(var o=e.value,i=1==e.state,s=0;r.length>s;){var a,c,u,l=r[s++],h=i?l.ok:l.fail,p=l.resolve,d=l.reject,f=l.domain;try{h?(i||(2===e.rejection&&et(t,e),e.rejection=1),!0===h?a=o:(f&&f.enter(),a=h(o),f&&(f.exit(),u=!0)),a===l.promise?d(B("Promise-chain cycle")):(c=J(a))?c.call(a,p,d):p(a)):d(o)}catch(t){f&&!u&&f.exit(),d(t)}}e.reactions=[],e.notified=!1,n&&!e.rejection&&Q(t,e)}))}},Z=function(t,e,n){var r,o;K?((r=z.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),u.dispatchEvent(r)):r={promise:e,reason:n},(o=u["on"+t])?o(r):"unhandledrejection"===t&&S("Unhandled promise rejection",n)},Q=function(t,e){x.call(u,(function(){var n,r=e.value;if(tt(e)&&(n=C((function(){G?H.emit("unhandledRejection",r,t):Z("unhandledrejection",t,r)})),e.rejection=G||tt(e)?2:1,n.error))throw n.value}))},tt=function(t){return 1!==t.rejection&&!t.parent},et=function(t,e){x.call(u,(function(){G?H.emit("rejectionHandled",t):Z("rejectionhandled",t,e.value)}))},nt=function(t,e,n,r){return function(o){t(e,n,o,r)}},rt=function(t,e,n,r){e.done||(e.done=!0,r&&(e=r),e.value=n,e.state=2,$(t,e,!0))},ot=function(t,e,n,r){if(!e.done){e.done=!0,r&&(e=r);try{if(t===n)throw B("Promise can't be resolved itself");var o=J(n);o?T((function(){var r={done:!1};try{o.call(n,nt(ot,t,r,e),nt(rt,t,r,e))}catch(n){rt(t,r,n,e)}})):(e.value=n,e.state=1,$(t,e,!1))}catch(n){rt(t,{done:!1},n,e)}}};Y&&(F=function(t){g(this,F,P),v(t),r.call(this);var e=M(this);try{t(nt(ot,this,e),nt(rt,this,e))}catch(t){rt(this,e,t)}},(r=function(t){D(this,{type:P,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=d(F.prototype,{then:function(t,e){var n=U(this),r=W(O(this,F));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=G?H.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&$(this,n,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new r,e=M(t);this.promise=t,this.resolve=nt(ot,t,e),this.reject=nt(rt,t,e)},N.f=W=function(t){return t===F||t===i?new o(t):V(t)},c||"function"!=typeof h||(s=h.prototype.then,p(h.prototype,"then",(function(t,e){var n=this;return new F((function(t,e){s.call(n,t,e)})).then(t,e)}),{unsafe:!0}),"function"==typeof q&&a({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return A(F,q.apply(u,arguments))}}))),a({global:!0,wrap:!0,forced:Y},{Promise:F}),f(F,P,!1,!0),_(P),i=l(P),a({target:P,stat:!0,forced:Y},{reject:function(t){var e=W(this);return e.reject.call(void 0,t),e.promise}}),a({target:P,stat:!0,forced:c||Y},{resolve:function(t){return A(c&&this===i?F:this,t)}}),a({target:P,stat:!0,forced:X},{all:function(t){var e=this,n=W(e),r=n.resolve,o=n.reject,i=C((function(){var n=v(e.resolve),i=[],s=0,a=1;w(t,(function(t){var c=s++,u=!1;i.push(void 0),a++,n.call(e,t).then((function(t){u||(u=!0,i[c]=t,--a||r(i))}),o)})),--a||r(i)}));return i.error&&o(i.value),n.promise},race:function(t){var e=this,n=W(e),r=n.reject,o=C((function(){var o=v(e.resolve);w(t,(function(t){o.call(e,t).then(n.resolve,r)}))}));return o.error&&r(o.value),n.promise}})},function(t,e,n){var r=n(182),o=n(185);t.exports=function(t,e){var n=o(t,e);return r(n)?n:void 0}},function(t,e){t.exports=!1},function(t,e){t.exports={}},function(t,e,n){var r=n(4),o=n(135);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(t){}return function(n,i){return r(n),o(i),e?t.call(n,i):n.__proto__=i,n}}():void 0)},function(t,e){t.exports=function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t}},function(t,e,n){var r=n(45),o=n(33),i=n(2)("iterator");t.exports=function(t){if(null!=t)return t[i]||t["@@iterator"]||o[r(t)]}},function(t,e,n){var r=n(76),o=n(160),i=n(161),s="[object Null]",a="[object Undefined]",c=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?a:s:c&&c in Object(t)?o(t):i(t)}},function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t}},function(t,e,n){var r=n(55),o=n(19);t.exports=function(t){return r(o(t))}},function(t,e,n){var r=n(7);t.exports=function(t,e){if(!r(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!r(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){var r,o=n(4),i=n(85),s=n(61),a=n(60),c=n(88),u=n(57),l=n(62),h=l("IE_PROTO"),p=function(){},d=function(t){return"<script>"+t+"<\/script>"},f=function(){try{r=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;f=r?function(t){t.write(d("")),t.close();var e=t.parentWindow.Object;return t=null,e}(r):((e=u("iframe")).style.display="none",c.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(d("document.F=Object")),t.close(),t.F);for(var n=s.length;n--;)delete f.prototype[s[n]];return f()};a[h]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(p.prototype=o(t),n=new p,p.prototype=null,n[h]=t):n=f(),void 0===e?n:i(n,e)}},function(t,e,n){var r=n(9),o=n(91),i=n(26),s=n(39),a=n(40),c=n(5),u=n(83),l=Object.getOwnPropertyDescriptor;e.f=r?l:function(t,e){if(t=s(t),e=a(e,!0),u)try{return l(t,e)}catch(t){}if(c(t,e))return i(!o.f.call(t,e),t[e])}},function(t,e,n){var r=n(87),o=n(61).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,o)}},function(t,e,n){var r=n(5),o=n(17),i=n(62),s=n(134),a=i("IE_PROTO"),c=Object.prototype;t.exports=s?Object.getPrototypeOf:function(t){return t=o(t),r(t,a)?t[a]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?c:null}},function(t,e,n){var r=n(145),o=n(18),i=n(2)("toStringTag"),s="Arguments"==o(function(){return arguments}());t.exports=r?o:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),i))?n:s?o(e):"Object"==(r=o(e))&&"function"==typeof e.callee?"Arguments":r}},function(t,e,n){"use strict";var r,o,i=n(71),s=n(107),a=RegExp.prototype.exec,c=String.prototype.replace,u=a,l=(r=/a/,o=/b*/g,a.call(r,"a"),a.call(o,"a"),0!==r.lastIndex||0!==o.lastIndex),h=s.UNSUPPORTED_Y||s.BROKEN_CARET,p=void 0!==/()??/.exec("")[1];(l||p||h)&&(u=function(t){var e,n,r,o,s=this,u=h&&s.sticky,d=i.call(s),f=s.source,_=0,m=t;return u&&(-1===(d=d.replace("y","")).indexOf("g")&&(d+="g"),m=String(t).slice(s.lastIndex),s.lastIndex>0&&(!s.multiline||s.multiline&&"\n"!==t[s.lastIndex-1])&&(f="(?: "+f+")",m=" "+m,_++),n=new RegExp("^(?:"+f+")",d)),p&&(n=new RegExp("^"+f+"$(?!\\s)",d)),l&&(e=s.lastIndex),r=a.call(u?n:s,m),u?r?(r.input=r.input.slice(_),r[0]=r[0].slice(_),r.index=s.lastIndex,s.lastIndex+=r[0].length):s.lastIndex=0:l&&r&&(s.lastIndex=s.global?r.index+r[0].length:e),p&&r&&r.length>1&&c.call(r[0],n,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(r[o]=void 0)})),r}),t.exports=u},function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},function(t,e,n){var r=n(172),o=n(173),i=n(174),s=n(175),a=n(176);function c(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=s,c.prototype.set=a,t.exports=c},function(t,e,n){var r=n(114);t.exports=function(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}},function(t,e,n){var r=n(31)(Object,"create");t.exports=r},function(t,e,n){var r=n(194);t.exports=function(t,e){var n=t.__data__;return r(e)?n["string"==typeof e?"string":"hash"]:n.map}},function(t,e,n){"use strict";var r,o=n(99),i=n(9),s=n(1),a=n(7),c=n(5),u=n(45),l=n(11),h=n(14),p=n(10).f,d=n(44),f=n(34),_=n(2),m=n(58),v=s.Int8Array,g=v&&v.prototype,y=s.Uint8ClampedArray,b=y&&y.prototype,w=v&&d(v),E=g&&d(g),O=Object.prototype,x=O.isPrototypeOf,T=_("toStringTag"),A=m("TYPED_ARRAY_TAG"),S=o&&!!f&&"Opera"!==u(s.opera),N=!1,C={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},I=function(t){return a(t)&&c(C,u(t))};for(r in C)s[r]||(S=!1);if((!S||"function"!=typeof w||w===Function.prototype)&&(w=function(){throw TypeError("Incorrect invocation")},S))for(r in C)s[r]&&f(s[r],w);if((!S||!E||E===O)&&(E=w.prototype,S))for(r in C)s[r]&&f(s[r].prototype,E);if(S&&d(b)!==E&&f(b,E),i&&!c(E,T))for(r in N=!0,p(E,T,{get:function(){return a(this)?this[A]:void 0}}),C)s[r]&&l(s[r],A,r);t.exports={NATIVE_ARRAY_BUFFER_VIEWS:S,TYPED_ARRAY_TAG:N&&A,aTypedArray:function(t){if(I(t))return t;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(t){if(f){if(x.call(w,t))return t}else for(var e in C)if(c(C,r)){var n=s[e];if(n&&(t===n||x.call(n,t)))return t}throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(t,e,n){if(i){if(n)for(var r in C){var o=s[r];o&&c(o.prototype,t)&&delete o.prototype[t]}E[t]&&!n||h(E,t,n?e:S&&g[t]||e)}},exportTypedArrayStaticMethod:function(t,e,n){var r,o;if(i){if(f){if(n)for(r in C)(o=s[r])&&c(o,t)&&delete o[t];if(w[t]&&!n)return;try{return h(w,t,n?e:S&&v[t]||e)}catch(t){}}for(r in C)!(o=s[r])||o[t]&&!n||h(o,t,e)}},isView:function(t){var e=u(t);return"DataView"===e||c(C,e)},isTypedArray:I,TypedArray:w,TypedArrayPrototype:E}},function(t,e,n){"use strict";n(13),n(20),n(30),n(108),n(69);const r=new WeakMap;let o=0;function i(t,e){return function(){let n,o=()=>{},i=Array.prototype.slice.call(arguments,0,arguments.length);for(let t=i.length-1;t>=0;t--)"function"==typeof i[t]&&(n=i.splice(t,1)[0]);const s=r.get(n);r.delete(n);let a={cmd:e||"view_method",name:this._name,method:t,args:i,subscribe:!0,callback_id:s};this._worker.post(a,n,o),this._worker.unsubscribe(e,n)}}function s(t,e){return function(){let n,i=()=>{},s=Array.prototype.slice.call(arguments,0,arguments.length);for(let t=s.length-1;t>=0;t--)"function"==typeof s[t]&&(n=s.splice(t,1)[0]);o++,r.set(n,o);let a={cmd:e||"view_method",name:this._name,method:t,args:s,subscribe:!0,callback_id:o};this._worker.post(a,n,i,!0)}}function a(t,e){return function(){var n=Array.prototype.slice.call(arguments,0,arguments.length);return new Promise(function(r,o){var i={cmd:e||"view_method",name:this._name,method:t,args:n,subscribe:!1};this._worker.post(i,r,o)}.bind(this))}}n(109),n(110);function c(t){let e=t;do{for(const n of Object.getOwnPropertyNames(e)){const e=t[n];"constructor"!==n&&"function"==typeof e&&(t[n]=e.bind(t))}}while(e=e!==Object&&Object.getPrototypeOf(e))}n(154);function u(t,e,n){this._worker=t,this._name=Math.random()+"";var r={cmd:"view",view_name:this._name,table_name:e,config:n};this._worker.post(r),c(this)}function l(t,e){this._worker=t,this._name=e}function h(t,e,n){this._worker=t;let r=n.name||Math.random()+"";if(this._name=r,c(this),e.to_arrow){var o={cmd:"table",name:r,args:[],options:n||{}};this._worker.post(o),e.to_arrow().then(t=>{var o={cmd:"table",name:r,args:[t],options:n||{}};this._worker.post(o),e.on_update(this.update,{mode:"row"})})}else{o={cmd:"table",name:r,args:[e],options:n||{}};this._worker.post(o)}}function p(t,e){this._worker=t,this._name=e}String.prototype.includes||(String.prototype.includes=function(t,e){return"number"!=typeof e&&(e=0),!(e+t.length>this.length)&&-1!==this.indexOf(t,e)}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(t,e){if(null==this)throw new TypeError('"this" is null or not defined');var n=Object(this),r=n.length>>>0;if(0===r)return!1;var o,i,s=0|e,a=Math.max(s>=0?s:r-Math.abs(s),0);for(;a<r;){if((o=n[a])===(i=t)||"number"==typeof o&&"number"==typeof i&&isNaN(o)&&isNaN(i))return!0;a++}return!1}}),l.prototype=u.prototype,u.prototype.get_config=a("get_config"),u.prototype.to_json=a("to_json"),u.prototype.to_arrow=a("to_arrow"),u.prototype.to_columns=a("to_columns"),u.prototype.to_csv=a("to_csv"),u.prototype.schema=a("schema"),u.prototype.computed_schema=a("computed_schema"),u.prototype.column_paths=a("column_paths"),u.prototype.num_columns=a("num_columns"),u.prototype.num_rows=a("num_rows"),u.prototype.set_depth=a("set_depth"),u.prototype.get_row_expanded=a("get_row_expanded"),u.prototype.expand=a("expand"),u.prototype.collapse=a("collapse"),u.prototype.delete=a("delete"),u.prototype.col_to_js_typed_array=a("col_to_js_typed_array"),u.prototype.on_update=s("on_update","view_method"),u.prototype.remove_update=i("remove_update","view_method"),u.prototype.on_delete=s("on_delete","view_method"),u.prototype.remove_delete=i("remove_delete","view_method"),h.prototype.type="table",p.prototype=h.prototype,h.prototype.view=function(t){return new u(this._worker,this._name,t)},h.prototype.compute=a("compute","table_method"),h.prototype.schema=a("schema","table_method"),h.prototype.computed_schema=a("computed_schema","table_method"),h.prototype.get_computation_input_types=a("get_computation_input_types","table_method"),h.prototype.get_computed_functions=a("get_computed_functions","table_method"),h.prototype.is_valid_filter=a("is_valid_filter","table_method"),h.prototype.size=a("size","table_method"),h.prototype.columns=a("columns","table_method"),h.prototype.clear=a("clear","table_method"),h.prototype.replace=a("replace","table_method"),h.prototype.delete=a("delete","table_method"),h.prototype.on_delete=s("on_delete","table_method"),h.prototype.remove=a("remove","table_method"),h.prototype.remove_delete=i("remove_delete","table_method"),h.prototype.update=function(t){return new Promise((e,n)=>{var r={name:this._name,cmd:"table_method",method:"update",args:[t]};this._worker.post(r,e,n,!1)})},h.prototype.execute=function(t){var e={cmd:"table_execute",name:this._name,f:t.toString()};this._worker.post(e)},n.d(e,"a",(function(){return d}));class d{constructor(){this._initialized=!1,this._worker={initialized:{value:!1},transferable:!1,msg_id:0,handlers:{},messages:[]},c(this)}unsubscribe(t,e){for(let t of Object.keys(this._worker.handlers))this._worker.handlers[t].resolve===e&&delete this._worker.handlers[t]}post(t,e,n,r=!1){(e||n)&&(this._worker.handlers[++this._worker.msg_id]={resolve:e,reject:n,keep_alive:r}),t.id=this._worker.msg_id,this._worker.initialized.value?this.send(t):this._worker.messages.push(()=>this.send(t))}initialize_profile_thread(){this._worker.initialized.value?this.send({id:-1,cmd:"init_profile_thread"}):this._worker.messages.push(()=>this.send({id:-1,cmd:"init_profile_thread"}))}send(){throw new Error("send() not implemented")}open_table(t){return new p(this,t)}open_view(t){return new l(this,t)}_handle(t){if(!this._worker.initialized.value){if(!this._initialized&&"undefined"!=typeof document&&document&&void 0!==typeof window&&window){try{const t=document.createEvent("Event");t.initEvent("perspective-ready",!1,!0),window.dispatchEvent(t)}catch(t){}this._initialized=!0}const e=this._worker.messages;if(this._worker.initialized.value=!0,this._worker.messages=[],e)for(const t in e)e.hasOwnProperty(t)&&e[t]()}if(t.data.id){var e=this._worker.handlers[t.data.id];e&&(t.data.error?e.reject(t.data.error):e.resolve(t.data.data),e.keep_alive||delete this._worker.handlers[t.data.id])}}table(t,e){return new h(this,t,e||{})}terminate(){this._worker.terminate(),this._worker=void 0}}},function(t,e,n){var r=n(111);t.exports=r.publicPath(n.p)+"psp.async.wasm"},function(t,e,n){var r=n(3),o=n(18),i="".split;t.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==o(t)?i.call(t,""):Object(t)}:Object},function(t,e,n){var r=n(1),o=n(11);t.exports=function(t,e){try{o(r,t,e)}catch(n){r[t]=e}return e}},function(t,e,n){var r=n(1),o=n(7),i=r.document,s=o(i)&&o(i.createElement);t.exports=function(t){return s?i.createElement(t):{}}},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++n+r).toString(36)}},function(t,e,n){var r=n(22),o=Math.max,i=Math.min;t.exports=function(t,e){var n=r(t);return n<0?o(n+e,0):i(n,e)}},function(t,e){t.exports={}},function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(t,e,n){var r=n(81),o=n(58),i=r("keys");t.exports=function(t){return i[t]||(i[t]=o(t))}},function(t,e,n){var r=n(82),o=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(t){return o.call(t)}),t.exports=r.inspectSource},function(t,e,n){var r=n(3),o=/#|\.prototype\./,i=function(t,e){var n=a[s(t)];return n==u||n!=c&&("function"==typeof e?r(e):!!e)},s=i.normalize=function(t){return String(t).replace(o,".").toLowerCase()},a=i.data={},c=i.NATIVE="N",u=i.POLYFILL="P";t.exports=i},function(t,e,n){var r=n(14);t.exports=function(t,e,n){for(var o in e)r(t,o,e[o],n);return t}},function(t,e,n){var r=n(4),o=n(29),i=n(2)("species");t.exports=function(t,e){var n,s=r(t).constructor;return void 0===s||null==(n=r(s)[i])?e:o(n)}},function(t,e,n){"use strict";var r=n(27),o=n(10),i=n(2),s=n(9),a=i("species");t.exports=function(t){var e=r(t),n=o.f;s&&e&&!e[a]&&n(e,a,{configurable:!0,get:function(){return this}})}},function(t,e,n){var r=n(2),o=n(33),i=r("iterator"),s=Array.prototype;t.exports=function(t){return void 0!==t&&(o.Array===t||s[i]===t)}},function(t,e,n){"use strict";var r=n(70),o=n(4),i=n(17),s=n(6),a=n(22),c=n(19),u=n(72),l=n(74),h=Math.max,p=Math.min,d=Math.floor,f=/\$([$&'`]|\d\d?|<[^>]*>)/g,_=/\$([$&'`]|\d\d?)/g;r("replace",2,(function(t,e,n,r){var m=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,v=r.REPLACE_KEEPS_$0,g=m?"$":"$0";return[function(n,r){var o=c(this),i=null==n?void 0:n[t];return void 0!==i?i.call(n,o,r):e.call(String(o),n,r)},function(t,r){if(!m&&v||"string"==typeof r&&-1===r.indexOf(g)){var i=n(e,t,this,r);if(i.done)return i.value}var c=o(t),d=String(this),f="function"==typeof r;f||(r=String(r));var _=c.global;if(_){var b=c.unicode;c.lastIndex=0}for(var w=[];;){var E=l(c,d);if(null===E)break;if(w.push(E),!_)break;""===String(E[0])&&(c.lastIndex=u(d,s(c.lastIndex),b))}for(var O,x="",T=0,A=0;A<w.length;A++){E=w[A];for(var S=String(E[0]),N=h(p(a(E.index),d.length),0),C=[],I=1;I<E.length;I++)C.push(void 0===(O=E[I])?O:String(O));var R=E.groups;if(f){var k=[S].concat(C,N,d);void 0!==R&&k.push(R);var L=String(r.apply(void 0,k))}else L=y(S,d,N,C,R,r);N>=T&&(x+=d.slice(T,N)+L,T=N+S.length)}return x+d.slice(T)}];function y(t,n,r,o,s,a){var c=r+t.length,u=o.length,l=_;return void 0!==s&&(s=i(s),l=f),e.call(a,l,(function(e,i){var a;switch(i.charAt(0)){case"$":return"$";case"&":return t;case"`":return n.slice(0,r);case"'":return n.slice(c);case"<":a=s[i.slice(1,-1)];break;default:var l=+i;if(0===l)return e;if(l>u){var h=d(l/10);return 0===h?e:h<=u?void 0===o[h-1]?i.charAt(1):o[h-1]+i.charAt(1):e}a=o[l-1]}return void 0===a?"":a}))}}))},function(t,e,n){"use strict";n(151);var r=n(14),o=n(3),i=n(2),s=n(46),a=n(11),c=i("species"),u=!o((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),l="$0"==="a".replace(/./,"$0"),h=i("replace"),p=!!/./[h]&&""===/./[h]("a","$0"),d=!o((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));t.exports=function(t,e,n,h){var f=i(t),_=!o((function(){var e={};return e[f]=function(){return 7},7!=""[t](e)})),m=_&&!o((function(){var e=!1,n=/a/;return"split"===t&&((n={}).constructor={},n.constructor[c]=function(){return n},n.flags="",n[f]=/./[f]),n.exec=function(){return e=!0,null},n[f](""),!e}));if(!_||!m||"replace"===t&&(!u||!l||p)||"split"===t&&!d){var v=/./[f],g=n(f,""[t],(function(t,e,n,r,o){return e.exec===s?_&&!o?{done:!0,value:v.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}}),{REPLACE_KEEPS_$0:l,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:p}),y=g[0],b=g[1];r(String.prototype,t,y),r(RegExp.prototype,f,2==e?function(t,e){return b.call(t,this,e)}:function(t){return b.call(t,this)})}h&&a(RegExp.prototype[f],"sham",!0)}},function(t,e,n){"use strict";var r=n(4);t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,n){"use strict";var r=n(73).charAt;t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},function(t,e,n){var r=n(22),o=n(19),i=function(t){return function(e,n){var i,s,a=String(o(e)),c=r(n),u=a.length;return c<0||c>=u?t?"":void 0:(i=a.charCodeAt(c))<55296||i>56319||c+1===u||(s=a.charCodeAt(c+1))<56320||s>57343?t?a.charAt(c):i:t?a.slice(c,c+2):s-56320+(i-55296<<10)+65536}};t.exports={codeAt:i(!1),charAt:i(!0)}},function(t,e,n){var r=n(18),o=n(46);t.exports=function(t,e){var n=t.exec;if("function"==typeof n){var i=n.call(t,e);if("object"!=typeof i)throw TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==r(t))throw TypeError("RegExp#exec called on incompatible receiver");return o.call(t,e)}},function(t,e,n){var r=n(7),o=n(18),i=n(2)("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[i])?!!e:"RegExp"==o(t))}},function(t,e,n){var r=n(15).Symbol;t.exports=r},function(t,e,n){var r=n(18);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){var r=n(31)(n(15),"Map");t.exports=r},function(t,e){var n=Array.isArray;t.exports=n},function(t,e,n){var r=n(2),o=n(41),i=n(10),s=r("unscopables"),a=Array.prototype;null==a[s]&&i.f(a,s,{configurable:!0,value:o(null)}),t.exports=function(t){a[s][t]=!0}},function(t,e,n){var r=n(32),o=n(82);(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.6.4",mode:r?"pure":"global",copyright:"\xa9 2020 Denis Pushkarev (zloirock.ru)"})},function(t,e,n){var r=n(1),o=n(56),i=r["__core-js_shared__"]||o("__core-js_shared__",{});t.exports=i},function(t,e,n){var r=n(9),o=n(3),i=n(57);t.exports=!r&&!o((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},function(t,e,n){var r=n(3);t.exports=!!Object.getOwnPropertySymbols&&!r((function(){return!String(Symbol())}))},function(t,e,n){var r=n(9),o=n(10),i=n(4),s=n(86);t.exports=r?Object.defineProperties:function(t,e){i(t);for(var n,r=s(e),a=r.length,c=0;a>c;)o.f(t,n=r[c++],e[n]);return t}},function(t,e,n){var r=n(87),o=n(61);t.exports=Object.keys||function(t){return r(t,o)}},function(t,e,n){var r=n(5),o=n(39),i=n(131).indexOf,s=n(60);t.exports=function(t,e){var n,a=o(t),c=0,u=[];for(n in a)!r(s,n)&&r(a,n)&&u.push(n);for(;e.length>c;)r(a,n=e[c++])&&(~i(u,n)||u.push(n));return u}},function(t,e,n){var r=n(27);t.exports=r("document","documentElement")},function(t,e,n){var r=n(1);t.exports=r},function(t,e,n){"use strict";var r=n(8),o=n(94),i=n(44),s=n(34),a=n(28),c=n(11),u=n(14),l=n(2),h=n(32),p=n(33),d=n(95),f=d.IteratorPrototype,_=d.BUGGY_SAFARI_ITERATORS,m=l("iterator"),v=function(){return this};t.exports=function(t,e,n,l,d,g,y){o(n,e,l);var b,w,E,O=function(t){if(t===d&&N)return N;if(!_&&t in A)return A[t];switch(t){case"keys":case"values":case"entries":return function(){return new n(this,t)}}return function(){return new n(this)}},x=e+" Iterator",T=!1,A=t.prototype,S=A[m]||A["@@iterator"]||d&&A[d],N=!_&&S||O(d),C="Array"==e&&A.entries||S;if(C&&(b=i(C.call(new t)),f!==Object.prototype&&b.next&&(h||i(b)===f||(s?s(b,f):"function"!=typeof b[m]&&c(b,m,v)),a(b,x,!0,!0),h&&(p[x]=v))),"values"==d&&S&&"values"!==S.name&&(T=!0,N=function(){return S.call(this)}),h&&!y||A[m]===N||c(A,m,N),p[e]=N,d)if(w={values:O("values"),keys:g?N:O("keys"),entries:O("entries")},y)for(E in w)!_&&!T&&E in A||u(A,E,w[E]);else r({target:e,proto:!0,forced:_||T},w);return w}},function(t,e,n){"use strict";var r={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,i=o&&!r.call({1:2},1);e.f=i?function(t){var e=o(this,t);return!!e&&e.enumerable}:r},function(t,e,n){var r=n(5),o=n(133),i=n(42),s=n(10);t.exports=function(t,e){for(var n=o(e),a=s.f,c=i.f,u=0;u<n.length;u++){var l=n[u];r(t,l)||a(t,l,c(e,l))}}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){"use strict";var r=n(95).IteratorPrototype,o=n(41),i=n(26),s=n(28),a=n(33),c=function(){return this};t.exports=function(t,e,n){var u=e+" Iterator";return t.prototype=o(r,{next:i(1,n)}),s(t,u,!1,!0),a[u]=c,t}},function(t,e,n){"use strict";var r,o,i,s=n(44),a=n(11),c=n(5),u=n(2),l=n(32),h=u("iterator"),p=!1;[].keys&&("next"in(i=[].keys())?(o=s(s(i)))!==Object.prototype&&(r=o):p=!0),null==r&&(r={}),l||c(r,h)||a(r,h,(function(){return this})),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:p}},function(t,e,n){"use strict";var r=n(9),o=n(3),i=n(86),s=n(93),a=n(91),c=n(17),u=n(55),l=Object.assign,h=Object.defineProperty;t.exports=!l||o((function(){if(r&&1!==l({b:1},l(h({},"a",{enumerable:!0,get:function(){h(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol();return t[n]=7,"abcdefghijklmnopqrst".split("").forEach((function(t){e[t]=t})),7!=l({},t)[n]||"abcdefghijklmnopqrst"!=i(l({},e)).join("")}))?function(t,e){for(var n=c(t),o=arguments.length,l=1,h=s.f,p=a.f;o>l;)for(var d,f=u(arguments[l++]),_=h?i(f).concat(h(f)):i(f),m=_.length,v=0;m>v;)d=_[v++],r&&!p.call(f,d)||(n[d]=f[d]);return n}:l},function(t,e,n){"use strict";var r=n(8),o=n(3),i=n(98),s=n(4),a=n(59),c=n(6),u=n(66),l=i.ArrayBuffer,h=i.DataView,p=l.prototype.slice;r({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:o((function(){return!new l(2).slice(1,void 0).byteLength}))},{slice:function(t,e){if(void 0!==p&&void 0===e)return p.call(s(this),t);for(var n=s(this).byteLength,r=a(t,n),o=a(void 0===e?n:e,n),i=new(u(this,l))(c(o-r)),d=new h(this),f=new h(i),_=0;r<o;)f.setUint8(_++,d.getUint8(r++));return i}})},function(t,e,n){"use strict";var r=n(1),o=n(9),i=n(99),s=n(11),a=n(65),c=n(3),u=n(35),l=n(22),h=n(6),p=n(100),d=n(141),f=n(44),_=n(34),m=n(43).f,v=n(10).f,g=n(142),y=n(28),b=n(16),w=b.get,E=b.set,O=r.ArrayBuffer,x=O,T=r.DataView,A=T&&T.prototype,S=Object.prototype,N=r.RangeError,C=d.pack,I=d.unpack,R=function(t){return[255&t]},k=function(t){return[255&t,t>>8&255]},L=function(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]},j=function(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]},P=function(t){return C(t,23,4)},M=function(t){return C(t,52,8)},D=function(t,e){v(t.prototype,e,{get:function(){return w(this)[e]}})},U=function(t,e,n,r){var o=p(n),i=w(t);if(o+e>i.byteLength)throw N("Wrong index");var s=w(i.buffer).bytes,a=o+i.byteOffset,c=s.slice(a,a+e);return r?c:c.reverse()},F=function(t,e,n,r,o,i){var s=p(n),a=w(t);if(s+e>a.byteLength)throw N("Wrong index");for(var c=w(a.buffer).bytes,u=s+a.byteOffset,l=r(+o),h=0;h<e;h++)c[u+h]=l[i?h:e-h-1]};if(i){if(!c((function(){O(1)}))||!c((function(){new O(-1)}))||c((function(){return new O,new O(1.5),new O(NaN),"ArrayBuffer"!=O.name}))){for(var B,z=(x=function(t){return u(this,x),new O(p(t))}).prototype=O.prototype,H=m(O),q=0;H.length>q;)(B=H[q++])in x||s(x,B,O[B]);z.constructor=x}_&&f(A)!==S&&_(A,S);var W=new T(new x(2)),V=A.setInt8;W.setInt8(0,2147483648),W.setInt8(1,2147483649),!W.getInt8(0)&&W.getInt8(1)||a(A,{setInt8:function(t,e){V.call(this,t,e<<24>>24)},setUint8:function(t,e){V.call(this,t,e<<24>>24)}},{unsafe:!0})}else x=function(t){u(this,x,"ArrayBuffer");var e=p(t);E(this,{bytes:g.call(new Array(e),0),byteLength:e}),o||(this.byteLength=e)},T=function(t,e,n){u(this,T,"DataView"),u(t,x,"DataView");var r=w(t).byteLength,i=l(e);if(i<0||i>r)throw N("Wrong offset");if(i+(n=void 0===n?r-i:h(n))>r)throw N("Wrong length");E(this,{buffer:t,byteLength:n,byteOffset:i}),o||(this.buffer=t,this.byteLength=n,this.byteOffset=i)},o&&(D(x,"byteLength"),D(T,"buffer"),D(T,"byteLength"),D(T,"byteOffset")),a(T.prototype,{getInt8:function(t){return U(this,1,t)[0]<<24>>24},getUint8:function(t){return U(this,1,t)[0]},getInt16:function(t){var e=U(this,2,t,arguments.length>1?arguments[1]:void 0);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=U(this,2,t,arguments.length>1?arguments[1]:void 0);return e[1]<<8|e[0]},getInt32:function(t){return j(U(this,4,t,arguments.length>1?arguments[1]:void 0))},getUint32:function(t){return j(U(this,4,t,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(t){return I(U(this,4,t,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(t){return I(U(this,8,t,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(t,e){F(this,1,t,R,e)},setUint8:function(t,e){F(this,1,t,R,e)},setInt16:function(t,e){F(this,2,t,k,e,arguments.length>2?arguments[2]:void 0)},setUint16:function(t,e){F(this,2,t,k,e,arguments.length>2?arguments[2]:void 0)},setInt32:function(t,e){F(this,4,t,L,e,arguments.length>2?arguments[2]:void 0)},setUint32:function(t,e){F(this,4,t,L,e,arguments.length>2?arguments[2]:void 0)},setFloat32:function(t,e){F(this,4,t,P,e,arguments.length>2?arguments[2]:void 0)},setFloat64:function(t,e){F(this,8,t,M,e,arguments.length>2?arguments[2]:void 0)}});y(x,"ArrayBuffer"),y(T,"DataView"),t.exports={ArrayBuffer:x,DataView:T}},function(t,e){t.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},function(t,e,n){var r=n(22),o=n(6);t.exports=function(t){if(void 0===t)return 0;var e=r(t),n=o(e);if(e!==n)throw RangeError("Wrong length or index");return n}},function(t,e,n){var r=n(4);t.exports=function(t,e,n,o){try{return o?e(r(n)[0],n[1]):e(n)}catch(e){var i=t.return;throw void 0!==i&&r(i.call(t)),e}}},function(t,e,n){var r=n(2)("iterator"),o=!1;try{var i=0,s={next:function(){return{done:!!i++}},return:function(){o=!0}};s[r]=function(){return this},Array.from(s,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!o)return!1;var n=!1;try{var i={};i[r]=function(){return{next:function(){return{done:n=!0}}}},t(i)}catch(t){}return n}},function(t,e,n){var r,o,i,s=n(1),a=n(3),c=n(18),u=n(23),l=n(88),h=n(57),p=n(104),d=s.location,f=s.setImmediate,_=s.clearImmediate,m=s.process,v=s.MessageChannel,g=s.Dispatch,y=0,b={},w=function(t){if(b.hasOwnProperty(t)){var e=b[t];delete b[t],e()}},E=function(t){return function(){w(t)}},O=function(t){w(t.data)},x=function(t){s.postMessage(t+"",d.protocol+"//"+d.host)};f&&_||(f=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return b[++y]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},r(y),y},_=function(t){delete b[t]},"process"==c(m)?r=function(t){m.nextTick(E(t))}:g&&g.now?r=function(t){g.now(E(t))}:v&&!p?(i=(o=new v).port2,o.port1.onmessage=O,r=u(i.postMessage,i,1)):!s.addEventListener||"function"!=typeof postMessage||s.importScripts||a(x)?r="onreadystatechange"in h("script")?function(t){l.appendChild(h("script")).onreadystatechange=function(){l.removeChild(this),w(t)}}:function(t){setTimeout(E(t),0)}:(r=x,s.addEventListener("message",O,!1))),t.exports={set:f,clear:_}},function(t,e,n){var r=n(105);t.exports=/(iphone|ipod|ipad).*applewebkit/i.test(r)},function(t,e,n){var r=n(27);t.exports=r("navigator","userAgent")||""},function(t,e,n){"use strict";var r=n(29),o=function(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=r(e),this.reject=r(n)};t.exports.f=function(t){return new o(t)}},function(t,e,n){"use strict";var r=n(3);function o(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=r((function(){var t=o("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=r((function(){var t=o("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},function(t,e,n){"use strict";var r=n(14),o=n(4),i=n(3),s=n(71),a=RegExp.prototype,c=a.toString,u=i((function(){return"/a/b"!=c.call({source:"a",flags:"b"})})),l="toString"!=c.name;(u||l)&&r(RegExp.prototype,"toString",(function(){var t=o(this),e=String(t.source),n=t.flags;return"/"+e+"/"+String(void 0===n&&t instanceof RegExp&&!("flags"in a)?s.call(t):n)}),{unsafe:!0})},function(t,e,n){"use strict";var r=n(8),o=n(152),i=n(19);r({target:"String",proto:!0,forced:!n(153)("includes")},{includes:function(t){return!!~String(i(this)).indexOf(o(t),arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";var r=n(70),o=n(4),i=n(6),s=n(19),a=n(72),c=n(74);r("match",1,(function(t,e,n){return[function(e){var n=s(this),r=null==e?void 0:e[t];return void 0!==r?r.call(e,n):new RegExp(e)[t](String(n))},function(t){var r=n(e,t,this);if(r.done)return r.value;var s=o(t),u=String(this);if(!s.global)return c(s,u);var l=s.unicode;s.lastIndex=0;for(var h,p=[],d=0;null!==(h=c(s,u));){var f=String(h[0]);p[d]=f,""===f&&(s.lastIndex=a(u,i(s.lastIndex),l)),d++}return 0===d?null:p}]}))},function(t,e){var n=new function(){var t;try{throw new Error}catch(o){var e=o.stack.split("\n"),n=0;for(var r in e)if(e[r].match(/http[s]?:\/\//)){n=Number(r);break}t=e[n].match(/((http[s]?:\/\/.+\/)([^\/]+\.(js|html))).*?:/)}this.fullPath=function(){return t?t[1]:"undefined"!=typeof window?window.location.origin+window.location.pathname:""},this.path=function(){return t?t[2]:"undefined"!=typeof window?window.location.pathname:""},this.host=function(){var t=this.path().match(/.+?\/\/.+?\//);return t?t[0]:"undefined"!=typeof window?window.location.hostname:""},this.file=function(){return t?t[3]:""}};t.exports.host=n.host(),t.exports.path=n.path(),t.exports.isCrossOrigin=function(e){if(!(!e||!e.length)){var n=document.createElement("a");return n.href=e,!n.href.startsWith(window.location.origin)}return window.location.origin!==t.exports.host.slice(0,window.location.origin.length)},t.exports.publicPath=function(e){return!(!e||!e.length)?e:t.exports.path},t.exports.BlobWorker=function(t,e){var n=new Blob([t]),r=window.URL.createObjectURL(n),o=new Worker(r);e&&e(o)},t.exports.XHRWorker=function(e,n){var r=new XMLHttpRequest;r.addEventListener("load",(function(){t.exports.BlobWorker(r.responseText,n)}),r),r.open("get",e,!0),r.send()}},function(t,e,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(this,n(25))},function(t,e){t.exports="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},function(t,e){t.exports=function(t,e){return t===e||t!=t&&e!=e}},function(t,e,n){var r=n(37),o=n(47),i="[object AsyncFunction]",s="[object Function]",a="[object GeneratorFunction]",c="[object Proxy]";t.exports=function(t){if(!o(t))return!1;var e=r(t);return e==s||e==a||e==i||e==c}},function(t,e){var n=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return n.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},function(t,e,n){var r=n(186),o=n(193),i=n(195),s=n(196),a=n(197);function c(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=s,c.prototype.set=a,t.exports=c},function(t,e,n){var r=n(198),o=n(201),i=n(202),s=1,a=2;t.exports=function(t,e,n,c,u,l){var h=n&s,p=t.length,d=e.length;if(p!=d&&!(h&&d>p))return!1;var f=l.get(t);if(f&&l.get(e))return f==e;var _=-1,m=!0,v=n&a?new r:void 0;for(l.set(t,e),l.set(e,t);++_<p;){var g=t[_],y=e[_];if(c)var b=h?c(y,g,_,e,t,l):c(g,y,_,t,e,l);if(void 0!==b){if(b)continue;m=!1;break}if(v){if(!o(e,(function(t,e){if(!i(v,e)&&(g===t||u(g,t,n,c,l)))return v.push(e)}))){m=!1;break}}else if(g!==y&&!u(g,y,n,c,l)){m=!1;break}}return l.delete(t),l.delete(e),m}},function(t,e,n){(function(t){var r=n(15),o=n(219),i=e&&!e.nodeType&&e,s=i&&"object"==typeof t&&t&&!t.nodeType&&t,a=s&&s.exports===i?r.Buffer:void 0,c=(a?a.isBuffer:void 0)||o;t.exports=c}).call(this,n(120)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){var r=n(221),o=n(222),i=n(223),s=i&&i.isTypedArray,a=s?o(s):r;t.exports=a},function(t,e){var n=9007199254740991;t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=n}},function(t,e,n){var r=n(7),o=n(77),i=n(2)("species");t.exports=function(t,e){var n;return o(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!o(n.prototype)?r(n)&&null===(n=n[i])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===e?0:e)}},function(t,e,n){var r=n(7),o=n(34);t.exports=function(t,e,n){var i,s;return o&&"function"==typeof(i=e.constructor)&&i!==n&&r(s=i.prototype)&&s!==n.prototype&&o(t,s),t}},function(t,e,n){var r=n(3),o=n(2),i=n(32),s=o("iterator");t.exports=!r((function(){var t=new URL("b?a=1&b=2&c=3","http://a"),e=t.searchParams,n="";return t.pathname="c%20d",e.forEach((function(t,r){e.delete("b"),n+=r+t})),i&&!t.toJSON||!e.sort||"http://a/c%20d?a=1&c=3"!==t.href||"3"!==e.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!e[s]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://\u0442\u0435\u0441\u0442").host||"#%D0%B1"!==new URL("http://a#\u0431").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},function(t,e,n){"use strict";n.r(e);var r="6.5.0",o=n(0),i=n(21),s={},a=new i.RegExpParser;function c(t){var e=t.toString();if(s.hasOwnProperty(e))return s[e];var n=a.pattern(e);return s[e]=n,n}var u,l=(u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),h="Complement Sets are not supported for first char optimization",p='Unable to use "first char" lexer optimizations:\n';function d(t,e){void 0===e&&(e=!1);try{var n=c(t);return function t(e,n,r){switch(e.type){case"Disjunction":for(var i=0;i<e.value.length;i++)t(e.value[i],n,r);break;case"Alternative":var s=e.value;for(i=0;i<s.length;i++){var a=s[i];switch(a.type){case"EndAnchor":case"GroupBackReference":case"Lookahead":case"NegativeLookahead":case"StartAnchor":case"WordBoundary":case"NonWordBoundary":continue}var c=a;switch(c.type){case"Character":f(c.value,n,r);break;case"Set":if(!0===c.complement)throw Error(h);Object(o.u)(c.value,(function(t){if("number"==typeof t)f(t,n,r);else{var e=t;if(!0===r)for(var o=e.from;o<=e.to;o++)f(o,n,r);else{for(o=e.from;o<=e.to&&o<D;o++)f(o,n,r);if(e.to>=D)for(var i=e.from>=D?e.from:D,s=e.to,a=U(i),c=U(s),u=a;u<=c;u++)n[u]=u}}}));break;case"Group":t(c.value,n,r);break;default:throw Error("Non Exhaustive Match")}var u=void 0!==c.quantifier&&0===c.quantifier.atLeast;if("Group"===c.type&&!1===m(c)||"Group"!==c.type&&!1===u)break}break;default:throw Error("non exhaustive match!")}return Object(o.U)(n)}(n.value,{},n.flags.ignoreCase)}catch(n){if(n.message===h)e&&Object(o.d)(p+"\tUnable to optimize: < "+t.toString()+" >\n\tComplement Sets cannot be automatically optimized.\n\tThis will disable the lexer's first char optimizations.\n\tSee: https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#COMPLEMENT for details.");else{var r="";e&&(r="\n\tThis will disable the lexer's first char optimizations.\n\tSee: https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#REGEXP_PARSING for details."),Object(o.c)(p+"\n\tFailed parsing: < "+t.toString()+" >\n\tUsing the regexp-to-ast library version: "+i.VERSION+"\n\tPlease open an issue at: https://github.com/bd82/regexp-to-ast/issues"+r)}}return[]}function f(t,e,n){var r=U(t);e[r]=r,!0===n&&function(t,e){var n=String.fromCharCode(t),r=n.toUpperCase();if(r!==n){var o=U(r.charCodeAt(0));e[o]=o}else{var i=n.toLowerCase();if(i!==n){o=U(i.charCodeAt(0));e[o]=o}}}(t,e)}function _(t,e){return Object(o.q)(t.value,(function(t){if("number"==typeof t)return Object(o.j)(e,t);var n=t;return void 0!==Object(o.q)(e,(function(t){return n.from<=t&&t<=n.to}))}))}function m(t){return!(!t.quantifier||0!==t.quantifier.atLeast)||!!t.value&&(Object(o.y)(t.value)?Object(o.o)(t.value,m):m(t.value))}var v=function(t){function e(e){var n=t.call(this)||this;return n.targetCharCodes=e,n.found=!1,n}return l(e,t),e.prototype.visitChildren=function(e){if(!0!==this.found){switch(e.type){case"Lookahead":return void this.visitLookahead(e);case"NegativeLookahead":return void this.visitNegativeLookahead(e)}t.prototype.visitChildren.call(this,e)}},e.prototype.visitCharacter=function(t){Object(o.j)(this.targetCharCodes,t.value)&&(this.found=!0)},e.prototype.visitSet=function(t){t.complement?void 0===_(t,this.targetCharCodes)&&(this.found=!0):void 0!==_(t,this.targetCharCodes)&&(this.found=!0)},e}(i.BaseRegExpVisitor);function g(t,e){if(e instanceof RegExp){var n=c(e),r=new v(t);return r.visit(n),r.found}return void 0!==Object(o.q)(e,(function(e){return Object(o.j)(t,e.charCodeAt(0))}))}var y=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),b="PATTERN",w="defaultMode",E="modes",O="boolean"==typeof new RegExp("(?:)").sticky;function x(t,e){var n,r=(e=Object(o.k)(e,{useSticky:O,debug:!1,safeMode:!1,positionTracking:"full",lineTerminatorCharacters:["\r","\n"],tracer:function(t,e){return e()}})).tracer;r("initCharCodeToOptimizedIndexMap",(function(){!function(){if(Object(o.A)(F)){F=new Array(65536);for(var t=0;t<65536;t++)F[t]=t>255?255+~~(t/255):t}}()})),r("Reject Lexer.NA",(function(){n=Object(o.P)(t,(function(t){return t[b]===$.NA}))}));var i,s,a,c,u,l,h,f,_,m,v,y=!1;r("Transform Patterns",(function(){y=!1,i=Object(o.I)(n,(function(t){var n=t[b];if(Object(o.D)(n)){var r=n.source;return 1===r.length&&"^"!==r&&"$"!==r&&"."!==r?r:2!==r.length||"\\"!==r[0]||Object(o.j)(["d","D","s","S","t","r","n","t","0","c","b","B","f","v","w","W"],r[1])?e.useSticky?C(n):N(n):r[1]}if(Object(o.B)(n))return y=!0,{exec:n};if(Object(o.w)(n,"exec"))return y=!0,n;if("string"==typeof n){if(1===n.length)return n;var i=n.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),s=new RegExp(i);return e.useSticky?C(s):N(s)}throw Error("non exhaustive match")}))})),r("misc mapping",(function(){s=Object(o.I)(n,(function(t){return t.tokenTypeIdx})),a=Object(o.I)(n,(function(t){var e=t.GROUP;if(e!==$.SKIPPED){if(Object(o.E)(e))return e;if(Object(o.F)(e))return!1;throw Error("non exhaustive match")}})),c=Object(o.I)(n,(function(t){var e=t.LONGER_ALT;if(e)return Object(o.x)(n,e)})),u=Object(o.I)(n,(function(t){return t.PUSH_MODE})),l=Object(o.I)(n,(function(t){return Object(o.w)(t,"POP_MODE")}))})),r("Line Terminator Handling",(function(){var t=P(e.lineTerminatorCharacters);h=Object(o.I)(n,(function(t){return!1})),"onlyOffset"!==e.positionTracking&&(h=Object(o.I)(n,(function(e){return Object(o.w)(e,"LINE_BREAKS")?e.LINE_BREAKS:!1===j(e,t)?g(t,e.PATTERN):void 0})))})),r("Misc Mapping #2",(function(){f=Object(o.I)(n,R),_=Object(o.I)(i,k),m=Object(o.O)(n,(function(t,e){var n=e.GROUP;return Object(o.E)(n)&&n!==$.SKIPPED&&(t[n]=[]),t}),{}),v=Object(o.I)(i,(function(t,e){return{pattern:i[e],longerAlt:c[e],canLineTerminator:h[e],isCustom:f[e],short:_[e],group:a[e],push:u[e],pop:l[e],tokenTypeIdx:s[e],tokenType:n[e]}}))}));var w=!0,E=[];return e.safeMode||r("First Char Optimization",(function(){E=Object(o.O)(n,(function(t,n,r){if("string"==typeof n.PATTERN){var i=U(n.PATTERN.charCodeAt(0));M(t,i,v[r])}else if(Object(o.y)(n.START_CHARS_HINT)){var s;Object(o.u)(n.START_CHARS_HINT,(function(e){var n=U("string"==typeof e?e.charCodeAt(0):e);s!==n&&(s=n,M(t,n,v[r]))}))}else if(Object(o.D)(n.PATTERN))if(n.PATTERN.unicode)w=!1,e.ensureOptimizations&&Object(o.c)(p+"\tUnable to analyze < "+n.PATTERN.toString()+" > pattern.\n\tThe regexp unicode flag is not currently supported by the regexp-to-ast library.\n\tThis will disable the lexer's first char optimizations.\n\tFor details See: https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#UNICODE_OPTIMIZE");else{var a=d(n.PATTERN,e.ensureOptimizations);Object(o.A)(a)&&(w=!1),Object(o.u)(a,(function(e){M(t,e,v[r])}))}else e.ensureOptimizations&&Object(o.c)(p+"\tTokenType: <"+n.name+"> is using a custom token pattern without providing <start_chars_hint> parameter.\n\tThis will disable the lexer's first char optimizations.\n\tFor details See: https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#CUSTOM_OPTIMIZE"),w=!1;return t}),[])})),r("ArrayPacking",(function(){E=Object(o.L)(E)})),{emptyGroups:m,patternIdxToConfig:v,charCodeToPatternIdxToConfig:E,hasCustom:y,canBeOptimized:w}}function T(t,e){var n=[],r=function(t){var e=Object(o.p)(t,(function(t){return!Object(o.w)(t,b)})),n=Object(o.I)(e,(function(t){return{message:"Token Type: ->"+t.name+"<- missing static 'PATTERN' property",type:Y.MISSING_PATTERN,tokenTypes:[t]}})),r=Object(o.l)(t,e);return{errors:n,valid:r}}(t);n=n.concat(r.errors);var s=function(t){var e=Object(o.p)(t,(function(t){var e=t[b];return!(Object(o.D)(e)||Object(o.B)(e)||Object(o.w)(e,"exec")||Object(o.E)(e))})),n=Object(o.I)(e,(function(t){return{message:"Token Type: ->"+t.name+"<- static 'PATTERN' can only be a RegExp, a Function matching the {CustomPatternMatcherFunc} type or an Object matching the {ICustomPattern} interface.",type:Y.INVALID_PATTERN,tokenTypes:[t]}})),r=Object(o.l)(t,e);return{errors:n,valid:r}}(r.valid),a=s.valid;return n=(n=(n=(n=(n=n.concat(s.errors)).concat(function(t){var e=[],n=Object(o.p)(t,(function(t){return Object(o.D)(t[b])}));return e=(e=(e=(e=(e=e.concat(function(t){var e=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.found=!1,e}return y(e,t),e.prototype.visitEndAnchor=function(t){this.found=!0},e}(i.BaseRegExpVisitor),n=Object(o.p)(t,(function(t){var n=t[b];try{var r=c(n),o=new e;return o.visit(r),o.found}catch(t){return A.test(n.source)}}));return Object(o.I)(n,(function(t){return{message:"Unexpected RegExp Anchor Error:\n\tToken Type: ->"+t.name+"<- static 'PATTERN' cannot contain end of input anchor '$'\n\tSee sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#ANCHORS\tfor details.",type:Y.EOI_ANCHOR_FOUND,tokenTypes:[t]}}))}(n))).concat(function(t){var e=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.found=!1,e}return y(e,t),e.prototype.visitStartAnchor=function(t){this.found=!0},e}(i.BaseRegExpVisitor),n=Object(o.p)(t,(function(t){var n=t[b];try{var r=c(n),o=new e;return o.visit(r),o.found}catch(t){return S.test(n.source)}}));return Object(o.I)(n,(function(t){return{message:"Unexpected RegExp Anchor Error:\n\tToken Type: ->"+t.name+"<- static 'PATTERN' cannot contain start of input anchor '^'\n\tSee https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#ANCHORS\tfor details.",type:Y.SOI_ANCHOR_FOUND,tokenTypes:[t]}}))}(n))).concat(function(t){var e=Object(o.p)(t,(function(t){var e=t[b];return e instanceof RegExp&&(e.multiline||e.global)}));return Object(o.I)(e,(function(t){return{message:"Token Type: ->"+t.name+"<- static 'PATTERN' may NOT contain global('g') or multiline('m')",type:Y.UNSUPPORTED_FLAGS_FOUND,tokenTypes:[t]}}))}(n))).concat(function(t){var e=[],n=Object(o.I)(t,(function(n){return Object(o.O)(t,(function(t,r){return n.PATTERN.source!==r.PATTERN.source||Object(o.j)(e,r)||r.PATTERN===$.NA?t:(e.push(r),t.push(r),t)}),[])}));n=Object(o.i)(n);var r=Object(o.p)(n,(function(t){return t.length>1}));return Object(o.I)(r,(function(t){var e=Object(o.I)(t,(function(t){return t.name}));return{message:"The same RegExp pattern ->"+Object(o.s)(t).PATTERN+"<-has been used in all of the following Token Types: "+e.join(", ")+" <-",type:Y.DUPLICATE_PATTERNS_FOUND,tokenTypes:t}}))}(n))).concat(function(t){var e=Object(o.p)(t,(function(t){return t[b].test("")}));return Object(o.I)(e,(function(t){return{message:"Token Type: ->"+t.name+"<- static 'PATTERN' must not match an empty string",type:Y.EMPTY_MATCH_PATTERN,tokenTypes:[t]}}))}(n))}(a))).concat(function(t){var e=Object(o.p)(t,(function(t){if(!Object(o.w)(t,"GROUP"))return!1;var e=t.GROUP;return e!==$.SKIPPED&&e!==$.NA&&!Object(o.E)(e)}));return Object(o.I)(e,(function(t){return{message:"Token Type: ->"+t.name+"<- static 'GROUP' can only be Lexer.SKIPPED/Lexer.NA/A String",type:Y.INVALID_GROUP_TYPE_FOUND,tokenTypes:[t]}}))}(a))).concat(function(t,e){var n=Object(o.p)(t,(function(t){return void 0!==t.PUSH_MODE&&!Object(o.j)(e,t.PUSH_MODE)}));return Object(o.I)(n,(function(t){return{message:"Token Type: ->"+t.name+"<- static 'PUSH_MODE' value cannot refer to a Lexer Mode ->"+t.PUSH_MODE+"<-which does not exist",type:Y.PUSH_MODE_DOES_NOT_EXIST,tokenTypes:[t]}}))}(a,e))).concat(function(t){var e=[],n=Object(o.O)(t,(function(t,e,n){var r,i=e.PATTERN;return i===$.NA?t:(Object(o.E)(i)?t.push({str:i,idx:n,tokenType:e}):Object(o.D)(i)&&(r=i,void 0===Object(o.q)([".","\\","[","]","|","^","$","(",")","?","*","+","{"],(function(t){return-1!==r.source.indexOf(t)})))&&t.push({str:i.source,idx:n,tokenType:e}),t)}),[]);return Object(o.u)(t,(function(t,r){Object(o.u)(n,(function(n){var i=n.str,s=n.idx,a=n.tokenType;if(r<s&&function(t,e){if(Object(o.D)(e)){var n=e.exec(t);return null!==n&&0===n.index}if(Object(o.B)(e))return e(t,0,[],{});if(Object(o.w)(e,"exec"))return e.exec(t,0,[],{});if("string"==typeof e)return e===t;throw Error("non exhaustive match")}(i,t.PATTERN)){var c="Token: ->"+a.name+"<- can never be matched.\nBecause it appears AFTER the Token Type ->"+t.name+"<-in the lexer's definition.\nSee https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#UNREACHABLE";e.push({message:c,type:Y.UNREACHABLE_PATTERN,tokenTypes:[t,a]})}}))})),e}(a))}var A=/[^\\][\$]/;var S=/[^\\[][\^]|^\^/;function N(t){var e=t.ignoreCase?"i":"";return new RegExp("^(?:"+t.source+")",e)}function C(t){var e=t.ignoreCase?"iy":"y";return new RegExp(""+t.source,e)}function I(t,e,n){var r=[],i=!1,s=Object(o.i)(Object(o.t)(Object(o.J)(t.modes,(function(t){return t})))),a=Object(o.P)(s,(function(t){return t[b]===$.NA})),c=P(n);return e&&Object(o.u)(a,(function(t){var e=j(t,c);if(!1!==e){var n={message:function(t,e){if(e.issue===Y.IDENTIFY_TERMINATOR)return"Warning: unable to identify line terminator usage in pattern.\n\tThe problem is in the <"+t.name+"> Token Type\n\t Root cause: "+e.errMsg+".\n\tFor details See: https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#IDENTIFY_TERMINATOR";if(e.issue===Y.CUSTOM_LINE_BREAK)return"Warning: A Custom Token Pattern should specify the <line_breaks> option.\n\tThe problem is in the <"+t.name+"> Token Type\n\tFor details See: https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#CUSTOM_LINE_BREAK";throw Error("non exhaustive match")}(t,e),type:e.issue,tokenType:t};r.push(n)}else Object(o.w)(t,"LINE_BREAKS")?!0===t.LINE_BREAKS&&(i=!0):g(c,t.PATTERN)&&(i=!0)})),e&&!i&&r.push({message:"Warning: No LINE_BREAKS Found.\n\tThis Lexer has been defined to track line and column information,\n\tBut none of the Token Types can be identified as matching a line terminator.\n\tSee https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#LINE_BREAKS \n\tfor details.",type:Y.NO_LINE_BREAKS_FLAGS}),r}function R(t){var e=t.PATTERN;if(Object(o.D)(e))return!1;if(Object(o.B)(e))return!0;if(Object(o.w)(e,"exec"))return!0;if(Object(o.E)(e))return!1;throw Error("non exhaustive match")}function k(t){return!(!Object(o.E)(t)||1!==t.length)&&t.charCodeAt(0)}var L={test:function(t){for(var e=t.length,n=this.lastIndex;n<e;n++){var r=t.charCodeAt(n);if(10===r)return this.lastIndex=n+1,!0;if(13===r)return 10===t.charCodeAt(n+1)?this.lastIndex=n+2:this.lastIndex=n+1,!0}return!1},lastIndex:0};function j(t,e){if(Object(o.w)(t,"LINE_BREAKS"))return!1;if(Object(o.D)(t.PATTERN)){try{g(e,t.PATTERN)}catch(t){return{issue:Y.IDENTIFY_TERMINATOR,errMsg:t.message}}return!1}if(Object(o.E)(t.PATTERN))return!1;if(R(t))return{issue:Y.CUSTOM_LINE_BREAK};throw Error("non exhaustive match")}function P(t){return Object(o.I)(t,(function(t){return Object(o.E)(t)&&t.length>0?t.charCodeAt(0):t}))}function M(t,e,n){void 0===t[e]?t[e]=[n]:t[e].push(n)}var D=256;function U(t){return t<D?t:F[t]}var F=[];function B(t,e){var n=t.tokenTypeIdx;return n===e.tokenTypeIdx||!0===e.isParent&&!0===e.categoryMatchesMap[n]}function z(t,e){return t.tokenTypeIdx===e.tokenTypeIdx}var H=1,q={};function W(t){var e=function(t){var e=Object(o.g)(t),n=t,r=!0;for(;r;){n=Object(o.i)(Object(o.t)(Object(o.I)(n,(function(t){return t.CATEGORIES}))));var i=Object(o.l)(n,e);e=e.concat(i),Object(o.A)(i)?r=!1:n=i}return e}(t);!function(t){Object(o.u)(t,(function(t){var e;V(t)||(q[H]=t,t.tokenTypeIdx=H++),G(t)&&!Object(o.y)(t.CATEGORIES)&&(t.CATEGORIES=[t.CATEGORIES]),G(t)||(t.CATEGORIES=[]),e=t,Object(o.w)(e,"categoryMatches")||(t.categoryMatches=[]),function(t){return Object(o.w)(t,"categoryMatchesMap")}(t)||(t.categoryMatchesMap={})}))}(e),function(t){Object(o.u)(t,(function(t){!function t(e,n){Object(o.u)(e,(function(t){n.categoryMatchesMap[t.tokenTypeIdx]=!0})),Object(o.u)(n.CATEGORIES,(function(r){var i=e.concat(n);Object(o.j)(i,r)||t(i,r)}))}([],t)}))}(e),function(t){Object(o.u)(t,(function(t){t.categoryMatches=[],Object(o.u)(t.categoryMatchesMap,(function(e,n){t.categoryMatches.push(q[n].tokenTypeIdx)}))}))}(e),Object(o.u)(e,(function(t){t.isParent=t.categoryMatches.length>0}))}function V(t){return Object(o.w)(t,"tokenTypeIdx")}function G(t){return Object(o.w)(t,"CATEGORIES")}function K(t){return Object(o.w)(t,"tokenTypeIdx")}var Y,X={buildUnableToPopLexerModeMessage:function(t){return"Unable to pop Lexer Mode after encountering Token ->"+t.image+"<- The Mode Stack is empty"},buildUnexpectedCharactersMessage:function(t,e,n,r,o){return"unexpected character: ->"+t.charAt(e)+"<- at offset: "+e+", skipped "+n+" characters."}};!function(t){t[t.MISSING_PATTERN=0]="MISSING_PATTERN",t[t.INVALID_PATTERN=1]="INVALID_PATTERN",t[t.EOI_ANCHOR_FOUND=2]="EOI_ANCHOR_FOUND",t[t.UNSUPPORTED_FLAGS_FOUND=3]="UNSUPPORTED_FLAGS_FOUND",t[t.DUPLICATE_PATTERNS_FOUND=4]="DUPLICATE_PATTERNS_FOUND",t[t.INVALID_GROUP_TYPE_FOUND=5]="INVALID_GROUP_TYPE_FOUND",t[t.PUSH_MODE_DOES_NOT_EXIST=6]="PUSH_MODE_DOES_NOT_EXIST",t[t.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE=7]="MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE",t[t.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY=8]="MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY",t[t.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST=9]="MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST",t[t.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED=10]="LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED",t[t.SOI_ANCHOR_FOUND=11]="SOI_ANCHOR_FOUND",t[t.EMPTY_MATCH_PATTERN=12]="EMPTY_MATCH_PATTERN",t[t.NO_LINE_BREAKS_FLAGS=13]="NO_LINE_BREAKS_FLAGS",t[t.UNREACHABLE_PATTERN=14]="UNREACHABLE_PATTERN",t[t.IDENTIFY_TERMINATOR=15]="IDENTIFY_TERMINATOR",t[t.CUSTOM_LINE_BREAK=16]="CUSTOM_LINE_BREAK"}(Y||(Y={}));var J={deferDefinitionErrorsHandling:!1,positionTracking:"full",lineTerminatorsPattern:/\n|\r\n?/g,lineTerminatorCharacters:["\n","\r"],ensureOptimizations:!1,safeMode:!1,errorMessageProvider:X,traceInitPerf:!1,skipValidations:!1};Object.freeze(J);var $=function(){function t(t,e){var n=this;if(void 0===e&&(e=J),this.lexerDefinition=t,this.lexerDefinitionErrors=[],this.lexerDefinitionWarning=[],this.patternIdxToConfig={},this.charCodeToPatternIdxToConfig={},this.modes=[],this.emptyGroups={},this.config=void 0,this.trackStartLines=!0,this.trackEndLines=!0,this.hasCustom=!1,this.canModeBeOptimized={},"boolean"==typeof e)throw Error("The second argument to the Lexer constructor is now an ILexerConfig Object.\na boolean 2nd argument is no longer supported");this.config=Object(o.K)(J,e);var r=this.config.traceInitPerf;!0===r?(this.traceInitMaxIdent=1/0,this.traceInitPerf=!0):"number"==typeof r&&(this.traceInitMaxIdent=r,this.traceInitPerf=!0),this.traceInitIndent=-1,this.TRACE_INIT("Lexer Constructor",(function(){var r,i=!0;n.TRACE_INIT("Lexer Config handling",(function(){if(n.config.lineTerminatorsPattern===J.lineTerminatorsPattern)n.config.lineTerminatorsPattern=L;else if(n.config.lineTerminatorCharacters===J.lineTerminatorCharacters)throw Error("Error: Missing <lineTerminatorCharacters> property on the Lexer config.\n\tFor details See: https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#MISSING_LINE_TERM_CHARS");if(e.safeMode&&e.ensureOptimizations)throw Error('"safeMode" and "ensureOptimizations" flags are mutually exclusive.');n.trackStartLines=/full|onlyStart/i.test(n.config.positionTracking),n.trackEndLines=/full/i.test(n.config.positionTracking),Object(o.y)(t)?((r={modes:{}}).modes[w]=Object(o.g)(t),r[w]=w):(i=!1,r=Object(o.h)(t))})),!1===n.config.skipValidations&&(n.TRACE_INIT("performRuntimeChecks",(function(){n.lexerDefinitionErrors=n.lexerDefinitionErrors.concat(function(t,e,n){var r=[];return Object(o.w)(t,w)||r.push({message:"A MultiMode Lexer cannot be initialized without a <"+w+"> property in its definition\n",type:Y.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE}),Object(o.w)(t,E)||r.push({message:"A MultiMode Lexer cannot be initialized without a <"+E+"> property in its definition\n",type:Y.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY}),Object(o.w)(t,E)&&Object(o.w)(t,w)&&!Object(o.w)(t.modes,t.defaultMode)&&r.push({message:"A MultiMode Lexer cannot be initialized with a "+w+": <"+t.defaultMode+">which does not exist\n",type:Y.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST}),Object(o.w)(t,E)&&Object(o.u)(t.modes,(function(t,e){Object(o.u)(t,(function(t,n){Object(o.F)(t)&&r.push({message:"A Lexer cannot be initialized using an undefined Token Type. Mode:<"+e+"> at index: <"+n+">\n",type:Y.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED})}))})),r}(r,n.trackStartLines,n.config.lineTerminatorCharacters))})),n.TRACE_INIT("performWarningRuntimeChecks",(function(){n.lexerDefinitionWarning=n.lexerDefinitionWarning.concat(I(r,n.trackStartLines,n.config.lineTerminatorCharacters))}))),r.modes=r.modes?r.modes:{},Object(o.u)(r.modes,(function(t,e){r.modes[e]=Object(o.P)(t,(function(t){return Object(o.F)(t)}))}));var a=Object(o.G)(r.modes);if(Object(o.u)(r.modes,(function(t,r){n.TRACE_INIT("Mode: <"+r+"> processing",(function(){var i;(n.modes.push(r),!1===n.config.skipValidations&&n.TRACE_INIT("validatePatterns",(function(){n.lexerDefinitionErrors=n.lexerDefinitionErrors.concat(T(t,a))})),Object(o.A)(n.lexerDefinitionErrors))&&(W(t),n.TRACE_INIT("analyzeTokenTypes",(function(){i=x(t,{lineTerminatorCharacters:n.config.lineTerminatorCharacters,positionTracking:e.positionTracking,ensureOptimizations:e.ensureOptimizations,safeMode:e.safeMode,tracer:n.TRACE_INIT.bind(n)})})),n.patternIdxToConfig[r]=i.patternIdxToConfig,n.charCodeToPatternIdxToConfig[r]=i.charCodeToPatternIdxToConfig,n.emptyGroups=Object(o.K)(n.emptyGroups,i.emptyGroups),n.hasCustom=i.hasCustom||n.hasCustom,n.canModeBeOptimized[r]=i.canBeOptimized)}))})),n.defaultMode=r.defaultMode,!Object(o.A)(n.lexerDefinitionErrors)&&!n.config.deferDefinitionErrorsHandling){var c=Object(o.I)(n.lexerDefinitionErrors,(function(t){return t.message})).join("-----------------------\n");throw new Error("Errors detected in definition of Lexer:\n"+c)}Object(o.u)(n.lexerDefinitionWarning,(function(t){Object(o.d)(t.message)})),n.TRACE_INIT("Choosing sub-methods implementations",(function(){if(O?(n.chopInput=o.a,n.match=n.matchWithTest):(n.updateLastIndex=o.b,n.match=n.matchWithExec),i&&(n.handleModes=o.b),!1===n.trackStartLines&&(n.computeNewColumn=o.a),!1===n.trackEndLines&&(n.updateTokenEndLineColumnLocation=o.b),/full/i.test(n.config.positionTracking))n.createTokenInstance=n.createFullToken;else if(/onlyStart/i.test(n.config.positionTracking))n.createTokenInstance=n.createStartOnlyToken;else{if(!/onlyOffset/i.test(n.config.positionTracking))throw Error('Invalid <positionTracking> config option: "'+n.config.positionTracking+'"');n.createTokenInstance=n.createOffsetOnlyToken}n.hasCustom?(n.addToken=n.addTokenUsingPush,n.handlePayload=n.handlePayloadWithCustom):(n.addToken=n.addTokenUsingMemberAccess,n.handlePayload=n.handlePayloadNoCustom)})),n.TRACE_INIT("Failed Optimization Warnings",(function(){var t=Object(o.O)(n.canModeBeOptimized,(function(t,e,n){return!1===e&&t.push(n),t}),[]);if(e.ensureOptimizations&&!Object(o.A)(t))throw Error("Lexer Modes: < "+t.join(", ")+' > cannot be optimized.\n\t Disable the "ensureOptimizations" lexer config flag to silently ignore this and run the lexer in an un-optimized mode.\n\t Or inspect the console log for details on how to resolve these issues.')})),n.TRACE_INIT("clearRegExpParserCache",(function(){s={}})),n.TRACE_INIT("toFastProperties",(function(){Object(o.S)(n)}))}))}return t.prototype.tokenize=function(t,e){if(void 0===e&&(e=this.defaultMode),!Object(o.A)(this.lexerDefinitionErrors)){var n=Object(o.I)(this.lexerDefinitionErrors,(function(t){return t.message})).join("-----------------------\n");throw new Error("Unable to Tokenize because Errors detected in definition of Lexer:\n"+n)}return this.tokenizeInternal(t,e)},t.prototype.tokenizeInternal=function(t,e){var n,r,i,s,a,c,u,l,h,p,d,f,_,m,v,g,y,b=this,w=t,E=w.length,O=0,x=0,T=this.hasCustom?0:Math.floor(t.length/10),A=new Array(T),S=[],N=this.trackStartLines?1:void 0,C=this.trackStartLines?1:void 0,I=(v=this.emptyGroups,g={},y=Object(o.G)(v),Object(o.u)(y,(function(t){var e=v[t];if(!Object(o.y)(e))throw Error("non exhaustive match");g[t]=[]})),g),R=this.trackStartLines,k=this.config.lineTerminatorsPattern,L=0,j=[],P=[],M=[],D=[];Object.freeze(D);var F=void 0;function B(){return j}function z(t){var e=U(t),n=P[e];return void 0===n?D:n}var H,q=function(t){if(1===M.length&&void 0===t.tokenType.PUSH_MODE){var e=b.config.errorMessageProvider.buildUnableToPopLexerModeMessage(t);S.push({offset:t.startOffset,line:void 0!==t.startLine?t.startLine:void 0,column:void 0!==t.startColumn?t.startColumn:void 0,length:t.image.length,message:e})}else{M.pop();var n=Object(o.H)(M);j=b.patternIdxToConfig[n],P=b.charCodeToPatternIdxToConfig[n],L=j.length;var r=b.canModeBeOptimized[n]&&!1===b.config.safeMode;F=P&&r?z:B}};function W(t){M.push(t),P=this.charCodeToPatternIdxToConfig[t],j=this.patternIdxToConfig[t],L=j.length,L=j.length;var e=this.canModeBeOptimized[t]&&!1===this.config.safeMode;F=P&&e?z:B}for(W.call(this,e);O<E;){a=null;var V=w.charCodeAt(O),G=F(V),K=G.length;for(n=0;n<K;n++){var Y=(H=G[n]).pattern;if(c=null,!1!==(ot=H.short)?V===ot&&(a=Y):!0===H.isCustom?null!==(m=Y.exec(w,O,A,I))?(a=m[0],void 0!==m.payload&&(c=m.payload)):a=null:(this.updateLastIndex(Y,O),a=this.match(Y,t,O)),null!==a){if(void 0!==(s=H.longerAlt)){var X=j[s],J=X.pattern;u=null,!0===X.isCustom?null!==(m=J.exec(w,O,A,I))?(i=m[0],void 0!==m.payload&&(u=m.payload)):i=null:(this.updateLastIndex(J,O),i=this.match(J,t,O)),i&&i.length>a.length&&(a=i,c=u,H=X)}break}}if(null!==a){if(l=a.length,void 0!==(h=H.group)&&(p=H.tokenTypeIdx,d=this.createTokenInstance(a,O,p,H.tokenType,N,C,l),this.handlePayload(d,c),!1===h?x=this.addToken(A,x,d):I[h].push(d)),t=this.chopInput(t,l),O+=l,C=this.computeNewColumn(C,l),!0===R&&!0===H.canLineTerminator){var $=0,Z=void 0,Q=void 0;k.lastIndex=0;do{!0===(Z=k.test(a))&&(Q=k.lastIndex-1,$++)}while(!0===Z);0!==$&&(N+=$,C=l-Q,this.updateTokenEndLineColumnLocation(d,h,Q,$,N,C,l))}this.handleModes(H,q,W,d)}else{for(var tt=O,et=N,nt=C,rt=!1;!rt&&O<E;)for(w.charCodeAt(O),t=this.chopInput(t,1),O++,r=0;r<L;r++){var ot,it=j[r];Y=it.pattern;if(!1!==(ot=it.short)?w.charCodeAt(O)===ot&&(rt=!0):!0===it.isCustom?rt=null!==Y.exec(w,O,A,I):(this.updateLastIndex(Y,O),rt=null!==Y.exec(t)),!0===rt)break}f=O-tt,_=this.config.errorMessageProvider.buildUnexpectedCharactersMessage(w,tt,f,et,nt),S.push({offset:tt,line:et,column:nt,length:f,message:_})}}return this.hasCustom||(A.length=x),{tokens:A,groups:I,errors:S}},t.prototype.handleModes=function(t,e,n,r){if(!0===t.pop){var o=t.push;e(r),void 0!==o&&n.call(this,o)}else void 0!==t.push&&n.call(this,t.push)},t.prototype.chopInput=function(t,e){return t.substring(e)},t.prototype.updateLastIndex=function(t,e){t.lastIndex=e},t.prototype.updateTokenEndLineColumnLocation=function(t,e,n,r,o,i,s){var a,c;void 0!==e&&(c=(a=n===s-1)?-1:0,1===r&&!0===a||(t.endLine=o+c,t.endColumn=i-1-c))},t.prototype.computeNewColumn=function(t,e){return t+e},t.prototype.createTokenInstance=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return null},t.prototype.createOffsetOnlyToken=function(t,e,n,r){return{image:t,startOffset:e,tokenTypeIdx:n,tokenType:r}},t.prototype.createStartOnlyToken=function(t,e,n,r,o,i){return{image:t,startOffset:e,startLine:o,startColumn:i,tokenTypeIdx:n,tokenType:r}},t.prototype.createFullToken=function(t,e,n,r,o,i,s){return{image:t,startOffset:e,endOffset:e+s-1,startLine:o,endLine:o,startColumn:i,endColumn:i+s-1,tokenTypeIdx:n,tokenType:r}},t.prototype.addToken=function(t,e,n){return 666},t.prototype.addTokenUsingPush=function(t,e,n){return t.push(n),e},t.prototype.addTokenUsingMemberAccess=function(t,e,n){return t[e]=n,++e},t.prototype.handlePayload=function(t,e){},t.prototype.handlePayloadNoCustom=function(t,e){},t.prototype.handlePayloadWithCustom=function(t,e){null!==e&&(t.payload=e)},t.prototype.match=function(t,e,n){return null},t.prototype.matchWithTest=function(t,e,n){return!0===t.test(e)?e.substring(n,t.lastIndex):null},t.prototype.matchWithExec=function(t,e){var n=t.exec(e);return null!==n?n[0]:n},t.prototype.TRACE_INIT=function(t,e){if(!0===this.traceInitPerf){this.traceInitIndent++;var n=new Array(this.traceInitIndent+1).join("\t");this.traceInitIndent<this.traceInitMaxIdent&&console.log(n+"--\x3e <"+t+">");var r=Object(o.R)(e),i=r.time,s=r.value,a=i>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&a(n+"<-- <"+t+"> time: "+i+"ms"),this.traceInitIndent--,s}return e()},t.SKIPPED="This marks a skipped Token pattern, this means each token identified by it willbe consumed and then thrown into oblivion, this can be used to for example to completely ignore whitespace.",t.NA=/NOT_APPLICABLE/,t}();function Z(t){return tt(t)?t.LABEL:t.name}function Q(t){return t.name}function tt(t){return Object(o.E)(t.LABEL)&&""!==t.LABEL}var et="parent",nt="categories",rt="label",ot="group",it="push_mode",st="pop_mode",at="longer_alt",ct="line_breaks",ut="start_chars_hint";function lt(t){return function(t){var e=t.pattern,n={};n.name=t.name,Object(o.F)(e)||(n.PATTERN=e);if(Object(o.w)(t,et))throw"The parent property is no longer supported.\nSee: https://github.com/SAP/chevrotain/issues/564#issuecomment-349062346 for details.";Object(o.w)(t,nt)&&(n.CATEGORIES=t[nt]);W([n]),Object(o.w)(t,rt)&&(n.LABEL=t[rt]);Object(o.w)(t,ot)&&(n.GROUP=t[ot]);Object(o.w)(t,st)&&(n.POP_MODE=t[st]);Object(o.w)(t,it)&&(n.PUSH_MODE=t[it]);Object(o.w)(t,at)&&(n.LONGER_ALT=t[at]);Object(o.w)(t,ct)&&(n.LINE_BREAKS=t[ct]);Object(o.w)(t,ut)&&(n.START_CHARS_HINT=t[ut]);return n}(t)}var ht=lt({name:"EOF",pattern:$.NA});function pt(t,e,n,r,o,i,s,a){return{image:e,startOffset:n,endOffset:r,startLine:o,endLine:i,startColumn:s,endColumn:a,tokenTypeIdx:t.tokenTypeIdx,tokenType:t}}function dt(t,e){return B(t,e)}W([ht]);var ft=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),_t=function(){function t(t){this.definition=t}return t.prototype.accept=function(t){t.visit(this),Object(o.u)(this.definition,(function(e){e.accept(t)}))},t}(),mt=function(t){function e(e){var n=t.call(this,[])||this;return n.idx=1,Object(o.f)(n,Object(o.N)(e,(function(t){return void 0!==t}))),n}return ft(e,t),Object.defineProperty(e.prototype,"definition",{get:function(){return void 0!==this.referencedRule?this.referencedRule.definition:[]},set:function(t){},enumerable:!0,configurable:!0}),e.prototype.accept=function(t){t.visit(this)},e}(_t),vt=function(t){function e(e){var n=t.call(this,e.definition)||this;return n.orgText="",Object(o.f)(n,Object(o.N)(e,(function(t){return void 0!==t}))),n}return ft(e,t),e}(_t),gt=function(t){function e(e){var n=t.call(this,e.definition)||this;return n.ignoreAmbiguities=!1,Object(o.f)(n,Object(o.N)(e,(function(t){return void 0!==t}))),n}return ft(e,t),e}(_t),yt=function(t){function e(e){var n=t.call(this,e.definition)||this;return n.idx=1,Object(o.f)(n,Object(o.N)(e,(function(t){return void 0!==t}))),n}return ft(e,t),e}(_t),bt=function(t){function e(e){var n=t.call(this,e.definition)||this;return n.idx=1,Object(o.f)(n,Object(o.N)(e,(function(t){return void 0!==t}))),n}return ft(e,t),e}(_t),wt=function(t){function e(e){var n=t.call(this,e.definition)||this;return n.idx=1,Object(o.f)(n,Object(o.N)(e,(function(t){return void 0!==t}))),n}return ft(e,t),e}(_t),Et=function(t){function e(e){var n=t.call(this,e.definition)||this;return n.idx=1,Object(o.f)(n,Object(o.N)(e,(function(t){return void 0!==t}))),n}return ft(e,t),e}(_t),Ot=function(t){function e(e){var n=t.call(this,e.definition)||this;return n.idx=1,Object(o.f)(n,Object(o.N)(e,(function(t){return void 0!==t}))),n}return ft(e,t),e}(_t),xt=function(t){function e(e){var n=t.call(this,e.definition)||this;return n.idx=1,n.ignoreAmbiguities=!1,n.hasPredicates=!1,Object(o.f)(n,Object(o.N)(e,(function(t){return void 0!==t}))),n}return ft(e,t),e}(_t),Tt=function(){function t(t){this.idx=1,Object(o.f)(this,Object(o.N)(t,(function(t){return void 0!==t})))}return t.prototype.accept=function(t){t.visit(this)},t}();function At(t){return Object(o.I)(t,St)}function St(t){function e(t){return Object(o.I)(t,St)}if(t instanceof mt)return{type:"NonTerminal",name:t.nonTerminalName,idx:t.idx};if(t instanceof gt)return{type:"Flat",definition:e(t.definition)};if(t instanceof yt)return{type:"Option",idx:t.idx,definition:e(t.definition)};if(t instanceof bt)return{type:"RepetitionMandatory",name:t.name,idx:t.idx,definition:e(t.definition)};if(t instanceof wt)return{type:"RepetitionMandatoryWithSeparator",name:t.name,idx:t.idx,separator:St(new Tt({terminalType:t.separator})),definition:e(t.definition)};if(t instanceof Ot)return{type:"RepetitionWithSeparator",name:t.name,idx:t.idx,separator:St(new Tt({terminalType:t.separator})),definition:e(t.definition)};if(t instanceof Et)return{type:"Repetition",name:t.name,idx:t.idx,definition:e(t.definition)};if(t instanceof xt)return{type:"Alternation",name:t.name,idx:t.idx,definition:e(t.definition)};if(t instanceof Tt){var n={type:"Terminal",name:t.terminalType.name,label:Z(t.terminalType),idx:t.idx},r=t.terminalType.PATTERN;return t.terminalType.PATTERN&&(n.pattern=Object(o.D)(r)?r.source:r),n}if(t instanceof vt)return{type:"Rule",name:t.name,orgText:t.orgText,definition:e(t.definition)};throw Error("non exhaustive match")}var Nt=function(){function t(){}return t.prototype.walk=function(t,e){var n=this;void 0===e&&(e=[]),Object(o.u)(t.definition,(function(r,i){var s=Object(o.m)(t.definition,i+1);if(r instanceof mt)n.walkProdRef(r,s,e);else if(r instanceof Tt)n.walkTerminal(r,s,e);else if(r instanceof gt)n.walkFlat(r,s,e);else if(r instanceof yt)n.walkOption(r,s,e);else if(r instanceof bt)n.walkAtLeastOne(r,s,e);else if(r instanceof wt)n.walkAtLeastOneSep(r,s,e);else if(r instanceof Ot)n.walkManySep(r,s,e);else if(r instanceof Et)n.walkMany(r,s,e);else{if(!(r instanceof xt))throw Error("non exhaustive match");n.walkOr(r,s,e)}}))},t.prototype.walkTerminal=function(t,e,n){},t.prototype.walkProdRef=function(t,e,n){},t.prototype.walkFlat=function(t,e,n){var r=e.concat(n);this.walk(t,r)},t.prototype.walkOption=function(t,e,n){var r=e.concat(n);this.walk(t,r)},t.prototype.walkAtLeastOne=function(t,e,n){var r=[new yt({definition:t.definition})].concat(e,n);this.walk(t,r)},t.prototype.walkAtLeastOneSep=function(t,e,n){var r=Ct(t,e,n);this.walk(t,r)},t.prototype.walkMany=function(t,e,n){var r=[new yt({definition:t.definition})].concat(e,n);this.walk(t,r)},t.prototype.walkManySep=function(t,e,n){var r=Ct(t,e,n);this.walk(t,r)},t.prototype.walkOr=function(t,e,n){var r=this,i=e.concat(n);Object(o.u)(t.definition,(function(t){var e=new gt({definition:[t]});r.walk(e,i)}))},t}();function Ct(t,e,n){return[new yt({definition:[new Tt({terminalType:t.separator})].concat(t.definition)})].concat(e,n)}var It=function(){function t(){}return t.prototype.visit=function(t){var e=t;switch(e.constructor){case mt:return this.visitNonTerminal(e);case gt:return this.visitFlat(e);case yt:return this.visitOption(e);case bt:return this.visitRepetitionMandatory(e);case wt:return this.visitRepetitionMandatoryWithSeparator(e);case Ot:return this.visitRepetitionWithSeparator(e);case Et:return this.visitRepetition(e);case xt:return this.visitAlternation(e);case Tt:return this.visitTerminal(e);case vt:return this.visitRule(e);default:throw Error("non exhaustive match")}},t.prototype.visitNonTerminal=function(t){},t.prototype.visitFlat=function(t){},t.prototype.visitOption=function(t){},t.prototype.visitRepetition=function(t){},t.prototype.visitRepetitionMandatory=function(t){},t.prototype.visitRepetitionMandatoryWithSeparator=function(t){},t.prototype.visitRepetitionWithSeparator=function(t){},t.prototype.visitAlternation=function(t){},t.prototype.visitTerminal=function(t){},t.prototype.visitRule=function(t){},t}(),Rt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function kt(t,e){return void 0===e&&(e=[]),!!(t instanceof yt||t instanceof Et||t instanceof Ot)||(t instanceof xt?Object(o.Q)(t.definition,(function(t){return kt(t,e)})):!(t instanceof mt&&Object(o.j)(e,t))&&(t instanceof _t&&(t instanceof mt&&e.push(t),Object(o.o)(t.definition,(function(t){return kt(t,e)})))))}function Lt(t){if(t instanceof mt)return"SUBRULE";if(t instanceof yt)return"OPTION";if(t instanceof xt)return"OR";if(t instanceof bt)return"AT_LEAST_ONE";if(t instanceof wt)return"AT_LEAST_ONE_SEP";if(t instanceof Ot)return"MANY_SEP";if(t instanceof Et)return"MANY";if(t instanceof Tt)return"CONSUME";throw Error("non exhaustive match")}var jt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.separator="-",e.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]},e}return Rt(e,t),e.prototype.reset=function(){this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}},e.prototype.visitTerminal=function(t){var e=t.terminalType.name+this.separator+"Terminal";Object(o.w)(this.dslMethods,e)||(this.dslMethods[e]=[]),this.dslMethods[e].push(t)},e.prototype.visitNonTerminal=function(t){var e=t.nonTerminalName+this.separator+"Terminal";Object(o.w)(this.dslMethods,e)||(this.dslMethods[e]=[]),this.dslMethods[e].push(t)},e.prototype.visitOption=function(t){this.dslMethods.option.push(t)},e.prototype.visitRepetitionWithSeparator=function(t){this.dslMethods.repetitionWithSeparator.push(t)},e.prototype.visitRepetitionMandatory=function(t){this.dslMethods.repetitionMandatory.push(t)},e.prototype.visitRepetitionMandatoryWithSeparator=function(t){this.dslMethods.repetitionMandatoryWithSeparator.push(t)},e.prototype.visitRepetition=function(t){this.dslMethods.repetition.push(t)},e.prototype.visitAlternation=function(t){this.dslMethods.alternation.push(t)},e}(It),Pt=new jt;function Mt(t){if(t instanceof mt)return Mt(t.referencedRule);if(t instanceof Tt)return[t.terminalType];if(function(t){return t instanceof gt||t instanceof yt||t instanceof Et||t instanceof bt||t instanceof wt||t instanceof Ot||t instanceof Tt||t instanceof vt}(t))return function(t){var e,n=[],r=t.definition,i=0,s=r.length>i,a=!0;for(;s&&a;)e=r[i],a=kt(e),n=n.concat(Mt(e)),i+=1,s=r.length>i;return Object(o.T)(n)}(t);if(function(t){return t instanceof xt}(t))return function(t){var e=Object(o.I)(t.definition,(function(t){return Mt(t)}));return Object(o.T)(Object(o.t)(e))}(t);throw Error("non exhaustive match")}var Dt="_~IN~_",Ut=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ft=function(t){function e(e){var n=t.call(this)||this;return n.topProd=e,n.follows={},n}return Ut(e,t),e.prototype.startWalking=function(){return this.walk(this.topProd),this.follows},e.prototype.walkTerminal=function(t,e,n){},e.prototype.walkProdRef=function(t,e,n){var r,o,i=(r=t.referencedRule,o=t.idx,r.name+o+Dt+this.topProd.name),s=e.concat(n),a=Mt(new gt({definition:s}));this.follows[i]=a},e}(Nt);function Bt(t,e,n){return n|e|t}var zt=24;function Ht(t,e,n,r){var o=r+1<<zt;return Bt(t,e,n)|o}var qt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function Wt(t,e){!0===isNaN(t.startOffset)?(t.startOffset=e.startOffset,t.endOffset=e.endOffset):t.endOffset<e.endOffset==!0&&(t.endOffset=e.endOffset)}function Vt(t,e){!0===isNaN(t.startOffset)?(t.startOffset=e.startOffset,t.startColumn=e.startColumn,t.startLine=e.startLine,t.endOffset=e.endOffset,t.endColumn=e.endColumn,t.endLine=e.endLine):t.endOffset<e.endOffset==!0&&(t.endOffset=e.endOffset,t.endColumn=e.endColumn,t.endLine=e.endLine)}function Gt(t,e,n){void 0===t.children[e]?t.children[e]=[n]:t.children[e].push(n)}var Kt=function(t){function e(e){var n=t.call(this)||this;return n.result=[],n.ruleIdx=e,n}return qt(e,t),e.prototype.collectNamedDSLMethod=function(t,e,n){if(!Object(o.F)(t.name)){var r=void 0;if(t instanceof yt||t instanceof Et||t instanceof bt||t instanceof xt)r=new e({definition:t.definition,idx:t.idx});else{if(!(t instanceof wt||t instanceof Ot))throw Error("non exhaustive match");r=new e({definition:t.definition,idx:t.idx,separator:t.separator})}var i=[r],s=Bt(this.ruleIdx,n,t.idx);this.result.push({def:i,key:s,name:t.name,orgProd:t})}},e.prototype.visitOption=function(t){this.collectNamedDSLMethod(t,yt,512)},e.prototype.visitRepetition=function(t){this.collectNamedDSLMethod(t,Et,768)},e.prototype.visitRepetitionMandatory=function(t){this.collectNamedDSLMethod(t,bt,1024)},e.prototype.visitRepetitionMandatoryWithSeparator=function(t){this.collectNamedDSLMethod(t,wt,1536)},e.prototype.visitRepetitionWithSeparator=function(t){this.collectNamedDSLMethod(t,Ot,1280)},e.prototype.visitAlternation=function(t){var e=this;this.collectNamedDSLMethod(t,xt,256);var n=t.definition.length>1;Object(o.u)(t.definition,(function(r,i){if(!Object(o.F)(r.name)){var s=r.definition;s=n?[new yt({definition:r.definition})]:r.definition;var a=Ht(e.ruleIdx,256,t.idx,i);e.result.push({def:s,key:a,name:r.name,orgProd:r})}}))},e}(It);var Yt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Xt=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.path=n,r.nextTerminalName="",r.nextTerminalOccurrence=0,r.nextTerminalName=r.path.lastTok.name,r.nextTerminalOccurrence=r.path.lastTokOccurrence,r}return Yt(e,t),e.prototype.walkTerminal=function(t,e,n){if(this.isAtEndOfPath&&t.terminalType.name===this.nextTerminalName&&t.idx===this.nextTerminalOccurrence&&!this.found){var r=e.concat(n),o=new gt({definition:r});this.possibleTokTypes=Mt(o),this.found=!0}},e}(function(t){function e(e,n){var r=t.call(this)||this;return r.topProd=e,r.path=n,r.possibleTokTypes=[],r.nextProductionName="",r.nextProductionOccurrence=0,r.found=!1,r.isAtEndOfPath=!1,r}return Yt(e,t),e.prototype.startWalking=function(){if(this.found=!1,this.path.ruleStack[0]!==this.topProd.name)throw Error("The path does not start with the walker's top Rule!");return this.ruleStack=Object(o.g)(this.path.ruleStack).reverse(),this.occurrenceStack=Object(o.g)(this.path.occurrenceStack).reverse(),this.ruleStack.pop(),this.occurrenceStack.pop(),this.updateExpectedNext(),this.walk(this.topProd),this.possibleTokTypes},e.prototype.walk=function(e,n){void 0===n&&(n=[]),this.found||t.prototype.walk.call(this,e,n)},e.prototype.walkProdRef=function(t,e,n){if(t.referencedRule.name===this.nextProductionName&&t.idx===this.nextProductionOccurrence){var r=e.concat(n);this.updateExpectedNext(),this.walk(t.referencedRule,r)}},e.prototype.updateExpectedNext=function(){Object(o.A)(this.ruleStack)?(this.nextProductionName="",this.nextProductionOccurrence=0,this.isAtEndOfPath=!0):(this.nextProductionName=this.ruleStack.pop(),this.nextProductionOccurrence=this.occurrenceStack.pop())},e}(Nt)),Jt=function(t){function e(e,n){var r=t.call(this)||this;return r.topRule=e,r.occurrence=n,r.result={token:void 0,occurrence:void 0,isEndOfRule:void 0},r}return Yt(e,t),e.prototype.startWalking=function(){return this.walk(this.topRule),this.result},e}(Nt),$t=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Yt(e,t),e.prototype.walkMany=function(e,n,r){if(e.idx===this.occurrence){var i=Object(o.s)(n.concat(r));this.result.isEndOfRule=void 0===i,i instanceof Tt&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else t.prototype.walkMany.call(this,e,n,r)},e}(Jt),Zt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Yt(e,t),e.prototype.walkManySep=function(e,n,r){if(e.idx===this.occurrence){var i=Object(o.s)(n.concat(r));this.result.isEndOfRule=void 0===i,i instanceof Tt&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else t.prototype.walkManySep.call(this,e,n,r)},e}(Jt),Qt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Yt(e,t),e.prototype.walkAtLeastOne=function(e,n,r){if(e.idx===this.occurrence){var i=Object(o.s)(n.concat(r));this.result.isEndOfRule=void 0===i,i instanceof Tt&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else t.prototype.walkAtLeastOne.call(this,e,n,r)},e}(Jt),te=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Yt(e,t),e.prototype.walkAtLeastOneSep=function(e,n,r){if(e.idx===this.occurrence){var i=Object(o.s)(n.concat(r));this.result.isEndOfRule=void 0===i,i instanceof Tt&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else t.prototype.walkAtLeastOneSep.call(this,e,n,r)},e}(Jt);function ee(t,e,n){void 0===n&&(n=[]),n=Object(o.g)(n);var r=[],i=0;function s(s){var a=ee(s.concat(Object(o.m)(t,i+1)),e,n);return r.concat(a)}for(;n.length<e&&i<t.length;){var a=t[i];if(a instanceof gt)return s(a.definition);if(a instanceof mt)return s(a.definition);if(a instanceof yt)r=s(a.definition);else{if(a instanceof bt)return s(c=a.definition.concat([new Et({definition:a.definition})]));if(a instanceof wt)return s(c=[new gt({definition:a.definition}),new Et({definition:[new Tt({terminalType:a.separator})].concat(a.definition)})]);if(a instanceof Ot){var c=a.definition.concat([new Et({definition:[new Tt({terminalType:a.separator})].concat(a.definition)})]);r=s(c)}else if(a instanceof Et){c=a.definition.concat([new Et({definition:a.definition})]);r=s(c)}else{if(a instanceof xt)return Object(o.u)(a.definition,(function(t){r=s(t.definition)})),r;if(!(a instanceof Tt))throw Error("non exhaustive match");n.push(a.terminalType)}}i++}return r.push({partialPath:n,suffixDef:Object(o.m)(t,i)}),r}function ne(t,e,n,r){var i=["EXIT_NONE_TERMINAL"],s=!1,a=e.length,c=a-r-1,u=[],l=[];for(l.push({idx:-1,def:t,ruleStack:[],occurrenceStack:[]});!Object(o.A)(l);){var h=l.pop();if("EXIT_ALTERNATIVE"!==h){var p=h.def,d=h.idx,f=h.ruleStack,_=h.occurrenceStack;if(!Object(o.A)(p)){var m=p[0];if("EXIT_NONE_TERMINAL"===m){var v={idx:d,def:Object(o.m)(p),ruleStack:Object(o.n)(f),occurrenceStack:Object(o.n)(_)};l.push(v)}else if(m instanceof Tt)if(d<a-1){var g=d+1;if(n(e[g],m.terminalType)){v={idx:g,def:Object(o.m)(p),ruleStack:f,occurrenceStack:_};l.push(v)}}else{if(d!==a-1)throw Error("non exhaustive match");u.push({nextTokenType:m.terminalType,nextTokenOccurrence:m.idx,ruleStack:f,occurrenceStack:_}),s=!0}else if(m instanceof mt){var y=Object(o.g)(f);y.push(m.nonTerminalName);var b=Object(o.g)(_);b.push(m.idx);v={idx:d,def:m.definition.concat(i,Object(o.m)(p)),ruleStack:y,occurrenceStack:b};l.push(v)}else if(m instanceof yt){var w={idx:d,def:Object(o.m)(p),ruleStack:f,occurrenceStack:_};l.push(w),l.push("EXIT_ALTERNATIVE");var E={idx:d,def:m.definition.concat(Object(o.m)(p)),ruleStack:f,occurrenceStack:_};l.push(E)}else if(m instanceof bt){var O=new Et({definition:m.definition,idx:m.idx});v={idx:d,def:m.definition.concat([O],Object(o.m)(p)),ruleStack:f,occurrenceStack:_};l.push(v)}else if(m instanceof wt){var x=new Tt({terminalType:m.separator});O=new Et({definition:[x].concat(m.definition),idx:m.idx}),v={idx:d,def:m.definition.concat([O],Object(o.m)(p)),ruleStack:f,occurrenceStack:_};l.push(v)}else if(m instanceof Ot){w={idx:d,def:Object(o.m)(p),ruleStack:f,occurrenceStack:_};l.push(w),l.push("EXIT_ALTERNATIVE");x=new Tt({terminalType:m.separator});var T=new Et({definition:[x].concat(m.definition),idx:m.idx});E={idx:d,def:m.definition.concat([T],Object(o.m)(p)),ruleStack:f,occurrenceStack:_};l.push(E)}else if(m instanceof Et){w={idx:d,def:Object(o.m)(p),ruleStack:f,occurrenceStack:_};l.push(w),l.push("EXIT_ALTERNATIVE");T=new Et({definition:m.definition,idx:m.idx}),E={idx:d,def:m.definition.concat([T],Object(o.m)(p)),ruleStack:f,occurrenceStack:_};l.push(E)}else if(m instanceof xt)for(var A=m.definition.length-1;A>=0;A--){var S={idx:d,def:m.definition[A].definition.concat(Object(o.m)(p)),ruleStack:f,occurrenceStack:_};l.push(S),l.push("EXIT_ALTERNATIVE")}else if(m instanceof gt)l.push({idx:d,def:m.definition.concat(Object(o.m)(p)),ruleStack:f,occurrenceStack:_});else{if(!(m instanceof vt))throw Error("non exhaustive match");l.push(re(m,d,f,_))}}}else s&&Object(o.H)(l).idx<=c&&l.pop()}return u}function re(t,e,n,r){var i=Object(o.g)(n);i.push(t.name);var s=Object(o.g)(r);return s.push(1),{idx:e,def:t.definition,ruleStack:i,occurrenceStack:s}}var oe,ie=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(t){t[t.OPTION=0]="OPTION",t[t.REPETITION=1]="REPETITION",t[t.REPETITION_MANDATORY=2]="REPETITION_MANDATORY",t[t.REPETITION_MANDATORY_WITH_SEPARATOR=3]="REPETITION_MANDATORY_WITH_SEPARATOR",t[t.REPETITION_WITH_SEPARATOR=4]="REPETITION_WITH_SEPARATOR",t[t.ALTERNATION=5]="ALTERNATION"}(oe||(oe={}));var se=function(t){function e(e,n,r){var o=t.call(this)||this;return o.topProd=e,o.targetOccurrence=n,o.targetProdType=r,o}return ie(e,t),e.prototype.startWalking=function(){return this.walk(this.topProd),this.restDef},e.prototype.checkIsTarget=function(t,e,n,r){return t.idx===this.targetOccurrence&&this.targetProdType===e&&(this.restDef=n.concat(r),!0)},e.prototype.walkOption=function(e,n,r){this.checkIsTarget(e,oe.OPTION,n,r)||t.prototype.walkOption.call(this,e,n,r)},e.prototype.walkAtLeastOne=function(e,n,r){this.checkIsTarget(e,oe.REPETITION_MANDATORY,n,r)||t.prototype.walkOption.call(this,e,n,r)},e.prototype.walkAtLeastOneSep=function(e,n,r){this.checkIsTarget(e,oe.REPETITION_MANDATORY_WITH_SEPARATOR,n,r)||t.prototype.walkOption.call(this,e,n,r)},e.prototype.walkMany=function(e,n,r){this.checkIsTarget(e,oe.REPETITION,n,r)||t.prototype.walkOption.call(this,e,n,r)},e.prototype.walkManySep=function(e,n,r){this.checkIsTarget(e,oe.REPETITION_WITH_SEPARATOR,n,r)||t.prototype.walkOption.call(this,e,n,r)},e}(Nt),ae=function(t){function e(e,n,r){var o=t.call(this)||this;return o.targetOccurrence=e,o.targetProdType=n,o.targetRef=r,o.result=[],o}return ie(e,t),e.prototype.checkIsTarget=function(t,e){t.idx!==this.targetOccurrence||this.targetProdType!==e||void 0!==this.targetRef&&t!==this.targetRef||(this.result=t.definition)},e.prototype.visitOption=function(t){this.checkIsTarget(t,oe.OPTION)},e.prototype.visitRepetition=function(t){this.checkIsTarget(t,oe.REPETITION)},e.prototype.visitRepetitionMandatory=function(t){this.checkIsTarget(t,oe.REPETITION_MANDATORY)},e.prototype.visitRepetitionMandatoryWithSeparator=function(t){this.checkIsTarget(t,oe.REPETITION_MANDATORY_WITH_SEPARATOR)},e.prototype.visitRepetitionWithSeparator=function(t){this.checkIsTarget(t,oe.REPETITION_WITH_SEPARATOR)},e.prototype.visitAlternation=function(t){this.checkIsTarget(t,oe.ALTERNATION)},e}(It);function ce(t){for(var e=new Array(t),n=0;n<t;n++)e[n]=[];return e}function ue(t){for(var e=[""],n=0;n<t.length;n++){for(var r=t[n],o=[],i=0;i<e.length;i++){var s=e[i];o.push(s+"_"+r.tokenTypeIdx);for(var a=0;a<r.categoryMatches.length;a++){var c="_"+r.categoryMatches[a];o.push(s+c)}}e=o}return e}function le(t,e,n){for(var r=0;r<t.length;r++)if(r!==n)for(var o=t[r],i=0;i<e.length;i++){if(!0===o[e[i]])return!1}return!0}function he(t,e){for(var n=Object(o.I)(t,(function(t){return ee([t],1)})),r=ce(n.length),i=Object(o.I)(n,(function(t){var e={};return Object(o.u)(t,(function(t){var n=ue(t.partialPath);Object(o.u)(n,(function(t){e[t]=!0}))})),e})),s=n,a=1;a<=e;a++){var c=s;s=ce(c.length);for(var u=function(t){for(var n=c[t],u=0;u<n.length;u++){var l=n[u].partialPath,h=n[u].suffixDef,p=ue(l);if(le(i,p,t)||Object(o.A)(h)||l.length===e){var d=r[t];if(!1===fe(d,l)){d.push(l);for(var f=0;f<p.length;f++){var _=p[f];i[t][_]=!0}}}else{var m=ee(h,a+1,l);s[t]=s[t].concat(m),Object(o.u)(m,(function(e){var n=ue(e.partialPath);Object(o.u)(n,(function(e){i[t][e]=!0}))}))}}},l=0;l<c.length;l++)u(l)}return r}function pe(t,e,n,r){var o=new ae(t,oe.ALTERNATION,r);return e.accept(o),he(o.result,n)}function de(t,e,n,r){var o=new ae(t,n);e.accept(o);var i=o.result,s=new se(e,t,n).startWalking();return he([new gt({definition:i}),new gt({definition:s})],r)}function fe(t,e){t:for(var n=0;n<t.length;n++){var r=t[n];if(r.length===e.length){for(var o=0;o<r.length;o++){var i=e[o],s=r[o];if(!1===(i===s||void 0!==s.categoryMatchesMap[i.tokenTypeIdx]))continue t}return!0}}return!1}function _e(t){return Object(o.o)(t,(function(t){return Object(o.o)(t,(function(t){return Object(o.o)(t,(function(t){return Object(o.A)(t.categoryMatches)}))}))}))}var me=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function ve(t,e,n,r,i,s){var a=o.I(t,(function(t){return function(t,e){var n=new be;t.accept(n);var r=n.allProductions,i=o.v(r,ge),s=o.N(i,(function(t){return t.length>1}));return o.I(o.U(s),(function(n){var r=o.s(n),i=e.buildDuplicateFoundError(t,n),s=Lt(r),a={message:i,type:On.DUPLICATE_PRODUCTIONS,ruleName:t.name,dslName:s,occurrence:r.idx},c=ye(r);return c&&(a.parameter=c),a}))}(t,i)})),c=o.I(t,(function(t){return function t(e,n,r,i){void 0===i&&(i=[]);var s=[],a=function t(e){var n=[];if(o.A(e))return n;var r=o.s(e);if(r instanceof mt)n.push(r.referencedRule);else if(r instanceof gt||r instanceof yt||r instanceof bt||r instanceof wt||r instanceof Ot||r instanceof Et)n=n.concat(t(r.definition));else if(r instanceof xt)n=o.t(o.I(r.definition,(function(e){return t(e.definition)})));else if(!(r instanceof Tt))throw Error("non exhaustive match");var i=kt(r),s=e.length>1;if(i&&s){var a=o.m(e);return n.concat(t(a))}return n}(n.definition);if(o.A(a))return[];var c=e.name;o.j(a,e)&&s.push({message:r.buildLeftRecursionError({topLevelRule:e,leftRecursionPath:i}),type:On.LEFT_RECURSION,ruleName:c});var u=o.l(a,i.concat([e])),l=o.I(u,(function(n){var s=o.g(i);return s.push(n),t(e,n,r,s)}));return s.concat(o.t(l))}(t,t,i)})),u=[],l=[],h=[];Object(o.o)(c,o.A)&&(u=Object(o.I)(t,(function(t){return function(t,e){var n=new Oe;t.accept(n);var r=n.alternations;return o.O(r,(function(n,r){var i=o.n(r.definition),s=o.I(i,(function(n,i){var s=ne([n],[],null,1);return o.A(s)?{message:e.buildEmptyAlternationError({topLevelRule:t,alternation:r,emptyChoiceIdx:i}),type:On.NONE_LAST_EMPTY_ALT,ruleName:t.name,occurrence:r.idx,alternative:i+1}:null}));return n.concat(o.i(s))}),[])}(t,i)})),l=Object(o.I)(t,(function(t){return function(t,e,n,r){var i=new Oe;t.accept(i);var s=i.alternations,a=n[t.name];a&&(s=Object(o.P)(s,(function(t){return a[Lt(t)+(0===t.idx?"":t.idx)]})));return s=Object(o.P)(s,(function(t){return!0===t.ignoreAmbiguities})),o.O(s,(function(n,i){var s=i.idx,a=i.maxLookahead||e,c=pe(s,t,a,i),u=function(t,e,n,r){var i=[],s=Object(o.O)(t,(function(n,r,s){return!0===e.definition[s].ignoreAmbiguities?n:(Object(o.u)(r,(function(r){var a=[s];Object(o.u)(t,(function(t,n){s!==n&&fe(t,r)&&!0!==e.definition[n].ignoreAmbiguities&&a.push(n)})),a.length>1&&!fe(i,r)&&(i.push(r),n.push({alts:a,path:r}))})),n)}),[]);return o.I(s,(function(t){var i=Object(o.I)(t.alts,(function(t){return t+1}));return{message:r.buildAlternationAmbiguityError({topLevelRule:n,alternation:e,ambiguityIndices:i,prefixPath:t.path}),type:On.AMBIGUOUS_ALTS,ruleName:n.name,occurrence:e.idx,alternatives:[t.alts]}}))}(c,i,t,r),l=function(t,e,n,r){var i=[],s=Object(o.O)(t,(function(t,e,n){var r=Object(o.I)(e,(function(t){return{idx:n,path:t}}));return t.concat(r)}),[]);return Object(o.u)(s,(function(t){if(!0!==e.definition[t.idx].ignoreAmbiguities){var a=t.idx,c=t.path,u=Object(o.r)(s,(function(t){return!0!==e.definition[t.idx].ignoreAmbiguities&&t.idx<a&&(n=t.path,r=c,n.length<r.length&&Object(o.o)(n,(function(t,e){var n=r[e];return t===n||n.categoryMatchesMap[t.tokenTypeIdx]})));var n,r})),l=Object(o.I)(u,(function(t){var o=[t.idx+1,a+1],i=0===e.idx?"":e.idx;return{message:r.buildAlternationPrefixAmbiguityError({topLevelRule:n,alternation:e,ambiguityIndices:o,prefixPath:t.path}),type:On.AMBIGUOUS_PREFIX_ALTS,ruleName:n.name,occurrence:i,alternatives:o}}));i=i.concat(l)}})),i}(c,i,t,r);return n.concat(u,l)}),[])}(t,e,r,i)})),h=function(t,e,n){var r=[];return Object(o.u)(t,(function(t){var i=new xe;t.accept(i);var s=i.allProductions;Object(o.u)(s,(function(i){var s=function(t){if(t instanceof yt)return oe.OPTION;if(t instanceof Et)return oe.REPETITION;if(t instanceof bt)return oe.REPETITION_MANDATORY;if(t instanceof wt)return oe.REPETITION_MANDATORY_WITH_SEPARATOR;if(t instanceof Ot)return oe.REPETITION_WITH_SEPARATOR;if(t instanceof xt)return oe.ALTERNATION;throw Error("non exhaustive match")}(i),a=i.maxLookahead||e,c=de(i.idx,t,s,a)[0];if(Object(o.A)(Object(o.t)(c))){var u=n.buildEmptyRepetitionError({topLevelRule:t,repetition:i});r.push({message:u,type:On.NO_NON_EMPTY_LOOKAHEAD,ruleName:t.name})}}))})),r}(t,e,i));var p=function(t,e,n){var r=[],i=Object(o.I)(e,(function(t){return t.name}));return Object(o.u)(t,(function(t){var e=t.name;if(Object(o.j)(i,e)){var s=n.buildNamespaceConflictError(t);r.push({message:s,type:On.CONFLICT_TOKENS_RULES_NAMESPACE,ruleName:e})}})),r}(t,n,i),d=o.I(n,(function(t){return function(t,e){var n=[];t.name.match(we)||n.push({message:e.buildTokenNameError({tokenType:t,expectedPattern:we}),type:On.INVALID_TOKEN_NAME});return n}(t,i)})),f=function(t,e){var n=[];return Object(o.u)(t,(function(t){var r=new Kt("");t.accept(r);var i=Object(o.I)(r.result,(function(t){return t.orgProd}));n.push(Object(o.I)(i,(function(n){return function(t,e,n){var r,o=[];e.name.match(Ee)||(r=n.buildInvalidNestedRuleNameError(t,e),o.push({message:r,type:On.INVALID_NESTED_RULE_NAME,ruleName:t.name}));return o}(t,n,e)})))})),Object(o.t)(n)}(t,i),_=function(t,e){var n=[];return Object(o.u)(t,(function(t){var r=new Kt("");t.accept(r);var i=Object(o.v)(r.result,(function(t){return t.name})),s=Object(o.N)(i,(function(t){return t.length>1}));Object(o.u)(Object(o.U)(s),(function(r){var i=Object(o.I)(r,(function(t){return t.orgProd})),s=e.buildDuplicateNestedRuleNameError(t,i);n.push({message:s,type:On.DUPLICATE_NESTED_NAME,ruleName:t.name})}))})),n}(t,i),m=Object(o.I)(t,(function(t){return function(t,e){var n=new Oe;t.accept(n);var r=n.alternations;return o.O(r,(function(n,r){return r.definition.length>255&&n.push({message:e.buildTooManyAlternativesError({topLevelRule:t,alternation:r}),type:On.TOO_MANY_ALTS,ruleName:t.name,occurrence:r.idx}),n}),[])}(t,i)})),v=Object(o.I)(t,(function(t){return function(t,e){var n=[],r=t.name;r.match(we)||n.push({message:e.buildInvalidRuleNameError({topLevelRule:t,expectedPattern:we}),type:On.INVALID_RULE_NAME,ruleName:r});return n}(t,i)})),g=Object(o.I)(t,(function(e){return function(t,e,n,r){var i=[];if(Object(o.O)(e,(function(e,n){return n.name===t.name?e+1:e}),0)>1){var s=r.buildDuplicateRuleNameError({topLevelRule:t,grammarName:n});i.push({message:s,type:On.DUPLICATE_RULE_NAME,ruleName:t.name})}return i}(e,t,s,i)}));return o.t(a.concat(d,f,_,h,c,u,l,p,m,v,g))}function ge(t){return Lt(t)+"_#_"+t.idx+"_#_"+ye(t)}function ye(t){return t instanceof Tt?t.terminalType.name:t instanceof mt?t.nonTerminalName:""}var be=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.allProductions=[],e}return me(e,t),e.prototype.visitNonTerminal=function(t){this.allProductions.push(t)},e.prototype.visitOption=function(t){this.allProductions.push(t)},e.prototype.visitRepetitionWithSeparator=function(t){this.allProductions.push(t)},e.prototype.visitRepetitionMandatory=function(t){this.allProductions.push(t)},e.prototype.visitRepetitionMandatoryWithSeparator=function(t){this.allProductions.push(t)},e.prototype.visitRepetition=function(t){this.allProductions.push(t)},e.prototype.visitAlternation=function(t){this.allProductions.push(t)},e.prototype.visitTerminal=function(t){this.allProductions.push(t)},e}(It),we=/^[a-zA-Z_]\w*$/,Ee=new RegExp(we.source.replace("^","^\\$"));var Oe=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.alternations=[],e}return me(e,t),e.prototype.visitAlternation=function(t){this.alternations.push(t)},e}(It);var xe=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.allProductions=[],e}return me(e,t),e.prototype.visitRepetitionWithSeparator=function(t){this.allProductions.push(t)},e.prototype.visitRepetitionMandatory=function(t){this.allProductions.push(t)},e.prototype.visitRepetitionMandatoryWithSeparator=function(t){this.allProductions.push(t)},e.prototype.visitRepetition=function(t){this.allProductions.push(t)},e}(It);var Te={buildMismatchTokenMessage:function(t){var e=t.expected,n=t.actual;t.previous,t.ruleName;return"Expecting "+(tt(e)?"--\x3e "+Z(e)+" <--":"token of type --\x3e "+e.name+" <--")+" but found --\x3e '"+n.image+"' <--"},buildNotAllInputParsedMessage:function(t){var e=t.firstRedundant;t.ruleName;return"Redundant input, expecting EOF but found: "+e.image},buildNoViableAltMessage:function(t){var e=t.expectedPathsPerAlt,n=t.actual,r=(t.previous,t.customUserDescription),i=(t.ruleName,"\nbut found: '"+Object(o.s)(n).image+"'");if(r)return"Expecting: "+r+i;var s=Object(o.O)(e,(function(t,e){return t.concat(e)}),[]),a=Object(o.I)(s,(function(t){return"["+Object(o.I)(t,(function(t){return Z(t)})).join(", ")+"]"}));return"Expecting: "+("one of these possible Token sequences:\n"+Object(o.I)(a,(function(t,e){return"  "+(e+1)+". "+t})).join("\n"))+i},buildEarlyExitMessage:function(t){var e=t.expectedIterationPaths,n=t.actual,r=t.customUserDescription,i=(t.ruleName,"\nbut found: '"+Object(o.s)(n).image+"'");return r?"Expecting: "+r+i:"Expecting: "+("expecting at least one iteration which starts with one of these possible Token sequences::\n  <"+Object(o.I)(e,(function(t){return"["+Object(o.I)(t,(function(t){return Z(t)})).join(",")+"]"})).join(" ,")+">")+i}};Object.freeze(Te);var Ae={buildRuleNotFoundError:function(t,e){return"Invalid grammar, reference to a rule which is not defined: ->"+e.nonTerminalName+"<-\ninside top level rule: ->"+t.name+"<-"}},Se={buildDuplicateFoundError:function(t,e){var n,r=t.name,i=Object(o.s)(e),s=i.idx,a=Lt(i),c=(n=i)instanceof Tt?n.terminalType.name:n instanceof mt?n.nonTerminalName:"",u="->"+a+(s>0?s:"")+"<- "+(c?"with argument: ->"+c+"<-":"")+"\n                  appears more than once ("+e.length+" times) in the top level rule: ->"+r+"<-.                  \n                  For further details see: https://sap.github.io/chevrotain/docs/FAQ.html#NUMERICAL_SUFFIXES \n                  ";return u=(u=u.replace(/[ \t]+/g," ")).replace(/\s\s+/g,"\n")},buildInvalidNestedRuleNameError:function(t,e){return"Invalid nested rule name: ->"+e.name+"<- inside rule: ->"+t.name+"<-\nit must match the pattern: ->"+Ee.toString()+"<-.\nNote that this means a nested rule name must start with the '$'(dollar) sign."},buildDuplicateNestedRuleNameError:function(t,e){return"Duplicate nested rule name: ->"+Object(o.s)(e).name+"<- inside rule: ->"+t.name+"<-\nA nested name must be unique in the scope of a top level grammar rule."},buildNamespaceConflictError:function(t){return"Namespace conflict found in grammar.\nThe grammar has both a Terminal(Token) and a Non-Terminal(Rule) named: <"+t.name+">.\nTo resolve this make sure each Terminal and Non-Terminal names are unique\nThis is easy to accomplish by using the convention that Terminal names start with an uppercase letter\nand Non-Terminal names start with a lower case letter."},buildAlternationPrefixAmbiguityError:function(t){var e=Object(o.I)(t.prefixPath,(function(t){return Z(t)})).join(", "),n=0===t.alternation.idx?"":t.alternation.idx;return"Ambiguous alternatives: <"+t.ambiguityIndices.join(" ,")+"> due to common lookahead prefix\nin <OR"+n+"> inside <"+t.topLevelRule.name+"> Rule,\n<"+e+"> may appears as a prefix path in all these alternatives.\nSee: https://sap.github.io/chevrotain/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX\nFor Further details."},buildAlternationAmbiguityError:function(t){var e=Object(o.I)(t.prefixPath,(function(t){return Z(t)})).join(", "),n=0===t.alternation.idx?"":t.alternation.idx,r="Ambiguous Alternatives Detected: <"+t.ambiguityIndices.join(" ,")+"> in <OR"+n+"> inside <"+t.topLevelRule.name+"> Rule,\n<"+e+"> may appears as a prefix path in all these alternatives.\n";return r+="See: https://sap.github.io/chevrotain/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES\nFor Further details."},buildEmptyRepetitionError:function(t){var e=Lt(t.repetition);return 0!==t.repetition.idx&&(e+=t.repetition.idx),"The repetition <"+e+"> within Rule <"+t.topLevelRule.name+"> can never consume any tokens.\nThis could lead to an infinite loop."},buildTokenNameError:function(t){return"Invalid Grammar Token name: ->"+t.tokenType.name+"<- it must match the pattern: ->"+t.expectedPattern.toString()+"<-"},buildEmptyAlternationError:function(t){return"Ambiguous empty alternative: <"+(t.emptyChoiceIdx+1)+"> in <OR"+t.alternation.idx+"> inside <"+t.topLevelRule.name+"> Rule.\nOnly the last alternative may be an empty alternative."},buildTooManyAlternativesError:function(t){return"An Alternation cannot have more than 256 alternatives:\n<OR"+t.alternation.idx+"> inside <"+t.topLevelRule.name+"> Rule.\n has "+(t.alternation.definition.length+1)+" alternatives."},buildLeftRecursionError:function(t){var e=t.topLevelRule.name;return"Left Recursion found in grammar.\nrule: <"+e+"> can be invoked from itself (directly or indirectly)\nwithout consuming any Tokens. The grammar path that causes this is: \n "+(e+" --\x3e "+o.I(t.leftRecursionPath,(function(t){return t.name})).concat([e]).join(" --\x3e "))+"\n To fix this refactor your grammar to remove the left recursion.\nsee: https://en.wikipedia.org/wiki/LL_parser#Left_Factoring."},buildInvalidRuleNameError:function(t){return"Invalid grammar rule name: ->"+t.topLevelRule.name+"<- it must match the pattern: ->"+t.expectedPattern.toString()+"<-"},buildDuplicateRuleNameError:function(t){return"Duplicate definition, rule: ->"+(t.topLevelRule instanceof vt?t.topLevelRule.name:t.topLevelRule)+"<- is already defined in the grammar: ->"+t.grammarName+"<-"}},Ne=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();var Ce=function(t){function e(e,n){var r=t.call(this)||this;return r.nameToTopRule=e,r.errMsgProvider=n,r.errors=[],r}return Ne(e,t),e.prototype.resolveRefs=function(){var t=this;Object(o.u)(Object(o.U)(this.nameToTopRule),(function(e){t.currTopLevel=e,e.accept(t)}))},e.prototype.visitNonTerminal=function(t){var e=this.nameToTopRule[t.nonTerminalName];if(e)t.referencedRule=e;else{var n=this.errMsgProvider.buildRuleNotFoundError(this.currTopLevel,t);this.errors.push({message:n,type:On.UNRESOLVED_SUBRULE_REF,ruleName:this.currTopLevel.name,unresolvedRefName:t.nonTerminalName})}},e}(It);function Ie(t){t=Object(o.k)(t,{errMsgProvider:Ae});var e,n,r,i={};return Object(o.u)(t.rules,(function(t){i[t.name]=t})),e=i,n=t.errMsgProvider,(r=new Ce(e,n)).resolveRefs(),r.errors}function Re(t){return ve((t=Object(o.k)(t,{errMsgProvider:Se,ignoredIssues:{}})).rules,t.maxLookahead,t.tokenTypes,t.ignoredIssues,t.errMsgProvider,t.grammarName)}function ke(t){Object(o.u)(t.rules,(function(t){var e=new jt;t.accept(e),Object(o.u)(e.dslMethods,(function(t){Object(o.u)(t,(function(t,e){t.idx=e+1}))}))}))}var Le="MismatchedTokenException",je="NoViableAltException",Pe="EarlyExitException",Me="NotAllInputParsedException",De=[Le,je,Pe,Me];function Ue(t){return Object(o.j)(De,t.name)}function Fe(t,e,n){this.name=Le,this.message=t,this.token=e,this.previousToken=n,this.resyncedTokens=[]}function Be(t,e,n){this.name=je,this.message=t,this.token=e,this.previousToken=n,this.resyncedTokens=[]}function ze(t,e){this.name=Me,this.message=t,this.token=e,this.resyncedTokens=[]}function He(t,e,n){this.name=Pe,this.message=t,this.token=e,this.previousToken=n,this.resyncedTokens=[]}Object.freeze(De),Fe.prototype=Error.prototype,Be.prototype=Error.prototype,ze.prototype=Error.prototype,He.prototype=Error.prototype;var qe={},We="InRuleRecoveryException";function Ve(t){this.name=We,this.message=t}Ve.prototype=Error.prototype;var Ge=function(){function t(){}return t.prototype.initRecoverable=function(t){this.firstAfterRepMap={},this.resyncFollows={},this.recoveryEnabled=Object(o.w)(t,"recoveryEnabled")?t.recoveryEnabled:xn.recoveryEnabled,this.recoveryEnabled&&(this.attemptInRepetitionRecovery=Ke)},t.prototype.getTokenToInsert=function(t){var e=pt(t,"",NaN,NaN,NaN,NaN,NaN,NaN);return e.isInsertedInRecovery=!0,e},t.prototype.canTokenTypeBeInsertedInRecovery=function(t){return!0},t.prototype.tryInRepetitionRecovery=function(t,e,n,r){for(var i=this,s=this.findReSyncTokenType(),a=this.exportLexerState(),c=[],u=!1,l=this.LA(1),h=this.LA(1),p=function(){var t=i.LA(0),e=new Fe(i.errorMessageProvider.buildMismatchTokenMessage({expected:r,actual:l,previous:t,ruleName:i.getCurrRuleFullName()}),l,i.LA(0));e.resyncedTokens=Object(o.n)(c),i.SAVE_ERROR(e)};!u;){if(this.tokenMatcher(h,r))return void p();if(n.call(this))return p(),void t.apply(this,e);this.tokenMatcher(h,s)?u=!0:(h=this.SKIP_TOKEN(),this.addToResyncTokens(h,c))}this.importLexerState(a)},t.prototype.shouldInRepetitionRecoveryBeTried=function(t,e,n){return!1!==n&&(void 0!==t&&void 0!==e&&(!this.tokenMatcher(this.LA(1),t)&&(!this.isBackTracking()&&!this.canPerformInRuleRecovery(t,this.getFollowsForInRuleRecovery(t,e)))))},t.prototype.getFollowsForInRuleRecovery=function(t,e){var n=this.getCurrentGrammarPath(t,e);return this.getNextPossibleTokenTypes(n)},t.prototype.tryInRuleRecovery=function(t,e){if(this.canRecoverWithSingleTokenInsertion(t,e))return this.getTokenToInsert(t);if(this.canRecoverWithSingleTokenDeletion(t)){var n=this.SKIP_TOKEN();return this.consumeToken(),n}throw new Ve("sad sad panda")},t.prototype.canPerformInRuleRecovery=function(t,e){return this.canRecoverWithSingleTokenInsertion(t,e)||this.canRecoverWithSingleTokenDeletion(t)},t.prototype.canRecoverWithSingleTokenInsertion=function(t,e){var n=this;if(!this.canTokenTypeBeInsertedInRecovery(t))return!1;if(Object(o.A)(e))return!1;var r=this.LA(1);return void 0!==Object(o.q)(e,(function(t){return n.tokenMatcher(r,t)}))},t.prototype.canRecoverWithSingleTokenDeletion=function(t){return this.tokenMatcher(this.LA(2),t)},t.prototype.isInCurrentRuleReSyncSet=function(t){var e=this.getCurrFollowKey(),n=this.getFollowSetFromFollowKey(e);return Object(o.j)(n,t)},t.prototype.findReSyncTokenType=function(){for(var t=this.flattenFollowSet(),e=this.LA(1),n=2;;){var r=e.tokenType;if(Object(o.j)(t,r))return r;e=this.LA(n),n++}},t.prototype.getCurrFollowKey=function(){if(1===this.RULE_STACK.length)return qe;var t=this.getLastExplicitRuleShortName(),e=this.getLastExplicitRuleOccurrenceIndex(),n=this.getPreviousExplicitRuleShortName();return{ruleName:this.shortRuleNameToFullName(t),idxInCallingRule:e,inRule:this.shortRuleNameToFullName(n)}},t.prototype.buildFullFollowKeyStack=function(){var t=this,e=this.RULE_STACK,n=this.RULE_OCCURRENCE_STACK;return Object(o.A)(this.LAST_EXPLICIT_RULE_STACK)||(e=Object(o.I)(this.LAST_EXPLICIT_RULE_STACK,(function(e){return t.RULE_STACK[e]})),n=Object(o.I)(this.LAST_EXPLICIT_RULE_STACK,(function(e){return t.RULE_OCCURRENCE_STACK[e]}))),Object(o.I)(e,(function(r,o){return 0===o?qe:{ruleName:t.shortRuleNameToFullName(r),idxInCallingRule:n[o],inRule:t.shortRuleNameToFullName(e[o-1])}}))},t.prototype.flattenFollowSet=function(){var t=this,e=Object(o.I)(this.buildFullFollowKeyStack(),(function(e){return t.getFollowSetFromFollowKey(e)}));return Object(o.t)(e)},t.prototype.getFollowSetFromFollowKey=function(t){if(t===qe)return[ht];var e=t.ruleName+t.idxInCallingRule+Dt+t.inRule;return this.resyncFollows[e]},t.prototype.addToResyncTokens=function(t,e){return this.tokenMatcher(t,ht)||e.push(t),e},t.prototype.reSyncTo=function(t){for(var e=[],n=this.LA(1);!1===this.tokenMatcher(n,t);)n=this.SKIP_TOKEN(),this.addToResyncTokens(n,e);return Object(o.n)(e)},t.prototype.attemptInRepetitionRecovery=function(t,e,n,r,o,i,s){},t.prototype.getCurrentGrammarPath=function(t,e){return{ruleStack:this.getHumanReadableRuleStack(),occurrenceStack:Object(o.g)(this.RULE_OCCURRENCE_STACK),lastTok:t,lastTokOccurrence:e}},t.prototype.getHumanReadableRuleStack=function(){var t=this;return Object(o.A)(this.LAST_EXPLICIT_RULE_STACK)?Object(o.I)(this.RULE_STACK,(function(e){return t.shortRuleNameToFullName(e)})):Object(o.I)(this.LAST_EXPLICIT_RULE_STACK,(function(e){return t.shortRuleNameToFullName(t.RULE_STACK[e])}))},t}();function Ke(t,e,n,r,o,i,s){var a=this.getKeyForAutomaticLookahead(r,o),c=this.firstAfterRepMap[a];if(void 0===c){var u=this.getCurrRuleFullName();c=new i(this.getGAstProductions()[u],o).startWalking(),this.firstAfterRepMap[a]=c}var l=c.token,h=c.occurrence,p=c.isEndOfRule;1===this.RULE_STACK.length&&p&&void 0===l&&(l=ht,h=1),this.shouldInRepetitionRecoveryBeTried(l,h,s)&&this.tryInRepetitionRecovery(t,e,n,l)}var Ye=function(){function t(){}return t.prototype.initLooksAhead=function(t){this.dynamicTokensEnabled=Object(o.w)(t,"dynamicTokensEnabled")?t.dynamicTokensEnabled:xn.dynamicTokensEnabled,this.maxLookahead=Object(o.w)(t,"maxLookahead")?t.maxLookahead:xn.maxLookahead,this.lookAheadFuncsCache=Object(o.z)()?new Map:[],Object(o.z)()?(this.getLaFuncFromCache=this.getLaFuncFromMap,this.setLaFuncCache=this.setLaFuncCacheUsingMap):(this.getLaFuncFromCache=this.getLaFuncFromObj,this.setLaFuncCache=this.setLaFuncUsingObj)},t.prototype.preComputeLookaheadFunctions=function(t){var e=this;Object(o.u)(t,(function(t){e.TRACE_INIT(t.name+" Rule Lookahead",(function(){var n=function(t){Pt.reset(),t.accept(Pt);var e=Pt.dslMethods;return Pt.reset(),e}(t),r=n.alternation,i=n.repetition,s=n.option,a=n.repetitionMandatory,c=n.repetitionMandatoryWithSeparator,u=n.repetitionWithSeparator;Object(o.u)(r,(function(n){var r=0===n.idx?"":n.idx;e.TRACE_INIT(""+Lt(n)+r,(function(){var r,o,i,s,a,c,u,l=(r=n.idx,o=t,i=n.maxLookahead||e.maxLookahead,s=n.hasPredicates,a=e.dynamicTokensEnabled,c=e.lookAheadBuilderForAlternatives,u=pe(r,o,i),c(u,s,_e(u)?z:B,a)),h=Bt(e.fullRuleNameToShort[t.name],256,n.idx);e.setLaFuncCache(h,l)}))})),Object(o.u)(i,(function(n){e.computeLookaheadFunc(t,n.idx,768,oe.REPETITION,n.maxLookahead,Lt(n))})),Object(o.u)(s,(function(n){e.computeLookaheadFunc(t,n.idx,512,oe.OPTION,n.maxLookahead,Lt(n))})),Object(o.u)(a,(function(n){e.computeLookaheadFunc(t,n.idx,1024,oe.REPETITION_MANDATORY,n.maxLookahead,Lt(n))})),Object(o.u)(c,(function(n){e.computeLookaheadFunc(t,n.idx,1536,oe.REPETITION_MANDATORY_WITH_SEPARATOR,n.maxLookahead,Lt(n))})),Object(o.u)(u,(function(n){e.computeLookaheadFunc(t,n.idx,1280,oe.REPETITION_WITH_SEPARATOR,n.maxLookahead,Lt(n))}))}))}))},t.prototype.computeLookaheadFunc=function(t,e,n,r,o,i){var s=this;this.TRACE_INIT(""+i+(0===e?"":e),(function(){var i=function(t,e,n,r,o,i){var s=de(t,e,o,n),a=_e(s)?z:B;return i(s[0],a,r)}(e,t,o||s.maxLookahead,s.dynamicTokensEnabled,r,s.lookAheadBuilderForOptional),a=Bt(s.fullRuleNameToShort[t.name],n,e);s.setLaFuncCache(a,i)}))},t.prototype.lookAheadBuilderForOptional=function(t,e,n){return function(t,e,n){var r=Object(o.o)(t,(function(t){return 1===t.length})),i=t.length;if(r&&!n){var s=Object(o.t)(t);if(1===s.length&&Object(o.A)(s[0].categoryMatches)){var a=s[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===a}}var c=Object(o.O)(s,(function(t,e,n){return t[e.tokenTypeIdx]=!0,Object(o.u)(e.categoryMatches,(function(e){t[e]=!0})),t}),[]);return function(){var t=this.LA(1);return!0===c[t.tokenTypeIdx]}}return function(){t:for(var n=0;n<i;n++){for(var r=t[n],o=r.length,s=0;s<o;s++){var a=this.LA(s+1);if(!1===e(a,r[s]))continue t}return!0}return!1}}(t,e,n)},t.prototype.lookAheadBuilderForAlternatives=function(t,e,n,r){return function(t,e,n,r){var i=t.length,s=Object(o.o)(t,(function(t){return Object(o.o)(t,(function(t){return 1===t.length}))}));if(e)return function(e){for(var r=Object(o.I)(e,(function(t){return t.GATE})),s=0;s<i;s++){var a=t[s],c=a.length,u=r[s];if(void 0===u||!1!==u.call(this))t:for(var l=0;l<c;l++){for(var h=a[l],p=h.length,d=0;d<p;d++){var f=this.LA(d+1);if(!1===n(f,h[d]))continue t}return s}}};if(s&&!r){var a=Object(o.I)(t,(function(t){return Object(o.t)(t)})),c=Object(o.O)(a,(function(t,e,n){return Object(o.u)(e,(function(e){Object(o.w)(t,e.tokenTypeIdx)||(t[e.tokenTypeIdx]=n),Object(o.u)(e.categoryMatches,(function(e){Object(o.w)(t,e)||(t[e]=n)}))})),t}),[]);return function(){var t=this.LA(1);return c[t.tokenTypeIdx]}}return function(){for(var e=0;e<i;e++){var r=t[e],o=r.length;t:for(var s=0;s<o;s++){for(var a=r[s],c=a.length,u=0;u<c;u++){var l=this.LA(u+1);if(!1===n(l,a[u]))continue t}return e}}}}(t,e,n,r)},t.prototype.getKeyForAutomaticLookahead=function(t,e){return Bt(this.getLastExplicitRuleShortName(),t,e)},t.prototype.getLaFuncFromCache=function(t){},t.prototype.getLaFuncFromMap=function(t){return this.lookAheadFuncsCache.get(t)},t.prototype.getLaFuncFromObj=function(t){return this.lookAheadFuncsCache[t]},t.prototype.setLaFuncCache=function(t,e){},t.prototype.setLaFuncCacheUsingMap=function(t,e){this.lookAheadFuncsCache.set(t,e)},t.prototype.setLaFuncUsingObj=function(t,e){this.lookAheadFuncsCache[t]=e},t}();var Xe,Je=/^\s*function\s*(\S*)\s*\(/,$e="name";function Ze(t){var e=t.name;return e||t.toString().match(Je)[1]}function Qe(t,e){var n=Object.getOwnPropertyDescriptor(t,$e);return!(!Object(o.F)(n)&&!n.configurable)&&(Object.defineProperty(t,$e,{enumerable:!1,configurable:!0,writable:!1,value:e}),!0)}function tn(t,e){for(var n=Object(o.G)(t),r=n.length,i=0;i<r;i++)for(var s=t[n[i]],a=s.length,c=0;c<a;c++){var u=s[c];void 0===u.tokenTypeIdx&&(void 0!==u.fullName?this[u.fullName](u.children,e):this[u.name](u.children,e))}}function en(t,e){var n=function(){};return Qe(n,t+"BaseSemantics"),(n.prototype={visit:function(t,e){if(Object(o.y)(t)&&(t=t[0]),!Object(o.F)(t))return void 0!==t.fullName?this[t.fullName](t.children,e):this[t.name](t.children,e)},validateVisitor:function(){var t=function(t,e){var n=function(t,e){var n=Object(o.I)(e,(function(e){if(!Object(o.B)(t[e]))return{msg:"Missing visitor method: <"+e+"> on "+Ze(t.constructor)+" CST Visitor.",type:Xe.MISSING_METHOD,methodName:e}}));return Object(o.i)(n)}(t,e),r=function(t,e){var n=[];for(var r in t)we.test(r)&&Object(o.B)(t[r])&&!Object(o.j)(nn,r)&&!Object(o.j)(e,r)&&n.push({msg:"Redundant visitor method: <"+r+"> on "+Ze(t.constructor)+" CST Visitor\nThere is no Grammar Rule corresponding to this method's name.\nFor utility methods on visitor classes use methods names that do not match /"+we.source+"/.",type:Xe.REDUNDANT_METHOD,methodName:r});return n}(t,e);return n.concat(r)}(this,e);if(!Object(o.A)(t)){var n=Object(o.I)(t,(function(t){return t.msg}));throw Error("Errors Detected in CST Visitor <"+Ze(this.constructor)+">:\n\t"+n.join("\n\n").replace(/\n/g,"\n\t"))}}}).constructor=n,n._RULE_NAMES=e,n}!function(t){t[t.REDUNDANT_METHOD=0]="REDUNDANT_METHOD",t[t.MISSING_METHOD=1]="MISSING_METHOD"}(Xe||(Xe={}));var nn=["constructor","visit","validateVisitor"];var rn=function(){function t(){}return t.prototype.initTreeBuilder=function(t){if(this.LAST_EXPLICIT_RULE_STACK=[],this.CST_STACK=[],this.outputCst=Object(o.w)(t,"outputCst")?t.outputCst:xn.outputCst,this.nodeLocationTracking=Object(o.w)(t,"nodeLocationTracking")?t.nodeLocationTracking:xn.nodeLocationTracking,this.outputCst)if(/full/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=Vt,this.setNodeLocationFromNode=Vt,this.cstPostRule=o.b,this.setInitialNodeLocation=this.setInitialNodeLocationFullRecovery):(this.setNodeLocationFromToken=o.b,this.setNodeLocationFromNode=o.b,this.cstPostRule=this.cstPostRuleFull,this.setInitialNodeLocation=this.setInitialNodeLocationFullRegular);else if(/onlyOffset/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=Wt,this.setNodeLocationFromNode=Wt,this.cstPostRule=o.b,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRecovery):(this.setNodeLocationFromToken=o.b,this.setNodeLocationFromNode=o.b,this.cstPostRule=this.cstPostRuleOnlyOffset,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRegular);else{if(!/none/i.test(this.nodeLocationTracking))throw Error('Invalid <nodeLocationTracking> config option: "'+t.nodeLocationTracking+'"');this.setNodeLocationFromToken=o.b,this.setNodeLocationFromNode=o.b,this.cstPostRule=o.b,this.setInitialNodeLocation=o.b}else this.cstInvocationStateUpdate=o.b,this.cstFinallyStateUpdate=o.b,this.cstPostTerminal=o.b,this.cstPostNonTerminal=o.b,this.cstPostRule=o.b,this.getLastExplicitRuleShortName=this.getLastExplicitRuleShortNameNoCst,this.getPreviousExplicitRuleShortName=this.getPreviousExplicitRuleShortNameNoCst,this.getLastExplicitRuleOccurrenceIndex=this.getLastExplicitRuleOccurrenceIndexNoCst,this.manyInternal=this.manyInternalNoCst,this.orInternal=this.orInternalNoCst,this.optionInternal=this.optionInternalNoCst,this.atLeastOneInternal=this.atLeastOneInternalNoCst,this.manySepFirstInternal=this.manySepFirstInternalNoCst,this.atLeastOneSepFirstInternal=this.atLeastOneSepFirstInternalNoCst},t.prototype.setInitialNodeLocationOnlyOffsetRecovery=function(t){t.location={startOffset:NaN,endOffset:NaN}},t.prototype.setInitialNodeLocationOnlyOffsetRegular=function(t){t.location={startOffset:this.LA(1).startOffset,endOffset:NaN}},t.prototype.setInitialNodeLocationFullRecovery=function(t){t.location={startOffset:NaN,startLine:NaN,startColumn:NaN,endOffset:NaN,endLine:NaN,endColumn:NaN}},t.prototype.setInitialNodeLocationFullRegular=function(t){var e=this.LA(1);t.location={startOffset:e.startOffset,startLine:e.startLine,startColumn:e.startColumn,endOffset:NaN,endLine:NaN,endColumn:NaN}},t.prototype.cstNestedInvocationStateUpdate=function(t,e){var n={name:t,fullName:this.shortRuleNameToFull[this.getLastExplicitRuleShortName()]+t,children:{}};this.setInitialNodeLocation(n),this.CST_STACK.push(n)},t.prototype.cstInvocationStateUpdate=function(t,e){this.LAST_EXPLICIT_RULE_STACK.push(this.RULE_STACK.length-1);var n={name:t,children:{}};this.setInitialNodeLocation(n),this.CST_STACK.push(n)},t.prototype.cstFinallyStateUpdate=function(){this.LAST_EXPLICIT_RULE_STACK.pop(),this.CST_STACK.pop()},t.prototype.cstNestedFinallyStateUpdate=function(){var t=this.CST_STACK.pop();this.cstPostRule(t)},t.prototype.cstPostRuleFull=function(t){var e=this.LA(0),n=t.location;n.startOffset<=e.startOffset==!0?(n.endOffset=e.endOffset,n.endLine=e.endLine,n.endColumn=e.endColumn):(n.startOffset=NaN,n.startLine=NaN,n.startColumn=NaN)},t.prototype.cstPostRuleOnlyOffset=function(t){var e=this.LA(0),n=t.location;n.startOffset<=e.startOffset==!0?n.endOffset=e.endOffset:n.startOffset=NaN},t.prototype.cstPostTerminal=function(t,e){var n,r,o,i=this.CST_STACK[this.CST_STACK.length-1];r=e,o=t,void 0===(n=i).children[o]?n.children[o]=[r]:n.children[o].push(r),this.setNodeLocationFromToken(i.location,e)},t.prototype.cstPostNonTerminal=function(t,e){if(!0!==this.isBackTracking()){var n=this.CST_STACK[this.CST_STACK.length-1];Gt(n,e,t),this.setNodeLocationFromNode(n.location,t.location)}},t.prototype.getBaseCstVisitorConstructor=function(){if(Object(o.F)(this.baseCstVisitorConstructor)){var t=en(this.className,this.allRuleNames);return this.baseCstVisitorConstructor=t,t}return this.baseCstVisitorConstructor},t.prototype.getBaseCstVisitorConstructorWithDefaults=function(){if(Object(o.F)(this.baseCstVisitorWithDefaultsConstructor)){var t=function(t,e,n){var r=function(){};Qe(r,t+"BaseSemanticsWithDefaults");var i=Object.create(n.prototype);return Object(o.u)(e,(function(t){i[t]=tn})),(r.prototype=i).constructor=r,r}(this.className,this.allRuleNames,this.getBaseCstVisitorConstructor());return this.baseCstVisitorWithDefaultsConstructor=t,t}return this.baseCstVisitorWithDefaultsConstructor},t.prototype.nestedRuleBeforeClause=function(t,e){var n;return void 0!==t.NAME?(n=t.NAME,this.nestedRuleInvocationStateUpdate(n,e),n):void 0},t.prototype.nestedAltBeforeClause=function(t,e,n,r){var o,i=Ht(this.getLastExplicitRuleShortName(),n,e,r);return void 0!==t.NAME?(o=t.NAME,this.nestedRuleInvocationStateUpdate(o,i),{shortName:i,nestedName:o}):void 0},t.prototype.nestedRuleFinallyClause=function(t,e){var n=this.CST_STACK,r=n[n.length-1];this.nestedRuleFinallyStateUpdate();var o=n[n.length-1];Gt(o,e,r),this.setNodeLocationFromNode(o.location,r.location)},t.prototype.getLastExplicitRuleShortName=function(){var t=this.LAST_EXPLICIT_RULE_STACK[this.LAST_EXPLICIT_RULE_STACK.length-1];return this.RULE_STACK[t]},t.prototype.getLastExplicitRuleShortNameNoCst=function(){var t=this.RULE_STACK;return t[t.length-1]},t.prototype.getPreviousExplicitRuleShortName=function(){var t=this.LAST_EXPLICIT_RULE_STACK[this.LAST_EXPLICIT_RULE_STACK.length-2];return this.RULE_STACK[t]},t.prototype.getPreviousExplicitRuleShortNameNoCst=function(){var t=this.RULE_STACK;return t[t.length-2]},t.prototype.getLastExplicitRuleOccurrenceIndex=function(){var t=this.LAST_EXPLICIT_RULE_STACK[this.LAST_EXPLICIT_RULE_STACK.length-1];return this.RULE_OCCURRENCE_STACK[t]},t.prototype.getLastExplicitRuleOccurrenceIndexNoCst=function(){var t=this.RULE_OCCURRENCE_STACK;return t[t.length-1]},t.prototype.nestedRuleInvocationStateUpdate=function(t,e){this.RULE_OCCURRENCE_STACK.push(1),this.RULE_STACK.push(e),this.cstNestedInvocationStateUpdate(t,e)},t.prototype.nestedRuleFinallyStateUpdate=function(){this.RULE_STACK.pop(),this.RULE_OCCURRENCE_STACK.pop(),this.cstNestedFinallyStateUpdate()},t}(),on=function(){function t(){}return t.prototype.initLexerAdapter=function(){this.tokVector=[],this.tokVectorLength=0,this.currIdx=-1},Object.defineProperty(t.prototype,"input",{get:function(){return this.tokVector},set:function(t){if(!0!==this.selfAnalysisDone)throw Error("Missing <performSelfAnalysis> invocation at the end of the Parser's constructor.");this.reset(),this.tokVector=t,this.tokVectorLength=t.length},enumerable:!0,configurable:!0}),t.prototype.SKIP_TOKEN=function(){return this.currIdx<=this.tokVector.length-2?(this.consumeToken(),this.LA(1)):En},t.prototype.LA=function(t){var e=this.currIdx+t;return e<0||this.tokVectorLength<=e?En:this.tokVector[e]},t.prototype.consumeToken=function(){this.currIdx++},t.prototype.exportLexerState=function(){return this.currIdx},t.prototype.importLexerState=function(t){this.currIdx=t},t.prototype.resetLexerState=function(){this.currIdx=-1},t.prototype.moveToTerminatedState=function(){this.currIdx=this.tokVector.length-1},t.prototype.getLexerPosition=function(){return this.exportLexerState()},t}(),sn=function(){function t(){}return t.prototype.ACTION=function(t){return t.call(this)},t.prototype.consume=function(t,e,n){return this.consumeInternal(e,t,n)},t.prototype.subrule=function(t,e,n){return this.subruleInternal(e,t,n)},t.prototype.option=function(t,e){return this.optionInternal(e,t)},t.prototype.or=function(t,e){return this.orInternal(e,t)},t.prototype.many=function(t,e){return this.manyInternal(t,e)},t.prototype.atLeastOne=function(t,e){return this.atLeastOneInternal(t,e)},t.prototype.CONSUME=function(t,e){return this.consumeInternal(t,0,e)},t.prototype.CONSUME1=function(t,e){return this.consumeInternal(t,1,e)},t.prototype.CONSUME2=function(t,e){return this.consumeInternal(t,2,e)},t.prototype.CONSUME3=function(t,e){return this.consumeInternal(t,3,e)},t.prototype.CONSUME4=function(t,e){return this.consumeInternal(t,4,e)},t.prototype.CONSUME5=function(t,e){return this.consumeInternal(t,5,e)},t.prototype.CONSUME6=function(t,e){return this.consumeInternal(t,6,e)},t.prototype.CONSUME7=function(t,e){return this.consumeInternal(t,7,e)},t.prototype.CONSUME8=function(t,e){return this.consumeInternal(t,8,e)},t.prototype.CONSUME9=function(t,e){return this.consumeInternal(t,9,e)},t.prototype.SUBRULE=function(t,e){return this.subruleInternal(t,0,e)},t.prototype.SUBRULE1=function(t,e){return this.subruleInternal(t,1,e)},t.prototype.SUBRULE2=function(t,e){return this.subruleInternal(t,2,e)},t.prototype.SUBRULE3=function(t,e){return this.subruleInternal(t,3,e)},t.prototype.SUBRULE4=function(t,e){return this.subruleInternal(t,4,e)},t.prototype.SUBRULE5=function(t,e){return this.subruleInternal(t,5,e)},t.prototype.SUBRULE6=function(t,e){return this.subruleInternal(t,6,e)},t.prototype.SUBRULE7=function(t,e){return this.subruleInternal(t,7,e)},t.prototype.SUBRULE8=function(t,e){return this.subruleInternal(t,8,e)},t.prototype.SUBRULE9=function(t,e){return this.subruleInternal(t,9,e)},t.prototype.OPTION=function(t){return this.optionInternal(t,0)},t.prototype.OPTION1=function(t){return this.optionInternal(t,1)},t.prototype.OPTION2=function(t){return this.optionInternal(t,2)},t.prototype.OPTION3=function(t){return this.optionInternal(t,3)},t.prototype.OPTION4=function(t){return this.optionInternal(t,4)},t.prototype.OPTION5=function(t){return this.optionInternal(t,5)},t.prototype.OPTION6=function(t){return this.optionInternal(t,6)},t.prototype.OPTION7=function(t){return this.optionInternal(t,7)},t.prototype.OPTION8=function(t){return this.optionInternal(t,8)},t.prototype.OPTION9=function(t){return this.optionInternal(t,9)},t.prototype.OR=function(t){return this.orInternal(t,0)},t.prototype.OR1=function(t){return this.orInternal(t,1)},t.prototype.OR2=function(t){return this.orInternal(t,2)},t.prototype.OR3=function(t){return this.orInternal(t,3)},t.prototype.OR4=function(t){return this.orInternal(t,4)},t.prototype.OR5=function(t){return this.orInternal(t,5)},t.prototype.OR6=function(t){return this.orInternal(t,6)},t.prototype.OR7=function(t){return this.orInternal(t,7)},t.prototype.OR8=function(t){return this.orInternal(t,8)},t.prototype.OR9=function(t){return this.orInternal(t,9)},t.prototype.MANY=function(t){this.manyInternal(0,t)},t.prototype.MANY1=function(t){this.manyInternal(1,t)},t.prototype.MANY2=function(t){this.manyInternal(2,t)},t.prototype.MANY3=function(t){this.manyInternal(3,t)},t.prototype.MANY4=function(t){this.manyInternal(4,t)},t.prototype.MANY5=function(t){this.manyInternal(5,t)},t.prototype.MANY6=function(t){this.manyInternal(6,t)},t.prototype.MANY7=function(t){this.manyInternal(7,t)},t.prototype.MANY8=function(t){this.manyInternal(8,t)},t.prototype.MANY9=function(t){this.manyInternal(9,t)},t.prototype.MANY_SEP=function(t){this.manySepFirstInternal(0,t)},t.prototype.MANY_SEP1=function(t){this.manySepFirstInternal(1,t)},t.prototype.MANY_SEP2=function(t){this.manySepFirstInternal(2,t)},t.prototype.MANY_SEP3=function(t){this.manySepFirstInternal(3,t)},t.prototype.MANY_SEP4=function(t){this.manySepFirstInternal(4,t)},t.prototype.MANY_SEP5=function(t){this.manySepFirstInternal(5,t)},t.prototype.MANY_SEP6=function(t){this.manySepFirstInternal(6,t)},t.prototype.MANY_SEP7=function(t){this.manySepFirstInternal(7,t)},t.prototype.MANY_SEP8=function(t){this.manySepFirstInternal(8,t)},t.prototype.MANY_SEP9=function(t){this.manySepFirstInternal(9,t)},t.prototype.AT_LEAST_ONE=function(t){this.atLeastOneInternal(0,t)},t.prototype.AT_LEAST_ONE1=function(t){return this.atLeastOneInternal(1,t)},t.prototype.AT_LEAST_ONE2=function(t){this.atLeastOneInternal(2,t)},t.prototype.AT_LEAST_ONE3=function(t){this.atLeastOneInternal(3,t)},t.prototype.AT_LEAST_ONE4=function(t){this.atLeastOneInternal(4,t)},t.prototype.AT_LEAST_ONE5=function(t){this.atLeastOneInternal(5,t)},t.prototype.AT_LEAST_ONE6=function(t){this.atLeastOneInternal(6,t)},t.prototype.AT_LEAST_ONE7=function(t){this.atLeastOneInternal(7,t)},t.prototype.AT_LEAST_ONE8=function(t){this.atLeastOneInternal(8,t)},t.prototype.AT_LEAST_ONE9=function(t){this.atLeastOneInternal(9,t)},t.prototype.AT_LEAST_ONE_SEP=function(t){this.atLeastOneSepFirstInternal(0,t)},t.prototype.AT_LEAST_ONE_SEP1=function(t){this.atLeastOneSepFirstInternal(1,t)},t.prototype.AT_LEAST_ONE_SEP2=function(t){this.atLeastOneSepFirstInternal(2,t)},t.prototype.AT_LEAST_ONE_SEP3=function(t){this.atLeastOneSepFirstInternal(3,t)},t.prototype.AT_LEAST_ONE_SEP4=function(t){this.atLeastOneSepFirstInternal(4,t)},t.prototype.AT_LEAST_ONE_SEP5=function(t){this.atLeastOneSepFirstInternal(5,t)},t.prototype.AT_LEAST_ONE_SEP6=function(t){this.atLeastOneSepFirstInternal(6,t)},t.prototype.AT_LEAST_ONE_SEP7=function(t){this.atLeastOneSepFirstInternal(7,t)},t.prototype.AT_LEAST_ONE_SEP8=function(t){this.atLeastOneSepFirstInternal(8,t)},t.prototype.AT_LEAST_ONE_SEP9=function(t){this.atLeastOneSepFirstInternal(9,t)},t.prototype.RULE=function(t,e,n){if(void 0===n&&(n=Tn),Object(o.j)(this.definedRulesNames,t)){var r={message:Se.buildDuplicateRuleNameError({topLevelRule:t,grammarName:this.className}),type:On.DUPLICATE_RULE_NAME,ruleName:t};this.definitionErrors.push(r)}this.definedRulesNames.push(t);var i=this.defineRule(t,e,n);return this[t]=i,i},t.prototype.OVERRIDE_RULE=function(t,e,n){void 0===n&&(n=Tn);var r,i,s,a,c,u=[];u=u.concat((r=t,i=this.definedRulesNames,s=this.className,c=[],o.j(i,r)||(a="Invalid rule override, rule: ->"+r+"<- cannot be overridden in the grammar: ->"+s+"<-as it is not defined in any of the super grammars ",c.push({message:a,type:On.INVALID_RULE_OVERRIDE,ruleName:r})),c)),this.definitionErrors.push.apply(this.definitionErrors,u);var l=this.defineRule(t,e,n);return this[t]=l,l},t.prototype.BACKTRACK=function(t,e){return function(){this.isBackTrackingStack.push(1);var n=this.saveRecogState();try{return t.apply(this,e),!0}catch(t){if(Ue(t))return!1;throw t}finally{this.reloadRecogState(n),this.isBackTrackingStack.pop()}}},t.prototype.getGAstProductions=function(){return this.gastProductionsCache},t.prototype.getSerializedGastProductions=function(){return At(Object(o.U)(this.gastProductionsCache))},t}(),an=function(){function t(){}return t.prototype.initRecognizerEngine=function(t,e){if(this.className=Ze(this.constructor),this.shortRuleNameToFull={},this.fullRuleNameToShort={},this.ruleShortNameIdx=256,this.tokenMatcher=z,this.definedRulesNames=[],this.tokensMap={},this.allRuleNames=[],this.isBackTrackingStack=[],this.RULE_STACK=[],this.RULE_OCCURRENCE_STACK=[],this.gastProductionsCache={},Object(o.w)(e,"serializedGrammar"))throw Error("The Parser's configuration can no longer contain a <serializedGrammar> property.\n\tSee: https://sap.github.io/chevrotain/docs/changes/BREAKING_CHANGES.html#_6-0-0\n\tFor Further details.");if(Object(o.y)(t)){if(Object(o.A)(t))throw Error("A Token Vocabulary cannot be empty.\n\tNote that the first argument for the parser constructor\n\tis no longer a Token vector (since v4.0).");if("number"==typeof t[0].startOffset)throw Error("The Parser constructor no longer accepts a token vector as the first argument.\n\tSee: https://sap.github.io/chevrotain/docs/changes/BREAKING_CHANGES.html#_4-0-0\n\tFor Further details.")}if(Object(o.y)(t))this.tokensMap=Object(o.O)(t,(function(t,e){return t[e.name]=e,t}),{});else if(Object(o.w)(t,"modes")&&Object(o.o)(Object(o.t)(Object(o.U)(t.modes)),K)){var n=Object(o.t)(Object(o.U)(t.modes)),r=Object(o.T)(n);this.tokensMap=Object(o.O)(r,(function(t,e){return t[e.name]=e,t}),{})}else{if(!Object(o.C)(t))throw new Error("<tokensDictionary> argument must be An Array of Token constructors, A dictionary of Token constructors or an IMultiModeLexerDefinition");this.tokensMap=Object(o.h)(t)}this.tokensMap.EOF=ht;var i=Object(o.o)(Object(o.U)(t),(function(t){return Object(o.A)(t.categoryMatches)}));this.tokenMatcher=i?z:B,W(Object(o.U)(this.tokensMap))},t.prototype.defineRule=function(t,e,n){if(this.selfAnalysisDone)throw Error("Grammar rule <"+t+"> may not be defined after the 'performSelfAnalysis' method has been called'\nMake sure that all grammar rule definitions are done before 'performSelfAnalysis' is called.");var r,i=Object(o.w)(n,"resyncEnabled")?n.resyncEnabled:Tn.resyncEnabled,s=Object(o.w)(n,"recoveryValueFunc")?n.recoveryValueFunc:Tn.recoveryValueFunc,a=this.ruleShortNameIdx<<12;function c(t){try{if(!0===this.outputCst){e.apply(this,t);var n=this.CST_STACK[this.CST_STACK.length-1];return this.cstPostRule(n),n}return e.apply(this,t)}catch(t){return this.invokeRuleCatch(t,i,s)}finally{this.ruleFinallyStateUpdate()}}this.ruleShortNameIdx++,this.shortRuleNameToFull[a]=t,this.fullRuleNameToShort[t]=a;return(r=function(e,n){return void 0===e&&(e=0),this.ruleInvocationStateUpdate(a,t,e),c.call(this,n)}).ruleName=t,r.originalGrammarAction=e,r},t.prototype.invokeRuleCatch=function(t,e,n){var r=1===this.RULE_STACK.length,o=e&&!this.isBackTracking()&&this.recoveryEnabled;if(Ue(t)){var i=t;if(o){var s,a=this.findReSyncTokenType();if(this.isInCurrentRuleReSyncSet(a))return i.resyncedTokens=this.reSyncTo(a),this.outputCst?((s=this.CST_STACK[this.CST_STACK.length-1]).recoveredNode=!0,s):n();throw this.outputCst&&((s=this.CST_STACK[this.CST_STACK.length-1]).recoveredNode=!0,i.partialCstResult=s),i}if(r)return this.moveToTerminatedState(),n();throw i}throw t},t.prototype.optionInternal=function(t,e){var n=this.getKeyForAutomaticLookahead(512,e),r=this.nestedRuleBeforeClause(t,n);try{return this.optionInternalLogic(t,e,n)}finally{void 0!==r&&this.nestedRuleFinallyClause(n,r)}},t.prototype.optionInternalNoCst=function(t,e){var n=this.getKeyForAutomaticLookahead(512,e);return this.optionInternalLogic(t,e,n)},t.prototype.optionInternalLogic=function(t,e,n){var r,o,i=this,s=this.getLaFuncFromCache(n);if(void 0!==t.DEF){if(r=t.DEF,void 0!==(o=t.GATE)){var a=s;s=function(){return o.call(i)&&a.call(i)}}}else r=t;if(!0===s.call(this))return r.call(this)},t.prototype.atLeastOneInternal=function(t,e){var n=this.getKeyForAutomaticLookahead(1024,t),r=this.nestedRuleBeforeClause(e,n);try{return this.atLeastOneInternalLogic(t,e,n)}finally{void 0!==r&&this.nestedRuleFinallyClause(n,r)}},t.prototype.atLeastOneInternalNoCst=function(t,e){var n=this.getKeyForAutomaticLookahead(1024,t);this.atLeastOneInternalLogic(t,e,n)},t.prototype.atLeastOneInternalLogic=function(t,e,n){var r,o,i=this,s=this.getLaFuncFromCache(n);if(void 0!==e.DEF){if(r=e.DEF,void 0!==(o=e.GATE)){var a=s;s=function(){return o.call(i)&&a.call(i)}}}else r=e;if(!0!==s.call(this))throw this.raiseEarlyExitException(t,oe.REPETITION_MANDATORY,e.ERR_MSG);for(var c=this.doSingleRepetition(r);!0===s.call(this)&&!0===c;)c=this.doSingleRepetition(r);this.attemptInRepetitionRecovery(this.atLeastOneInternal,[t,e],s,1024,t,Qt)},t.prototype.atLeastOneSepFirstInternal=function(t,e){var n=this.getKeyForAutomaticLookahead(1536,t),r=this.nestedRuleBeforeClause(e,n);try{this.atLeastOneSepFirstInternalLogic(t,e,n)}finally{void 0!==r&&this.nestedRuleFinallyClause(n,r)}},t.prototype.atLeastOneSepFirstInternalNoCst=function(t,e){var n=this.getKeyForAutomaticLookahead(1536,t);this.atLeastOneSepFirstInternalLogic(t,e,n)},t.prototype.atLeastOneSepFirstInternalLogic=function(t,e,n){var r=this,o=e.DEF,i=e.SEP;if(!0!==this.getLaFuncFromCache(n).call(this))throw this.raiseEarlyExitException(t,oe.REPETITION_MANDATORY_WITH_SEPARATOR,e.ERR_MSG);o.call(this);for(var s=function(){return r.tokenMatcher(r.LA(1),i)};!0===this.tokenMatcher(this.LA(1),i);)this.CONSUME(i),o.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[t,i,s,o,te],s,1536,t,te)},t.prototype.manyInternal=function(t,e){var n=this.getKeyForAutomaticLookahead(768,t),r=this.nestedRuleBeforeClause(e,n);try{return this.manyInternalLogic(t,e,n)}finally{void 0!==r&&this.nestedRuleFinallyClause(n,r)}},t.prototype.manyInternalNoCst=function(t,e){var n=this.getKeyForAutomaticLookahead(768,t);return this.manyInternalLogic(t,e,n)},t.prototype.manyInternalLogic=function(t,e,n){var r,o,i=this,s=this.getLaFuncFromCache(n);if(void 0!==e.DEF){if(r=e.DEF,void 0!==(o=e.GATE)){var a=s;s=function(){return o.call(i)&&a.call(i)}}}else r=e;for(var c=!0;!0===s.call(this)&&!0===c;)c=this.doSingleRepetition(r);this.attemptInRepetitionRecovery(this.manyInternal,[t,e],s,768,t,$t,c)},t.prototype.manySepFirstInternal=function(t,e){var n=this.getKeyForAutomaticLookahead(1280,t),r=this.nestedRuleBeforeClause(e,n);try{this.manySepFirstInternalLogic(t,e,n)}finally{void 0!==r&&this.nestedRuleFinallyClause(n,r)}},t.prototype.manySepFirstInternalNoCst=function(t,e){var n=this.getKeyForAutomaticLookahead(1280,t);this.manySepFirstInternalLogic(t,e,n)},t.prototype.manySepFirstInternalLogic=function(t,e,n){var r=this,o=e.DEF,i=e.SEP;if(!0===this.getLaFuncFromCache(n).call(this)){o.call(this);for(var s=function(){return r.tokenMatcher(r.LA(1),i)};!0===this.tokenMatcher(this.LA(1),i);)this.CONSUME(i),o.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[t,i,s,o,Zt],s,1280,t,Zt)}},t.prototype.repetitionSepSecondInternal=function(t,e,n,r,o){for(;n();)this.CONSUME(e),r.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[t,e,n,r,o],n,1536,t,o)},t.prototype.doSingleRepetition=function(t){var e=this.getLexerPosition();return t.call(this),this.getLexerPosition()>e},t.prototype.orInternalNoCst=function(t,e){var n=Object(o.y)(t)?t:t.DEF,r=this.getKeyForAutomaticLookahead(256,e),i=this.getLaFuncFromCache(r).call(this,n);if(void 0!==i)return n[i].ALT.call(this);this.raiseNoAltException(e,t.ERR_MSG)},t.prototype.orInternal=function(t,e){var n=this.getKeyForAutomaticLookahead(256,e),r=this.nestedRuleBeforeClause(t,n);try{var i=Object(o.y)(t)?t:t.DEF,s=this.getLaFuncFromCache(n).call(this,i);if(void 0!==s){var a=i[s],c=this.nestedAltBeforeClause(a,e,256,s);try{return a.ALT.call(this)}finally{void 0!==c&&this.nestedRuleFinallyClause(c.shortName,c.nestedName)}}this.raiseNoAltException(e,t.ERR_MSG)}finally{void 0!==r&&this.nestedRuleFinallyClause(n,r)}},t.prototype.ruleFinallyStateUpdate=function(){if(this.RULE_STACK.pop(),this.RULE_OCCURRENCE_STACK.pop(),this.cstFinallyStateUpdate(),0===this.RULE_STACK.length&&!1===this.isAtEndOfInput()){var t=this.LA(1),e=this.errorMessageProvider.buildNotAllInputParsedMessage({firstRedundant:t,ruleName:this.getCurrRuleFullName()});this.SAVE_ERROR(new ze(e,t))}},t.prototype.subruleInternal=function(t,e,n){var r;try{var o=void 0!==n?n.ARGS:void 0;return r=t.call(this,e,o),this.cstPostNonTerminal(r,void 0!==n&&void 0!==n.LABEL?n.LABEL:t.ruleName),r}catch(e){this.subruleInternalError(e,n,t.ruleName)}},t.prototype.subruleInternalError=function(t,e,n){throw Ue(t)&&void 0!==t.partialCstResult&&(this.cstPostNonTerminal(t.partialCstResult,void 0!==e&&void 0!==e.LABEL?e.LABEL:n),delete t.partialCstResult),t},t.prototype.consumeInternal=function(t,e,n){var r;try{var o=this.LA(1);!0===this.tokenMatcher(o,t)?(this.consumeToken(),r=o):this.consumeInternalError(t,o,n)}catch(n){r=this.consumeInternalRecovery(t,e,n)}return this.cstPostTerminal(void 0!==n&&void 0!==n.LABEL?n.LABEL:t.name,r),r},t.prototype.consumeInternalError=function(t,e,n){var r,o=this.LA(0);throw r=void 0!==n&&n.ERR_MSG?n.ERR_MSG:this.errorMessageProvider.buildMismatchTokenMessage({expected:t,actual:e,previous:o,ruleName:this.getCurrRuleFullName()}),this.SAVE_ERROR(new Fe(r,e,o))},t.prototype.consumeInternalRecovery=function(t,e,n){if(!this.recoveryEnabled||"MismatchedTokenException"!==n.name||this.isBackTracking())throw n;var r=this.getFollowsForInRuleRecovery(t,e);try{return this.tryInRuleRecovery(t,r)}catch(t){throw t.name===We?n:t}},t.prototype.saveRecogState=function(){var t=this.errors,e=Object(o.g)(this.RULE_STACK);return{errors:t,lexerState:this.exportLexerState(),RULE_STACK:e,CST_STACK:this.CST_STACK,LAST_EXPLICIT_RULE_STACK:this.LAST_EXPLICIT_RULE_STACK}},t.prototype.reloadRecogState=function(t){this.errors=t.errors,this.importLexerState(t.lexerState),this.RULE_STACK=t.RULE_STACK},t.prototype.ruleInvocationStateUpdate=function(t,e,n){this.RULE_OCCURRENCE_STACK.push(n),this.RULE_STACK.push(t),this.cstInvocationStateUpdate(e,t)},t.prototype.isBackTracking=function(){return 0!==this.isBackTrackingStack.length},t.prototype.getCurrRuleFullName=function(){var t=this.getLastExplicitRuleShortName();return this.shortRuleNameToFull[t]},t.prototype.shortRuleNameToFullName=function(t){return this.shortRuleNameToFull[t]},t.prototype.isAtEndOfInput=function(){return this.tokenMatcher(this.LA(1),ht)},t.prototype.reset=function(){this.resetLexerState(),this.isBackTrackingStack=[],this.errors=[],this.RULE_STACK=[],this.LAST_EXPLICIT_RULE_STACK=[],this.CST_STACK=[],this.RULE_OCCURRENCE_STACK=[]},t}(),cn=function(){function t(){}return t.prototype.initErrorHandler=function(t){this._errors=[],this.errorMessageProvider=Object(o.k)(t.errorMessageProvider,xn.errorMessageProvider)},t.prototype.SAVE_ERROR=function(t){if(Ue(t))return t.context={ruleStack:this.getHumanReadableRuleStack(),ruleOccurrenceStack:Object(o.g)(this.RULE_OCCURRENCE_STACK)},this._errors.push(t),t;throw Error("Trying to save an Error which is not a RecognitionException")},Object.defineProperty(t.prototype,"errors",{get:function(){return Object(o.g)(this._errors)},set:function(t){this._errors=t},enumerable:!0,configurable:!0}),t.prototype.raiseEarlyExitException=function(t,e,n){for(var r=this.getCurrRuleFullName(),o=de(t,this.getGAstProductions()[r],e,this.maxLookahead)[0],i=[],s=1;s<=this.maxLookahead;s++)i.push(this.LA(s));var a=this.errorMessageProvider.buildEarlyExitMessage({expectedIterationPaths:o,actual:i,previous:this.LA(0),customUserDescription:n,ruleName:r});throw this.SAVE_ERROR(new He(a,this.LA(1),this.LA(0)))},t.prototype.raiseNoAltException=function(t,e){for(var n=this.getCurrRuleFullName(),r=pe(t,this.getGAstProductions()[n],this.maxLookahead),o=[],i=1;i<=this.maxLookahead;i++)o.push(this.LA(i));var s=this.LA(0),a=this.errorMessageProvider.buildNoViableAltMessage({expectedPathsPerAlt:r,actual:o,previous:s,customUserDescription:e,ruleName:this.getCurrRuleFullName()});throw this.SAVE_ERROR(new Be(a,this.LA(1),s))},t}(),un=function(){function t(){}return t.prototype.initContentAssist=function(){},t.prototype.computeContentAssist=function(t,e){var n=this.gastProductionsCache[t];if(Object(o.F)(n))throw Error("Rule ->"+t+"<- does not exist in this grammar.");return ne([n],e,this.tokenMatcher,this.maxLookahead)},t.prototype.getNextPossibleTokenTypes=function(t){var e=Object(o.s)(t.ruleStack),n=this.getGAstProductions()[e];return new Xt(n,t).startWalking()},t}(),ln={description:"This Object indicates the Parser is during Recording Phase"};Object.freeze(ln);var hn=Math.pow(2,8)-1,pn=lt({name:"RECORDING_PHASE_TOKEN",pattern:$.NA});W([pn]);var dn=pt(pn,"This IToken indicates the Parser is in Recording Phase\n\tSee: https://sap.github.io/chevrotain/docs/guide/internals.html#grammar-recording for details",-1,-1,-1,-1,-1,-1);Object.freeze(dn);var fn={name:"This CSTNode indicates the Parser is in Recording Phase\n\tSee: https://sap.github.io/chevrotain/docs/guide/internals.html#grammar-recording for details",children:{}},_n=function(){function t(){}return t.prototype.initGastRecorder=function(t){this.recordingProdStack=[],this.RECORDING_PHASE=!1},t.prototype.enableRecording=function(){var t=this;this.RECORDING_PHASE=!0,this.TRACE_INIT("Enable Recording",(function(){for(var e=function(e){var n=e>0?e:"";t["CONSUME"+n]=function(t,n){return this.consumeInternalRecord(t,e,n)},t["SUBRULE"+n]=function(t,n){return this.subruleInternalRecord(t,e,n)},t["OPTION"+n]=function(t){return this.optionInternalRecord(t,e)},t["OR"+n]=function(t){return this.orInternalRecord(t,e)},t["MANY"+n]=function(t){this.manyInternalRecord(e,t)},t["MANY_SEP"+n]=function(t){this.manySepFirstInternalRecord(e,t)},t["AT_LEAST_ONE"+n]=function(t){this.atLeastOneInternalRecord(e,t)},t["AT_LEAST_ONE_SEP"+n]=function(t){this.atLeastOneSepFirstInternalRecord(e,t)}},n=0;n<10;n++)e(n);t.consume=function(t,e,n){return this.consumeInternalRecord(e,t,n)},t.subrule=function(t,e,n){return this.subruleInternalRecord(e,t,n)},t.option=function(t,e){return this.optionInternalRecord(e,t)},t.or=function(t,e){return this.orInternalRecord(e,t)},t.many=function(t,e){this.manyInternalRecord(t,e)},t.atLeastOne=function(t,e){this.atLeastOneInternalRecord(t,e)},t.ACTION=t.ACTION_RECORD,t.BACKTRACK=t.BACKTRACK_RECORD,t.LA=t.LA_RECORD}))},t.prototype.disableRecording=function(){var t=this;this.RECORDING_PHASE=!1,this.TRACE_INIT("Deleting Recording methods",(function(){for(var e=0;e<10;e++){var n=e>0?e:"";delete t["CONSUME"+n],delete t["SUBRULE"+n],delete t["OPTION"+n],delete t["OR"+n],delete t["MANY"+n],delete t["MANY_SEP"+n],delete t["AT_LEAST_ONE"+n],delete t["AT_LEAST_ONE_SEP"+n]}delete t.consume,delete t.subrule,delete t.option,delete t.or,delete t.many,delete t.atLeastOne,delete t.ACTION,delete t.BACKTRACK,delete t.LA}))},t.prototype.ACTION_RECORD=function(t){},t.prototype.BACKTRACK_RECORD=function(t,e){return function(){return!0}},t.prototype.LA_RECORD=function(t){return En},t.prototype.topLevelRuleRecord=function(t,e){try{var n=new vt({definition:[],name:t});return n.name=t,this.recordingProdStack.push(n),e.call(this),this.recordingProdStack.pop(),n}catch(t){if(!0!==t.KNOWN_RECORDER_ERROR)try{t.message=t.message+'\n\t This error was thrown during the "grammar recording phase" For more info see:\n\thttps://sap.github.io/chevrotain/docs/guide/internals.html#grammar-recording'}catch(e){throw t}throw t}},t.prototype.optionInternalRecord=function(t,e){return mn.call(this,yt,t,e)},t.prototype.atLeastOneInternalRecord=function(t,e){mn.call(this,bt,e,t)},t.prototype.atLeastOneSepFirstInternalRecord=function(t,e){mn.call(this,wt,e,t,!0)},t.prototype.manyInternalRecord=function(t,e){mn.call(this,Et,e,t)},t.prototype.manySepFirstInternalRecord=function(t,e){mn.call(this,Ot,e,t,!0)},t.prototype.orInternalRecord=function(t,e){return vn.call(this,t,e)},t.prototype.subruleInternalRecord=function(t,e,n){if(yn(e),!t||!1===Object(o.w)(t,"ruleName")){var r=new Error("<SUBRULE"+gn(e)+"> argument is invalid expecting a Parser method reference but got: <"+JSON.stringify(t)+">\n inside top level rule: <"+this.recordingProdStack[0].name+">");throw r.KNOWN_RECORDER_ERROR=!0,r}var i=Object(o.M)(this.recordingProdStack),s=t.ruleName,a=new mt({idx:e,nonTerminalName:s,referencedRule:void 0});return i.definition.push(a),this.outputCst?fn:ln},t.prototype.consumeInternalRecord=function(t,e,n){if(yn(e),!V(t)){var r=new Error("<CONSUME"+gn(e)+"> argument is invalid expecting a TokenType reference but got: <"+JSON.stringify(t)+">\n inside top level rule: <"+this.recordingProdStack[0].name+">");throw r.KNOWN_RECORDER_ERROR=!0,r}var i=Object(o.M)(this.recordingProdStack),s=new Tt({idx:e,terminalType:t});return i.definition.push(s),dn},t}();function mn(t,e,n,r){void 0===r&&(r=!1),yn(n);var i=Object(o.M)(this.recordingProdStack),s=Object(o.B)(e)?e:e.DEF,a=new t({definition:[],idx:n});return Object(o.w)(e,"NAME")&&(a.name=e.NAME),r&&(a.separator=e.SEP),Object(o.w)(e,"MAX_LOOKAHEAD")&&(a.maxLookahead=e.MAX_LOOKAHEAD),this.recordingProdStack.push(a),s.call(this),i.definition.push(a),this.recordingProdStack.pop(),ln}function vn(t,e){var n=this;yn(e);var r=Object(o.M)(this.recordingProdStack),i=!1===Object(o.y)(t),s=!1===i?t:t.DEF,a=new xt({definition:[],idx:e,ignoreAmbiguities:i&&!0===t.IGNORE_AMBIGUITIES});Object(o.w)(t,"NAME")&&(a.name=t.NAME),Object(o.w)(t,"MAX_LOOKAHEAD")&&(a.maxLookahead=t.MAX_LOOKAHEAD);var c=Object(o.Q)(s,(function(t){return Object(o.B)(t.GATE)}));return a.hasPredicates=c,r.definition.push(a),Object(o.u)(s,(function(t){var e=new gt({definition:[]});a.definition.push(e),Object(o.w)(t,"NAME")&&(e.name=t.NAME),Object(o.w)(t,"IGNORE_AMBIGUITIES")?e.ignoreAmbiguities=t.IGNORE_AMBIGUITIES:Object(o.w)(t,"GATE")&&(e.ignoreAmbiguities=!0),n.recordingProdStack.push(e),t.ALT.call(n),n.recordingProdStack.pop()})),ln}function gn(t){return 0===t?"":""+t}function yn(t){if(t<0||t>hn){var e=new Error("Invalid DSL Method idx value: <"+t+">\n\tIdx value must be a none negative value smaller than "+(hn+1));throw e.KNOWN_RECORDER_ERROR=!0,e}}var bn=function(){function t(){}return t.prototype.initPerformanceTracer=function(t){if(Object(o.w)(t,"traceInitPerf")){var e=t.traceInitPerf,n="number"==typeof e;this.traceInitMaxIdent=n?e:1/0,this.traceInitPerf=n?e>0:e}else this.traceInitMaxIdent=0,this.traceInitPerf=xn.traceInitPerf;this.traceInitIndent=-1},t.prototype.TRACE_INIT=function(t,e){if(!0===this.traceInitPerf){this.traceInitIndent++;var n=new Array(this.traceInitIndent+1).join("\t");this.traceInitIndent<this.traceInitMaxIdent&&console.log(n+"--\x3e <"+t+">");var r=Object(o.R)(e),i=r.time,s=r.value,a=i>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&a(n+"<-- <"+t+"> time: "+i+"ms"),this.traceInitIndent--,s}return e()},t}(),wn=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),En=pt(ht,"",NaN,NaN,NaN,NaN,NaN,NaN);Object.freeze(En);var On,xn=Object.freeze({recoveryEnabled:!1,maxLookahead:4,ignoredIssues:{},dynamicTokensEnabled:!1,outputCst:!0,errorMessageProvider:Te,nodeLocationTracking:"none",traceInitPerf:!1,skipValidations:!1}),Tn=Object.freeze({recoveryValueFunc:function(){},resyncEnabled:!0});function An(t){return void 0===t&&(t=void 0),function(){return t}}!function(t){t[t.INVALID_RULE_NAME=0]="INVALID_RULE_NAME",t[t.DUPLICATE_RULE_NAME=1]="DUPLICATE_RULE_NAME",t[t.INVALID_RULE_OVERRIDE=2]="INVALID_RULE_OVERRIDE",t[t.DUPLICATE_PRODUCTIONS=3]="DUPLICATE_PRODUCTIONS",t[t.UNRESOLVED_SUBRULE_REF=4]="UNRESOLVED_SUBRULE_REF",t[t.LEFT_RECURSION=5]="LEFT_RECURSION",t[t.NONE_LAST_EMPTY_ALT=6]="NONE_LAST_EMPTY_ALT",t[t.AMBIGUOUS_ALTS=7]="AMBIGUOUS_ALTS",t[t.CONFLICT_TOKENS_RULES_NAMESPACE=8]="CONFLICT_TOKENS_RULES_NAMESPACE",t[t.INVALID_TOKEN_NAME=9]="INVALID_TOKEN_NAME",t[t.INVALID_NESTED_RULE_NAME=10]="INVALID_NESTED_RULE_NAME",t[t.DUPLICATE_NESTED_NAME=11]="DUPLICATE_NESTED_NAME",t[t.NO_NON_EMPTY_LOOKAHEAD=12]="NO_NON_EMPTY_LOOKAHEAD",t[t.AMBIGUOUS_PREFIX_ALTS=13]="AMBIGUOUS_PREFIX_ALTS",t[t.TOO_MANY_ALTS=14]="TOO_MANY_ALTS"}(On||(On={}));var Sn=function(){function t(t,e){void 0===e&&(e=xn),this.ignoredIssues=xn.ignoredIssues,this.definitionErrors=[],this.selfAnalysisDone=!1;this.initErrorHandler(e),this.initLexerAdapter(),this.initLooksAhead(e),this.initRecognizerEngine(t,e),this.initRecoverable(e),this.initTreeBuilder(e),this.initContentAssist(),this.initGastRecorder(e),this.initPerformanceTracer(e),Object(o.w)(e,"ignoredIssues")&&e.ignoredIssues!==xn.ignoredIssues&&Object(o.d)("The <ignoredIssues> IParserConfig property is soft-deprecated and will be removed in future versions.\n\tPlease use the <IGNORE_AMBIGUITIES> flag on the relevant DSL method instead."),this.ignoredIssues=Object(o.w)(e,"ignoredIssues")?e.ignoredIssues:xn.ignoredIssues,this.skipValidations=Object(o.w)(e,"skipValidations")?e.skipValidations:xn.skipValidations}return t.performSelfAnalysis=function(t){t.performSelfAnalysis()},t.prototype.performSelfAnalysis=function(){var e=this;this.TRACE_INIT("performSelfAnalysis",(function(){var n;e.selfAnalysisDone=!0;var r=e.className;e.TRACE_INIT("toFastProps",(function(){Object(o.S)(e)})),e.TRACE_INIT("Grammar Recording",(function(){try{e.enableRecording(),Object(o.u)(e.definedRulesNames,(function(t){var n=e[t].originalGrammarAction,r=void 0;e.TRACE_INIT(t+" Rule",(function(){r=e.topLevelRuleRecord(t,n)})),e.gastProductionsCache[t]=r}))}finally{e.disableRecording()}}));var i=[];if(e.TRACE_INIT("Grammar Resolving",(function(){i=Ie({rules:Object(o.U)(e.gastProductionsCache)}),e.definitionErrors.push.apply(e.definitionErrors,i)})),e.TRACE_INIT("Grammar Validations",(function(){if(Object(o.A)(i)&&!1===e.skipValidations){var t=Re({rules:Object(o.U)(e.gastProductionsCache),maxLookahead:e.maxLookahead,tokenTypes:Object(o.U)(e.tokensMap),ignoredIssues:e.ignoredIssues,errMsgProvider:Se,grammarName:r});e.definitionErrors.push.apply(e.definitionErrors,t)}})),Object(o.A)(e.definitionErrors)&&(e.recoveryEnabled&&e.TRACE_INIT("computeAllProdsFollows",(function(){var t,n,r=(t=Object(o.U)(e.gastProductionsCache),n={},Object(o.u)(t,(function(t){var e=new Ft(t).startWalking();Object(o.f)(n,e)})),n);e.resyncFollows=r})),e.TRACE_INIT("ComputeLookaheadFunctions",(function(){e.preComputeLookaheadFunctions(Object(o.U)(e.gastProductionsCache))}))),e.TRACE_INIT("expandAllNestedRuleNames",(function(){var t,n,r,i=(t=Object(o.U)(e.gastProductionsCache),n=e.fullRuleNameToShort,r={allRuleNames:[]},Object(o.u)(t,(function(t){var e=n[t.name];r.allRuleNames.push(t.name);var i=new Kt(e);t.accept(i),Object(o.u)(i.result,(function(e){e.def,e.key;var n=e.name;r.allRuleNames.push(t.name+n)}))})),r);e.allRuleNames=i.allRuleNames})),!t.DEFER_DEFINITION_ERRORS_HANDLING&&!Object(o.A)(e.definitionErrors))throw n=Object(o.I)(e.definitionErrors,(function(t){return t.message})),new Error("Parser Definition Errors detected:\n "+n.join("\n-------------------------------\n"))}))},t.DEFER_DEFINITION_ERRORS_HANDLING=!1,t}();Object(o.e)(Sn,[Ge,Ye,rn,on,an,sn,cn,un,_n,bn]);var Nn=function(t){function e(e,n){void 0===n&&(n=xn);var r=Object(o.h)(n);return r.outputCst=!0,t.call(this,e,r)||this}return wn(e,t),e}(Sn),Cn=function(t){function e(e,n){void 0===n&&(n=xn);var r=Object(o.h)(n);return r.outputCst=!1,t.call(this,e,r)||this}return wn(e,t),e}(Sn);function In(t,e){var n=void 0===e?{}:e,o=n.resourceBase,i=void 0===o?"https://unpkg.com/chevrotain@"+r+"/diagrams/":o,s=n.css;return'\n\x3c!-- This is a generated file --\x3e\n<!DOCTYPE html>\n<meta charset="utf-8">\n<style>\n  body {\n    background-color: hsl(30, 20%, 95%)\n  }\n</style>\n\n'+("\n<link rel='stylesheet' href='"+(void 0===s?"https://unpkg.com/chevrotain@"+r+"/diagrams/diagrams.css":s)+"'>\n")+("\n<script src='"+i+"vendor/railroad-diagrams.js'><\/script>\n<script src='"+i+"src/diagrams_builder.js'><\/script>\n<script src='"+i+"src/diagrams_behavior.js'><\/script>\n<script src='"+i+"src/main.js'><\/script>\n")+'\n<div id="diagrams" align="center"></div>    \n'+("\n<script>\n    window.serializedGrammar = "+JSON.stringify(t,null,"  ")+";\n<\/script>\n")+'\n<script>\n    var diagramsDiv = document.getElementById("diagrams");\n    main.drawDiagramsFromSerializedGrammar(serializedGrammar, diagramsDiv);\n<\/script>\n'}var Rn="\n";function kn(t){var e;return"\nfunction "+t.name+"(tokenVocabulary, config) {\n    // invoke super constructor\n    // No support for embedded actions currently, so we can 'hardcode'\n    // The use of CstParser.\n    chevrotain.CstParser.call(this, tokenVocabulary, config)\n\n    const $ = this\n\n    "+(e=t.rules,Object(o.I)(e,(function(t){return r=Un(n=1,'$.RULE("'+(e=t).name+'", function() {')+Rn,r+=Dn(e.definition,n+1),r+=Un(n+1,"})")+Rn;var e,n,r})).join("\n"))+"\n\n    // very important to call this after all the rules have been defined.\n    // otherwise the parser may not work correctly as it will lack information\n    // derived during the self analysis phase.\n    this.performSelfAnalysis(this)\n}\n\n// inheritance as implemented in javascript in the previous decade... :(\n"+t.name+".prototype = Object.create(chevrotain.CstParser.prototype)\n"+t.name+".prototype.constructor = "+t.name+"    \n    "}function Ln(t,e){var n=Un(e,"$.OR"+t.idx+"([")+Rn,r=Object(o.I)(t.definition,(function(t){return function(t,e){var n=Un(e,"{")+Rn;t.name&&(n+=Un(e+1,'NAME: "'+t.name+'",')+Rn);return n+=Un(e+1,"ALT: function() {")+Rn,n+=Dn(t.definition,e+1),n+=Un(e+1,"}")+Rn,n+=Un(e,"}")}(t,e+1)}));return n+=r.join(","+Rn),n+=Rn+Un(e,"])"+Rn)}function jn(t,e){if(t instanceof mt)return function(t,e){return Un(e,"$.SUBRULE"+t.idx+"($."+t.nonTerminalName+")"+Rn)}(t,e);if(t instanceof yt)return Pn("OPTION",t,e);if(t instanceof bt)return Pn("AT_LEAST_ONE",t,e);if(t instanceof wt)return Pn("AT_LEAST_ONE_SEP",t,e);if(t instanceof Ot)return Pn("MANY_SEP",t,e);if(t instanceof Et)return Pn("MANY",t,e);if(t instanceof xt)return Ln(t,e);if(t instanceof Tt)return function(t,e){var n=t.terminalType.name;return Un(e,"$.CONSUME"+t.idx+"(this.tokensMap."+n+")"+Rn)}(t,e);if(t instanceof gt)return Dn(t.definition,e);throw Error("non exhaustive match")}function Pn(t,e,n){var r=Un(n,"$."+(t+e.idx)+"(");return e.name||e.separator?(r+="{"+Rn,e.name&&(r+=Un(n+1,'NAME: "'+e.name+'"')+","+Rn),e.separator&&(r+=Un(n+1,"SEP: this.tokensMap."+e.separator.name)+","+Rn),r+="DEF: "+Mn(e.definition,n+2)+Rn,r+=Un(n,"}")+Rn):r+=Mn(e.definition,n+1),r+=Un(n,")")+Rn}function Mn(t,e){var n="function() {"+Rn;return n+=Dn(t,e),n+=Un(e,"}")+Rn}function Dn(t,e){var n="";return Object(o.u)(t,(function(t){n+=jn(t,e+1)})),n}function Un(t,e){return Array(4*t+1).join(" ")+e}function Fn(t){var e=function(t){return"    \n"+kn(t)+"\nreturn new "+t.name+"(tokenVocabulary, config)    \n"}({name:t.name,rules:t.rules}),r=new Function("tokenVocabulary","config","chevrotain",e);return function(e){return r(t.tokenVocabulary,e,n(126))}}function Bn(t){return function(t){return"\n(function (root, factory) {\n    if (typeof define === 'function' && define.amd) {\n        // AMD. Register as an anonymous module.\n        define(['chevrotain'], factory);\n    } else if (typeof module === 'object' && module.exports) {\n        // Node. Does not work with strict CommonJS, but\n        // only CommonJS-like environments that support module.exports,\n        // like Node.\n        module.exports = factory(require('chevrotain'));\n    } else {\n        // Browser globals (root is window)\n        root.returnExports = factory(root.b);\n    }\n}(typeof self !== 'undefined' ? self : this, function (chevrotain) {\n\n"+kn(t)+"\n    \nreturn {\n    "+t.name+": "+t.name+" \n}\n}));\n"}({name:t.name,rules:t.rules})}function zn(){console.warn("The clearCache function was 'soft' removed from the Chevrotain API.\n\t It performs no action other than printing this message.\n\t Please avoid using it as it will be completely removed in the future")}n.d(e,"clearCache",(function(){return zn})),n.d(e,"VERSION",(function(){return r})),n.d(e,"Parser",(function(){return Sn})),n.d(e,"CstParser",(function(){return Nn})),n.d(e,"EmbeddedActionsParser",(function(){return Cn})),n.d(e,"ParserDefinitionErrorType",(function(){return On})),n.d(e,"EMPTY_ALT",(function(){return An})),n.d(e,"Lexer",(function(){return $})),n.d(e,"LexerDefinitionErrorType",(function(){return Y})),n.d(e,"createToken",(function(){return lt})),n.d(e,"createTokenInstance",(function(){return pt})),n.d(e,"EOF",(function(){return ht})),n.d(e,"tokenLabel",(function(){return Z})),n.d(e,"tokenMatcher",(function(){return dt})),n.d(e,"tokenName",(function(){return Q})),n.d(e,"defaultGrammarResolverErrorProvider",(function(){return Ae})),n.d(e,"defaultGrammarValidatorErrorProvider",(function(){return Se})),n.d(e,"defaultParserErrorProvider",(function(){return Te})),n.d(e,"EarlyExitException",(function(){return He})),n.d(e,"isRecognitionException",(function(){return Ue})),n.d(e,"MismatchedTokenException",(function(){return Fe})),n.d(e,"NotAllInputParsedException",(function(){return ze})),n.d(e,"NoViableAltException",(function(){return Be})),n.d(e,"defaultLexerErrorProvider",(function(){return X})),n.d(e,"Alternation",(function(){return xt})),n.d(e,"Flat",(function(){return gt})),n.d(e,"NonTerminal",(function(){return mt})),n.d(e,"Option",(function(){return yt})),n.d(e,"Repetition",(function(){return Et})),n.d(e,"RepetitionMandatory",(function(){return bt})),n.d(e,"RepetitionMandatoryWithSeparator",(function(){return wt})),n.d(e,"RepetitionWithSeparator",(function(){return Ot})),n.d(e,"Rule",(function(){return vt})),n.d(e,"Terminal",(function(){return Tt})),n.d(e,"serializeGrammar",(function(){return At})),n.d(e,"serializeProduction",(function(){return St})),n.d(e,"GAstVisitor",(function(){return It})),n.d(e,"assignOccurrenceIndices",(function(){return ke})),n.d(e,"resolveGrammar",(function(){return Ie})),n.d(e,"validateGrammar",(function(){return Re})),n.d(e,"createSyntaxDiagramsCode",(function(){return In})),n.d(e,"generateParserFactory",(function(){return Fn})),n.d(e,"generateParserModule",(function(){return Bn}))},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return Server}));var core_js_modules_es_array_iterator__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(13),core_js_modules_es_array_iterator__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_array_iterator__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es_promise__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(30),core_js_modules_es_promise__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_promise__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_web_dom_collections_iterator__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(20),core_js_modules_web_dom_collections_iterator__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_web_dom_collections_iterator__WEBPACK_IMPORTED_MODULE_2__),_config__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(24),_config__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_config__WEBPACK_IMPORTED_MODULE_3__);function error_to_json(t){const e={};return"string"!=typeof t?Object.getOwnPropertyNames(t).forEach(n=>{e[n]=t[n]},t):e.message=t,e}class Server{constructor(t){this.perspective=t,this._tables={},this._views={},this._callback_cache=new Map}init(t){t.config&&Object(_config__WEBPACK_IMPORTED_MODULE_3__.override_config)(t.config),this.post(t)}post(){throw new Error("post() not implemented!")}clear_views(t){for(let e of Object.keys(this._views))if(this._views[e].client_id===t){try{this._views[e].delete()}catch(t){console.error(t)}delete this._views[e]}console.debug("GC ".concat(Object.keys(this._views).length," views in memory"))}process(msg,client_id){switch(msg.cmd){case"init_profile_thread":this.perspective.initialize_profile_thread();break;case"init":this.init(msg);break;case"table":if(void 0===msg.args[0])this._tables[msg.name]=[];else{const t=this._tables[msg.name];if(this._tables[msg.name]=this.perspective.table(msg.args[0],msg.options),t)for(const e of t)this.process(e)}break;case"table_generate":let g;eval("g = "+msg.args),g((function(t){this._tables[msg.name]=t,this.post({id:msg.id,data:"created!"})}));break;case"table_execute":let f;eval("f = "+msg.f),f(this._tables[msg.name]);break;case"table_method":case"view_method":this.process_method_call(msg);break;case"view":this._views[msg.view_name]=this._tables[msg.table_name].view(msg.config),this._views[msg.view_name].client_id=client_id}}process_error(t,e){this.post({id:t.id,error:error_to_json(e)})}process_subscribe(t,e){try{let n;"on"===t.method.slice(0,2)?(n=r=>{let o={id:t.id,data:r};try{if(t.args&&t.args[0]&&"on_update"===t.method&&"row"===t.args[0].mode)return void this.post(o,[r]);this.post(o)}catch(r){console.error("Removing failed callback to `".concat(t.method,"()` (presumably due to failed connection)"));const o=t.method.substring(3);e["remove_".concat(o)](n)}},t.callback_id&&this._callback_cache.set(t.callback_id,n)):t.callback_id&&(n=this._callback_cache.get(t.callback_id),this._callback_cache.delete(t.callback_id)),n?e[t.method](n,...t.args):console.error('Callback not found for remote call "'.concat(JSON.stringify(t),'"'))}catch(e){return void this.process_error(t,e)}}process_method_call_response(t,e){"delete"===t.method&&delete this._views[t.name],"to_arrow"===t.method?this.post({id:t.id,data:e},[e]):this.post({id:t.id,data:e})}process_method_call(t){let e,n;if(e="table_method"===t.cmd?this._tables[t.name]:this._views[t.name],e||"view_method"!==t.cmd)if(e&&e.push)e.push(t);else try{if(t.subscribe)return void this.process_subscribe(t,e);n=e[t.method].apply(e,t.args),n instanceof Promise?n.then(e=>this.process_method_call_response(t,e)).catch(e=>this.process_error(t,e)):this.process_method_call_response(t,n)}catch(e){return void this.process_error(t,e)}else this.process_error(t,{message:"View is not initialized"})}}},function(t,e,n){t.exports=function(){var t=n(111),e=t.publicPath(n.p)+"perspective.wasm.worker.js";return t.isCrossOrigin(n.p)?new Promise((function(n){t.XHRWorker(e,n)})):new Promise((function(t){t(new Worker(e))}))}},function(t,e,n){var r,o,i,s,a,c,u,l,h,p,d,f,_,m,v,g,y,b,w,E,O,x,T,A,S,N,C,I;window,t.exports=(r=n(126),o=n(269),i=n(13),s=n(20),a=n(24),c=n(140),u=n(30),l=n(69),h=n(109),p=n(108),d=n(156),f=n(162),_=n(163),m=n(164),v=n(167),g=n(168),y=n(97),b=n(234),w=n(241),E=n(242),O=n(249),x=n(110),T=n(253),A=n(254),S=n(257),N=n(258),C=n(260),I=n(262),function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=41)}([function(t,e){t.exports=r},function(t,e,n){"use strict";(function(t){function r(t,...e){const n=e.map(t=>t.toString()).join("\n");return function(e){return function(t,e,n){const r=function(t){const e=document.createElement("div");return e.innerHTML=t,Array.prototype.slice.call(e.children)[0]}(t);!function(t){if(t.content)return;let e;for(t.content=document.createDocumentFragment();e=t.firstChild;)Node.prototype.appendChild.call(t.content,e)}(r),e&&(r.innerHTML="<style>".concat(e.toString(),"</style>")+r.innerHTML),r.innerHTML='<style id="psp_styles" scope="'.concat(r.getAttribute("id"),'">test{}</style>')+r.innerHTML;for(let t of Object.getOwnPropertyNames(n.prototype)){let e=Object.getOwnPropertyDescriptor(n.prototype,t);if(e&&e.set){let r=e.set;e.set=function(e){this.hasAttribute(t)&&this.getAttribute(t)===e?(this._initializing||this._initialized)&&r.call(this,e):this.setAttribute(t,e)},Object.defineProperty(n.prototype,t,e)}}let o=r.getAttribute("id");console.log("Registered ".concat(o)),window.customElements.define(o,class extends n{attributeChangedCallback(t,e,r){null===r&&(r="null"),"_"!==t[0]&&e!=r&&Object.getOwnPropertyDescriptor(n.prototype,t).set&&(this[t]=r)}connectedCallback(){if(!this._initialized){this._initializing=!0;var t=document.importNode(r.content,!0);this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(t),super.connectedCallback&&super.connectedCallback();for(let t of Object.getOwnPropertyNames(n.prototype))"connectedCallback"!==t&&this.hasAttribute(t)&&"_"!==t[0]&&Object.getOwnPropertyDescriptor(n.prototype,t).set&&(this[t]=this.getAttribute(t));this._initializing=!1,this._initialized=!0}}static get observedAttributes(){return Object.getOwnPropertyNames(n.prototype)}})}(t,{toString:()=>n},e)}}function o(t){return function(e,n,r){const o=r.value;return r.set=function(e){let r=this.getAttribute(n);try{null!=e&&""!==e||(e=t()),"string"!=typeof e&&(e=JSON.stringify(e)),e!==r&&(r=e),r=JSON.parse(r)}catch(o){console.warn('Invalid value for attribute "'.concat(n,'": ').concat(e)),r=t()}o.call(this,r)},r.get=function(){return this.hasAttribute(n)?JSON.parse(this.getAttribute(n)):t()},delete r.value,delete r.writable,r}}function i(t){let e=document.createElement("textarea");document.body.appendChild(e),e.value=t,e.select(),document.execCommand("copy"),document.body.removeChild(e)}n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return i})),n.d(e,"f",(function(){return a})),n.d(e,"e",(function(){return c})),n.d(e,"d",(function(){return u})),n.d(e,"a",(function(){return l})),n(18),n(3),n(15),n(8),n(12),n(4);const s=()=>{let t,e=new Promise(e=>{t=e});return e.resolve=t,e};function a(t,e,n){const r=Symbol("private lock"),o=n.value;return n.value=async function(...t){if(this[r]&&(await this[r],this[r]))return void await this[r];let e;this[r]=s();try{e=await o.call(this,...t)}catch(t){console.error(t)}finally{const t=this[r];return this[r]=void 0,t.resolve(),e}},n}function c(t,...e){if(e[0]===e[1])return;if(e.every(t=>t.classList.contains("null-column")))return;let[n,r]=e.map(e=>Array.prototype.slice.call(t.children).indexOf(e));r<n&&([n,r]=[r,n],e=e.reverse()),t.insertBefore(e[1],e[0]),r+1===t.children.length?t.appendChild(e[0]):t.insertBefore(e[0],t.children[r+1])}const u=o(()=>({})),l=o(()=>[])}).call(this,n(17))},function(t,e){t.exports=o},function(t,e){t.exports=i},function(t,e){t.exports=s},function(t,e){t.exports=a},function(t,e,n){"use strict";(function(t){n.d(e,"b",(function(){return s})),n.d(e,"a",(function(){return c})),n(3),n(8),n(4);var r=n(2);function o(){const t=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n        <pre style="margin:0;overflow:scroll;position:absolute;width:100%;height:100%">',"</pre>\n    "]);return o=function(){return t},t}const i={},s=new class{registerPlugin(t,e){if(i[t])throw new Error('A perspective-viewer plugin "'.concat(t,'" has already been registered'));for(const n in i){const r=i[n];r&&r.name===e.name&&(console.warn('Conflicting plugin name "'.concat(e.name,'", qualifying with id')),r.name="".concat(r.name," [").concat(n,"]"),e.name="".concat(e.name," [").concat(t,"]"))}i[t]=e}getPlugin(t){return i[t]}getInstance(){return i}};t.registerPlugin=s.registerPlugin,t.getPlugin=s.getPlugin,t.__perspective_plugins__&&t.__perspective_plugins__.forEach(([e,n])=>t.registerPlugin(e,n));const a=t=>Object(r.html)(o(),t);function c(){t.registerPlugin("debug",{name:"Debug",create:async function(t){const e=await this._view.to_csv({config:{delimiter:"|"}}),n=this._render_time();Object(r.render)(a(e),t),n()},selectMode:"toggle",resize:function(){},delete:function(){}})}}).call(this,n(17))},function(t,e){t.exports=c},function(t,e){t.exports=u},function(t,e){t.exports=l},function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=function(t,e){var n,r=t[1]||"",o=t[3];if(!o)return r;if(e&&"function"==typeof btoa){var i=(n=o,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */"),s=o.sources.map((function(t){return"/*# sourceURL="+o.sourceRoot+t+" */"}));return[r].concat(s).concat([i]).join("\n")}return[r].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n})).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(r[i]=!0)}for(o=0;o<t.length;o++){var s=t[o];"number"==typeof s[0]&&r[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="("+s[2]+") and ("+n+")"),e.push(s))}},e}},function(t,e){t.exports=h},function(t,e){t.exports=p},function(t,e){t.exports=d},function(t,e){t.exports=f},function(t,e){t.exports=_},function(t,e){t.exports=m},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e){t.exports=v},function(t,e,n){(t.exports=n(10)(!1)).push([t.i,'.awesomplete [hidden] {\n    display: none;\n}\n\n.awesomplete .visually-hidden {\n    position: absolute;\n    clip: rect(0, 0, 0, 0);\n}\n\n.awesomplete {\n    display: inline-block;\n    position: relative;\n}\n\n.awesomplete > input {\n    display: block;\n}\n\n.awesomplete > ul {\n    position: absolute;\n    left: 0;\n    z-index: 1;\n    min-width: 100%;\n    box-sizing: border-box;\n    list-style: none;\n    padding: 0;\n    margin: 0;\n    background: #fff;\n}\n\n.awesomplete > ul:empty {\n    display: none;\n}\n\n.awesomplete > ul {\n\tborder-radius: .3em;\n\tmargin: .2em 0 0;\n\tbackground: hsla(0,0%,100%,.9);\n\tbackground: linear-gradient(to bottom right, white, hsla(0,0%,100%,.8));\n\tborder: 1px solid rgba(0,0,0,.3);\n\tbox-shadow: .05em .2em .6em rgba(0,0,0,.2);\n\ttext-shadow: none;\n}\n\n@supports (transform: scale(0)) {\n\t.awesomplete > ul {\n\t\ttransition: .3s cubic-bezier(.4,.2,.5,1.4);\n\t\ttransform-origin: 1.43em -.43em;\n\t}\n\t\n\t.awesomplete > ul[hidden],\n\t.awesomplete > ul:empty {\n\t\topacity: 0;\n\t\ttransform: scale(0);\n\t\tdisplay: block;\n\t\ttransition-timing-function: ease;\n\t}\n}\n\n\t/* Pointer */\n\t.awesomplete > ul:before {\n\t\tcontent: "";\n\t\tposition: absolute;\n\t\ttop: -.43em;\n\t\tleft: 1em;\n\t\twidth: 0; height: 0;\n\t\tpadding: .4em;\n\t\tbackground: white;\n\t\tborder: inherit;\n\t\tborder-right: 0;\n\t\tborder-bottom: 0;\n\t\t-webkit-transform: rotate(45deg);\n\t\ttransform: rotate(45deg);\n\t}\n\n\t.awesomplete > ul > li {\n\t\tposition: relative;\n\t\tpadding: .2em .5em;\n\t\tcursor: pointer;\n\t}\n\t\n\t.awesomplete > ul > li:hover {\n\t\tbackground: hsl(200, 40%, 80%);\n\t\tcolor: black;\n\t}\n\t\n\t.awesomplete > ul > li[aria-selected="true"] {\n\t\tbackground: hsl(205, 40%, 40%);\n\t\tcolor: white;\n\t}\n\t\n\t\t.awesomplete mark {\n\t\t\tbackground: hsl(65, 100%, 50%);\n\t\t}\n\t\t\n\t\t.awesomplete li:hover mark {\n\t\t\tbackground: hsl(68, 100%, 41%);\n\t\t}\n\t\t\n\t\t.awesomplete li[aria-selected="true"] mark {\n\t\t\tbackground: hsl(86, 100%, 21%);\n\t\t\tcolor: inherit;\n\t\t}\n',""])},function(t,e){t.exports='\x3c!--\r\n   \r\n   Copyright (c) 2017, the Perspective Authors.\r\n   \r\n   This file is part of the Perspective library, distributed under the terms of\r\n   the Apache License 2.0.  The full license can be found in the LICENSE file.\r\n\r\n--\x3e\r\n\r\n<template id="perspective-row">\r\n    <div id="psp_row">\r\n        <span class=\'is_visible\'></span>\r\n        <div draggable=\'true\' class="row_draggable">\r\n            <span id=\'name\' class="column_name"></span>\r\n            <div class="row_computed">\r\n                <span id="row_edit"></span>\r\n            </div>\r\n            <span id="sort_order"></span>\r\n            <select id="column_aggregate" class="string"></select>\r\n            <select id="filter_operator"></select>\r\n            <input id="filter_operand" placeholder="Value" />\r\n            <span id="row_exclamation" hidden>&#x26A0;</span>\r\n            <span id=\'row_close\'>&#x2715;</span>\r\n        </div>\r\n    </div>\r\n</template>'},function(t,e,n){(t.exports=n(10)(!1)).push([t.i,':host{display:block;border:0 solid transparent}:host .row_computed{display:none;flex-direction:row}.dropping *{pointer-events:none}:host #psp_row{display:var(--psp_row-display,flex);margin:var(--psp_row-margin,0);overflow:visible;align-items:var(--column_selector--align-items,center);width:auto!important;height:auto!important;float:none!important}:host .is_visible{width:var(--column_selector--width,20px);min-width:var(--column_selector--width,20px);height:var(--is_visible--height,auto);cursor:var(--is_visible--cursor,pointer);font-size:var(--column_selector--font-size,14px);margin-top:-2px;display:var(--is_visible-display,none);color:var(--column-selector--color,#999);font-family:var(--column-selector--font-family,Arial)!important}:host #sort_order{display:none;font-family:var(--button--font-family,inherit);margin-right:4px;cursor:pointer;width:10px;display:var(--sort_order-display,none);padding:var(--sort_order-padding,0)}:host #sort_order:before{content:var(--row-sort-order--before, "-")}:host #sort_order:hover{color:var(--active--color,inherit)}:host #filter_operand{display:var(--filter_operand-display,none);margin:0;padding:0;height:19px;color:inherit;outline:0;border-color:var(--inactive--color,#ccc)}:host #filter_operator{margin:0 0 0 15px;display:var(--filter_operator-display,none);height:17px}:host #filter_operator:hover{color:var(--active--color,inherit)}@keyframes expand2{from{transform:translateX(10px)}}@keyframes expand3{from{transform:scale(.9)}}:host(:hover) .is_visible{color:var(--active--color,--column-selector--color)}:host #row_close{display:var(--row_close-display,inline);cursor:pointer;min-width:5px;max-width:5px;margin-right:3px;flex-grow:0;margin-left:3px;color:#999;font-family:Arial;font-size:10px}:host .is_visible:before{content:var(--is_visible--before,none)}:host #row_exclamation{color:red}:host #row_close:hover{color:var(--active--color,inherit)}:host .row_draggable select{border:none}:host .row_draggable select:focus{outline:0}:host select::-ms-expand{display:none}:host select{margin-left:15px;padding-right:15px;cursor:pointer;-webkit-appearance:none;-moz-appearance:none;-ms-appearance:none;appearance:none;background:var(--select--background,url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIKCSB2aWV3Qm94PSIwIDAgNC45IDEwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0LjkgMTA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPHN0eWxlIHR5cGU9InRleHQvY3NzIj4KCS5zdDB7ZmlsbDojQUFBQUFBO30KPC9zdHlsZT4KPHRpdGxlPmFycm93czwvdGl0bGU+Cjxwb2x5Z29uIGNsYXNzPSJzdDAiIHBvaW50cz0iMS40LDQuNyAyLjUsMy4yIDMuNSw0LjcgIi8+Cjxwb2x5Z29uIGNsYXNzPSJzdDAiIHBvaW50cz0iMy41LDUuMyAyLjUsNi44IDEuNCw1LjMgIi8+Cjwvc3ZnPg==) no-repeat 95% 50%);background-color:var(--select--background-color,#fff);color:inherit;border-radius:5px;height:24px;padding:var(--column_type--padding,0 0 0 5px);font-size:12px}:host .awesomplete>ul{border-radius:0;margin:0;border:none;transition:none!important;background:var(--plugin--background,#fff)!important}:host .awesomplete>ul:before{content:none}:host .awesomplete>input,:host input{border-color:#ccc;border-width:0 0 1px;box-sizing:border-box;background-color:transparent}:host .row_draggable{animation:var(--row_draggable--animation,expand2 .5s ease-out);cursor:move;border-style:solid;background-color:var(--row_draggable-background-color,none);overflow:var(--row_draggable-overflow,visible);border-color:var(--row_draggable-border-color,none);border-width:var(--row_draggable-border-width,0);padding:var(--row_draggable-padding,0);font-size:12px;flex-grow:1;color:inherit;transition:height .2s;box-sizing:border-box;height:var(--row_draggable-height,21px);min-height:var(--row_draggable-height,21px);display:var(--row_draggable-display,flex);align-items:var(--row-draggable--align-items);flex-direction:var(--row-draggable--flex-direction,column);justify-content:var(--row_draggable--justify-content,center);margin:var(--row_draggable--margin,0);transition:var(--row_draggable--transition,none)}:host .row_draggable *{opacity:var(--row_draggable_children-opacity,1)}:host .row_draggable select{margin:0 0 0 27px}:host ul{transition:background-color .2s,border-color .2s}:host(.null-column) .is_visible{opacity:0!important}:host(.null-column) .row_draggable{background-color:var(--null--background,transparent)!important;border-color:#ccc!important;border-width:0 0 1px!important}:host([drop-target]) .row_draggable{background-color:var(--active--background,#f0f0ff)!important;animation:var(--drop-target--animation,var(--row_draggable--animation,expand3 .5s ease-out));border:none!important}:host .float:before,:host .integer:before{content:var(--float--column-type--content, var(--column-type--content, "123"));color:var(--float--column-type--color,var(--column-type--color,#016bc6))}:host .string:before{content:var(--string--column-type--content, var(--column-type--content, "abc"));color:var(--string--column-type--color,var(--column-type--color,#fe9292))}:host .boolean:before{content:var(--boolean--column-type--content, var(--column-type--content, "t/f"));color:var(--boolean--column-type--color,var(--column-type--color,#999))}:host .date:before{content:var(--date--column-type--content, var(--column-type--content, "mdy"));color:var(--date--column-type--color,var(--column-type--color,#999))}:host .datetime:before{content:var(--datetime--column-type--content, var(--column-type--content, "mdy"));color:var(--datetime--column-type--color,var(--column-type--color,#999))}:host .column_name{overflow:hidden;max-width:var(--column_name-max-width,none);white-space:nowrap;text-overflow:ellipsis}:host span#name:before{font-family:var(--interface-monospace--font-family,monospace);position:relative;display:inline-block;padding:var(--column_type--padding,0 5px);min-width:18px;display:var(--name-before-display,none);width:var(--column_type--width,auto)}:host #column_aggregate{display:var(--column_aggregate-display,none);font-size:10px;font-family:Arial,sans-serif;width:88%;height:20px}:host span#name{flex:var(--column-name--flex,0 1 auto);width:100%;white-space:nowrap;margin:var(--column_name-margin,0)}',""])},function(t,e){t.exports='\x3c!--\n\nCopyright (c) 2017, the Perspective Authors.\n\nThis file is part of the Perspective library, distributed under the terms of\nthe Apache License 2.0.  The full license can be found in the LICENSE file.\n\n--\x3e\n\n<template id="perspective-computed-expression-editor">\n    <div id="psp-expression__body">\n        <div class="psp-expression__container">\n            <span id="psp-expression-close" aria-label="Close Expression Editor">&times;</span>\n            <div class="psp-expression__content psp-expression__content--nomargin">\n                <textarea placeholder="Write an expression" autocomplete="off" id="psp-expression-input"></textarea>\n                <div class="psp-expression__label psp-expression__error" id="psp-expression-error"></div>\n            </div>\n        </div>\n        <div id="psp-expression-actions">\n            <button id="psp-expression-button-remove" class="psp-expression__button" disabled>Remove All</button>\n            <button id="psp-expression-button-save" class="psp-expression__button" disabled>Save</button>\n        </div>\n    </div>\n</template>'},function(t,e,n){(t.exports=n(10)(!1)).push([t.i,":host{display:none;flex-direction:column;max-height:35%;margin-top:34px;margin-bottom:24px;width:100%;flex:0 0 auto!important}:host *{box-sizing:border-box}:host #psp-expression__body,:host .psp-expression__container{display:flex;flex-direction:column}:host #psp-expression__body.row,:host .psp-expression__container.row{align-items:center;flex-direction:row}:host .psp-expression__container:first-of-type{margin-bottom:0}:host .psp-expression__content{align-items:center;display:flex;margin-top:5px}:host .psp-expression__content.psp_expression__content--absolute{position:absolute}:host .psp-expression__content.psp-expression__content--nomargin{margin-top:0;position:relative}:host #psp-expression-actions{display:flex;justify-content:flex-end;margin-left:20px;margin-top:12px}:host span#psp-expression-close{color:#666;padding-left:3px}:host span#psp-expression-close:hover{cursor:pointer}:host textarea#psp-expression-input{background:var(--background-color,none);border-color:var(--inactive-color,#ccc);color:var(--color,#666);font-size:12px;font-family:var(--interface-monospace--font-family,monospace);height:75px;margin-top:5px;padding-left:5px;resize:auto;overflow:auto;width:100%}:host .psp-expression__label{color:var(--color,#a9a9a9);font-size:10px;margin-top:5px;max-width:100%}:host .psp-expression__label.psp-expression__error{background-color:#cb4549;box-sizing:border-box;color:#fff!important;display:none;position:absolute;z-index:10000;max-height:75px;padding:10px;overflow-x:hidden;overflow-y:scroll;top:100%;width:100%;word-break:break-word}:host .psp-expression__button{border-radius:0;border-bottom:1px solid #ccc;border-left:0;border-right:0;border-top:0;font-size:12px;margin-left:6px;padding:2px 5px}:host .psp-expression__button:hover{cursor:pointer}:host .psp-expression__button[disabled]{background:#666!important;color:#a0a0a0!important;cursor:not-allowed;border-bottom-color:#000!important;opacity:.5}:host .psp-expression__button#psp-expression-button-remove{background:#e76056;border-bottom-color:#bf4d45;color:#fff;display:none}:host .psp-expression__button#psp-expression-button-remove:active{background:#bf4d45;border-bottom-color:#9d3f39}:host .psp-expression__button#psp-expression-button-save{background:#0171d2;border-bottom-color:#0160b1;color:#fff;height:22px}:host .psp-expression__button#psp-expression-button-save:active{background:#0160b1;border-bottom-color:#014986}",""])},function(t,e){t.exports='\x3c!--\r\n   \r\n   Copyright (c) 2017, the Perspective Authors.\r\n   \r\n   This file is part of the Perspective library, distributed under the terms of\r\n   the Apache License 2.0.  The full license can be found in the LICENSE file.\r\n\r\n--\x3e\r\n\r\n<template id="perspective-viewer">\r\n\r\n    <div id="app">\r\n        <div id="menubar">\r\n            <div id="copy_button" class="noselect button" title="Copy CSV"></div>\r\n            <div id="download_button" class="noselect button" title="Download CSV"></div>\r\n            <div id="reset_button" class="noselect button" title="Reset Viewer"></div>\r\n        </div>\r\n        <div id=\'side_panel\' class="column fixed noselect">\r\n            <div id="vis_selector_container">\r\n                <select id="vis_selector">\r\n                </select>\r\n            </div>\r\n            <div id="columns_container" style="visibility: hidden">\r\n                <ul id=\'active_columns\'></ul>\r\n                <div id="sub_columns">\r\n                    <ul id=\'inactive_columns\'></ul>\r\n                    <div id="side_panel__actions" style="visibility: hidden">\r\n                        <div id="add-computed-expression" class="side_panel-action"><span class="psp-icon psp-icon__add"></span><span class="psp-title__columnName">New Column</span></div>\r\n                    </div>\r\n                </div>\r\n                <perspective-computed-expression-editor></perspective-computed-expression-editor>\r\n            </div>\r\n            <div id="resize_bar"></div>\r\n        </div>\r\n        <div class="column noselect">\r\n            <div id=\'top_panel\'>\r\n                <div class="rrow">\r\n                    <div id="row_pivots">\r\n                        <div class="psp-text-field">\r\n                            <ul class="psp-text-field__input" for="row-pivots"></ul>\r\n                            <label for="row_pivots"></label>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <span id="transpose_button" class="rrow centered" title="Transpose Pivots">&#x21C4;</span>\r\n                <div class="rrow">\r\n                    <div id="column_pivots">\r\n                        <div class="psp-text-field">\r\n                            <ul class="psp-text-field__input" for="column-pivots"></ul>\r\n                            <label for="column_pivots"></label>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="rrow">\r\n                    <div id="sort">\r\n                        <div class="psp-text-field">\r\n                            <ul class="psp-text-field__input" for="sort"></ul>\r\n                            <label for="sort"></label>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="rrow" style=\'flex-grow:3;height:auto;flex:1 1 400px;max-width:none\'>\r\n                    <div id="filters">\r\n                        <div class="psp-text-field">\r\n                            <ul class="psp-text-field__input" for=\'filters\'></ul>\r\n                            <label for="filters"></label>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div id="pivot_chart_container">\r\n                <div class="plugin_information plugin_information--warning hidden" id="plugin_information--size">\r\n                    <span class="plugin_information__text" id="plugin_information_count">Estimated rendering</span>\r\n                    <span class="plugin_information__actions">\r\n                        <span class="plugin_information__action">Render all points</span>\r\n                        <span class="plugin_information__action--close" id="close_button"></span>\r\n                    </span>\r\n                </div>\r\n                <div id="pivot_chart"></div>\r\n            </div>\r\n        </div>\r\n\r\n        <div id="config_button" class="noselect button" title="Right click for additional options"></div>\r\n\r\n        <div id=\'drop_target\'>\r\n            <div id=\'drop_target_inner\'>\r\n\r\n            </div>\r\n        </div>\r\n\r\n        <slot></slot>\r\n    </div>\r\n\r\n</template>'},function(t,e,n){(t.exports=n(10)(!1)).push([t.i,':host #app #top_panel #row_pivots label:before{content:var(--row_pivots--before, "Row Pivots")}:host #app #top_panel #column_pivots label:before{content:var(--column_pivots--before, "Column Pivots")}:host #app #top_panel #sort label:before{content:"Sort"}:host #app #top_panel #filters label:before{content:"Filter"}:host #app #side_panel #active_columns perspective-row:before{font-size:10px;margin-left:var(--column_selector--width,20px);left:1px;padding:var(--column_type--padding,0 0 0 5px);color:var(--inactive--color,#666);position:absolute;margin-top:-15px}:host:hover #config_button{opacity:1}#config_button{background:0 0;opacity:1!important}.button{padding:var(--button--padding,12px 14px 24px 8px)}[settings=true] #config_button{opacity:1!important}@keyframes expand{from{opacity:0}}:host{position:relative;display:inline-block;overflow:hidden;word-wrap:normal;--highcharts-full--gradient:linear-gradient(#4d342f 0%, #e4521b 22.5%, #feeb65 42.5%, #f0f0f0 50%, #dcedc8 57.5%, #42b3d5 67.5%, #1a237e 100%);--highcharts-positive--gradient:linear-gradient(#dcedc8 0%, #42b3d5 35%, #1a237e 100%);--highcharts-negative--gradient:linear-gradient(#feeb65 100%, #e4521b 70%, #4d342f 0%);--hypergrid-tree-header--background:#fff;--hypergrid-tree-header--color:#666;--hypergrid-header--background:#fff;--hypergrid-separator--color:#666;--hypergrid-header--color:#666;--hypergrid-positive--color:#1078d1;--hypergrid-negative--color:#ff8888;--hypergrid--font-size:12px;--hypergrid-header--font-size:12px;--hypergrid--font-family:Helvetica,Arial,sans-serif;--hypergrid-header--font-family:Helvetica,Arial,sans-serif;--hypergrid-row-hover--background:#f6f6f6;--hypergrid-row-hover--color:#666;--hypergrid-cell-hover--background:#eeeeee;--hypergrid-cell-hover--color:#666;--integer--hypergrid--text-align:right;--float--hypergrid--text-align:right;--d3fc-series:rgba(31, 119, 180, 0.5);--d3fc-series-1:#0366d6;--d3fc-series-2:#ff7f0e;--d3fc-series-3:#2ca02c;--d3fc-series-4:#d62728;--d3fc-series-5:#9467bd;--d3fc-series-6:#8c564b;--d3fc-series-7:#e377c2;--d3fc-series-8:#7f7f7f;--d3fc-series-9:#bcbd22;--d3fc-series-10:#17becf;--d3fc-full--gradient:linear-gradient(#4d342f 0%, #e4521b 22.5%, #feeb65 42.5%, #f0f0f0 50%, #dcedc8 57.5%, #42b3d5 67.5%, #1a237e 100%);--d3fc-positive--gradient:linear-gradient(#dcedc8 0%, #42b3d5 35%, #1a237e 100%);--d3fc-negative--gradient:linear-gradient(#feeb65 100%, #e4521b 70%, #4d342f 0%)}:host #pivot_chart{position:absolute;width:100%;height:100%;display:grid;justify-content:stretch}:host .hidden{display:none}:host .psp-icon{color:#999}:host .psp-icon:hover{cursor:pointer}:host .psp-icon__add{display:flex;width:20px;min-width:20px;margin-top:-2px;height:0;font-family:var(--column-add--font-family,inherit)}:host .psp-icon__add:before{font-feature-settings:"liga";content:var(--column-add--before, "+")}:host .psp-title__columnName{display:flex;margin-left:34px;margin-top:3px;font-size:12px;color:#666}:host .side_panel-action:hover{cursor:pointer}:host *{box-sizing:border-box;line-height:1.42857143}:host #app{display:flex;position:relative;width:100%;height:100%}:host #app.hide_message #drop_target{display:none}:host .chart{padding:15px}:host #pivot_chart_container{flex-grow:1;position:relative;border:var(--plugin--border,none);overflow:hidden}:host .config{display:flex}:host #column_pivots #psp_row,:host #filters #psp_row,:host #row_pivots #psp_row,:host #sort #psp_row{display:inline}:host ul{min-height:20px;padding:0;margin:0;font-size:12px}:host #active_columns perspective-row{animation:.3s ease-out expand;--column-selector--color:var(--active--color, #999);--is_visible--before:var(--active-column-selector--content, "\\25CF")}:host #inactive_columns perspective-row{animation:.3s ease-out expand;--column-selector--color:var(--inactive-column-selector--color, #999);--is_visible--before:var(--inactive-column-selector--content, "\\25CB");--row_draggable--animation:none;opacity:var(--inactive-column--opacity,1);transition:opacity .3s}:host #inactive_columns perspective-row:hover{transition:none;opacity:1}:host #top_panel perspective-row{animation:.3s ease-out expand;--column-name--flex:1;padding:0 10px 0 0;margin-bottom:-1px;display:var(--top-panel-row--display,inline-block);--psp_row-display:inline-block}:host #active_columns,:host #inactive_columns{list-style:none;padding:0;width:100%;margin:var(--column-container--margin,8px 0 0 0);overflow-y:auto;overflow-x:hidden;position:relative}:host #inactive_columns perspective-row.active{--row_draggable--margin:0px 0px 0px 10px;opacity:0;height:0!important;overflow:hidden}:host .columns_horizontal #sub_columns.collapse #side_panel__actions{margin-top:0}:host #sub_columns{min-height:33.3%;flex-shrink:100000;display:flex;flex-direction:column;overflow-x:hidden;width:100%}:host #sub_columns.collapse{flex-shrink:0;min-height:64px}:host #sub_columns.collapse #inactive_columns{display:none}:host .column{display:flex;list-style:none;flex-direction:column;flex:1}:host .rrow{display:flex;flex-grow:1;min-height:24px;align-items:center;max-width:400px;list-style:none;min-width:140px;margin:var(--column-drop-container--margin,5px 10px 0 0)}:host .rrow>div{display:flex;min-height:24px;flex-direction:column;justify-content:flex-end}:host #top_panel>.rrow>*{width:100%;padding:12px 0;margin:-12px 0}:host .rrow #psp_row{white-space:nowrap}:host #sort perspective-row{--sort_order-display:inline;--sort_order-padding:0 0 0 4px}:host #sort perspective-row[sort-order=asc]{--row-sort-order--before:var(--sort-order-asc--before, "\\2191")}:host #sort perspective-row[sort-order=desc]{--row-sort-order--before:var(--sort-order-desc--before, "\\2193")}:host #sort perspective-row[sort-order=none]{--row-sort-order--before:var(--sort-order-none--before, "-")}:host #sort perspective-row[sort-order="asc abs"]{--row-sort-order--before:var(--sort-order-asc-abs--before, "\\21E7")}:host #sort perspective-row[sort-order="desc abs"]{--row-sort-order--before:var(--sort-order-desc-abs--before, "\\21E9")}:host #sort perspective-row[sort-order="col asc"]{--row-sort-order--before:var(--sort-order-col-asc--before, "\\2192")}:host #sort perspective-row[sort-order="col desc"]{--row-sort-order--before:var(--sort-order-col-desc--before, "\\2190")}:host #sort perspective-row[sort-order="col asc abs"]{--row-sort-order--before:var(--sort-order-col-asc-abs--before, "\\21E8")}:host #sort perspective-row[sort-order="col desc abs"]{--row-sort-order--before:var(--sort-order-col-desc-abs--before, "\\21E6")}:host #top_panel perspective-row::after{content:","}:host #top_panel perspective-row:last-child::after{display:none;content:""!important}:host label{white-space:nowrap;display:inline-block;vertical-align:middle;margin-bottom:0}:host #drop_target{position:absolute;left:0;top:0;right:0;bottom:0;padding:30px}:host #drop_target_inner{width:100%;height:100%;display:flex;align-items:center;justify-content:center}:host #drop_target_inner h3{font-weight:300}:host #config_button{position:absolute;top:0;left:0;opacity:0;display:flex;align-items:center;justify-content:center;transition:opacity .2s ease-out}:host #config_button:hover{color:var(--active--color,inherit)}:host .button{cursor:pointer;font-size:16px;font-weight:400}:host select::-ms-expand{display:none}:host select{-webkit-appearance:none;-moz-appearance:none;-ms-appearance:none;appearance:none;background:var(--select--background,url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIKCSB2aWV3Qm94PSIwIDAgNC45IDEwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0LjkgMTA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPHN0eWxlIHR5cGU9InRleHQvY3NzIj4KCS5zdDB7ZmlsbDojQUFBQUFBO30KPC9zdHlsZT4KPHRpdGxlPmFycm93czwvdGl0bGU+Cjxwb2x5Z29uIGNsYXNzPSJzdDAiIHBvaW50cz0iMS40LDQuNyAyLjUsMy4yIDMuNSw0LjcgIi8+Cjxwb2x5Z29uIGNsYXNzPSJzdDAiIHBvaW50cz0iMy41LDUuMyAyLjUsNi44IDEuNCw1LjMgIi8+Cjwvc3ZnPg==) no-repeat 95% 50%);background-color:#fff;color:inherit;border-radius:5px;height:24px;padding:var(--select--padding,0 0 0 6px);font-size:12px;font-family:inherit}:host input{padding:0 10px}:host .centered{display:flex;align-items:center;justify-content:center}:host #top_panel{display:flex;flex-wrap:wrap;justify-content:flex-start;padding:var(--top_panel--padding,5px 0 10px 0);max-width:1000px;z-index:1}:host #side_panel{position:relative;flex:0 0 auto;padding:var(--side_panel--padding,10px 10px 0 11px)}:host #side_panel>div{display:flex}:host #vis_selector_container{min-height:29px;margin-left:var(--column_selector--width,20px);overflow:hidden}:host #vis_selector{flex-grow:1}:host #transpose_button{cursor:pointer;min-width:5px;max-width:5px;flex-grow:0;color:#999;font-family:Arial;font-size:12px}:host #transpose_button:hover{color:var(--active--color,inherit)}:host #resize_bar{position:absolute;top:0;right:0;bottom:0;width:8px;cursor:col-resize}',""])},function(t,e,n){(t.exports=n(10)(!1)).push([t.i,'.psp-text-field{position:relative;background-color:var(--column-drop-container--background,#fff);border-width:0 0 1px;border-style:solid;border-color:var(--inactive--color,#ccc);display:flex;flex-direction:column;justify-content:flex-end;min-height:24px;transition:border-color .3s ease-out}:host(.dragging) .psp-text-field.dropping{border-bottom-width:2px;border-style:solid;border-color:var(--active--color,#1a7da1)}:host(.dragging) .psp-text-field{border-bottom-width:1px;border-style:solid;border-color:var(--active--color,#1a7da1)}.psp-text-field>.psp-text-field__input{border:0;line-height:20px;vertical-align:bottom;padding-bottom:0;display:none}.psp-text-field__input+label{height:var(--column--height,auto);line-height:17px;box-sizing:border-box;color:var(--inactive--color,#ccc);font-weight:400;white-space:nowrap;padding:var(--column-drop-container--padding,0 0 2px 10px);font-size:12px;display:inline-block;transition:font-size .3s,margin .3s}.dropping .psp-text-field__input,.psp-text-field__input:not(:empty){display:block!important}.dropping .psp-text-field__input::after{content:"|";width:0;overflow:visible;margin-top:-1px;position:absolute}.dropping *{pointer-events:none}.dropping .psp-text-field label,.psp-text-field__input:not(:empty)+label{position:absolute;top:0;margin:var(--column-drop-label--margin,0);font-size:var(--column-drop-label--font-size,12px);display:var(--column-drop-label--display,none)}.dropping perspective-row.inserting{border-top:25px solid transparent}.dropping perspective-row.postserting{border-bottom:25px solid transparent}:host perspective-row{height:var(--column--height,21px);--row_draggable-height:var(--column--height, 21px)}:host([row-pivots]) #active_columns perspective-row{height:var(--active-column--height,41px);min-height:var(--active-column--height,41px);--row_draggable-height:var(--active-column--height, 41px);--column_aggregate-display:inline-block;--is_visible--height:var(--active-column-selector--height, auto)}:host{font-family:Arial,sans-serif;background-color:#eee;color:#333}:host #app.columns_horizontal #columns_container{flex-direction:row-reverse}:host #app.columns_horizontal #active_columns,:host #app.columns_horizontal #inactive_columns{display:flex;flex-direction:column;flex:0 1 auto;width:100%}:host #app.columns_horizontal #inactive_columns{flex:1 1 auto}:host #app.columns_horizontal #sub_columns{flex-shrink:1}:host #app.columns_horizontal #sub_columns perspective-row{--column_name-margin:0 25px 0 0}:host #app.columns_horizontal #side_panel #divider{display:none}:host #app.columns_horizontal perspective-computed-expression-editor{max-height:none;margin-right:24px;width:auto}:host #side_panel perspective-row{--name-before-display:inline-block;--is_visible-display:inline-block;--row_draggable-padding:0px 10px 0px 0px;--row_close-display:none;--column_name-max-width:180px}:host #top_panel perspective-row{--row_draggable-display:inline-flex;--row-draggable--flex-direction:row;--row-draggable--align-items:center}:host #columns_container{flex-direction:column;height:calc(100% - 29px)}:host #columns_container #active_columns{flex:0 1 auto}:host #columns_container #active_columns perspective-row{margin-bottom:2px;--row_draggable-background-color:var(--column--background, white);--row_draggable-border-color:var(--inactive--color, #ccc);--row_draggable-border-width:0 0 1px 0;--row_draggable-overflow:hidden;--row_draggable--justify-content:space-evenly}:host #columns_container #active_columns perspective-row:last-child{--row_draggable-border-width:var(--row_draggable-border-last-child-width, 0 0 1px 0)}:host #columns_container #active_columns perspective-row[drop-target]{--row_draggable_children-opacity:0}:host #columns_container #active_columns perspective-row.null-column{--row_draggable_children-opacity:0;pointer-events:none}:host #columns_container #active_columns.one_lock perspective-row:first-child,:host #columns_container #active_columns.two_lock perspective-row:first-child{--active--color:#ccc;--is_visible--cursor:normal}:host #columns_container #active_columns.two_lock perspective-row:nth-child(2){--active--color:#ccc;--is_visible--cursor:normal}:host #columns_container #active_columns perspective-row:only-child{--active--color:#ccc;--is_visible--cursor:normal}:host #columns_container #active_columns,:host #columns_container #inactive_columns{border:none!important}:host ul{transition:background-color .2s,border-color .2s;outline:0;border-style:solid;border-color:var(--inactive--color,#ccc);font-size:12px;padding:var(--column-drop-container--padding,0 10px 0 10px);border-width:0 0 1px}:host #side_panel #side_panel__actions{display:flex;flex-direction:column;flex-shrink:1000;justify-content:flex-start;position:relative;overflow-y:hidden;width:100%;padding-top:20px;margin:var(--column-container--margin,8px);min-height:36px}:host #side_panel #side_panel__actions button.side_panel-action{align-items:center;align-content:center;background:0 0;border:none;display:flex;flex-direction:row;font-size:12px;padding-right:10px;-webkit-appearance:none;-moz-appearance:none;appearance:none}:host #side_panel #side_panel__actions button.side_panel-action span{margin-left:5px;font-size:15px}:host #side_panel #side_panel__actions button.side_panel-action:hover{cursor:pointer}:host .noselect{-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}:host svg .highcharts-legend-box{fill:none}:host #pivot_chart{background-color:var(--plugin--background,#fff)}:host #drop_target{border:var(--plugin--border,none);background:var(--plugin--background,#fff)}:host #pivot_chart_container{box-shadow:var(--plugin--box-shadow,none)}:host #filters perspective-row{margin:0;--filter_operator-display:inline-block;--filter_operand-display:inline-block}:host .plugin_information{color:var(--warning--color,inherit);display:flex;position:absolute;flex-direction:row;justify-content:flex-start;padding:.5rem;width:100%;z-index:10000;transition:opacity .3s ease-out;opacity:1}:host .plugin_information.hidden{display:none;opacity:0}:host .plugin_information.plugin_information--warning{background:#ffca28}:host .plugin_information .plugin_information__text{font-size:12px;margin-right:.25rem;display:flex;flex-wrap:wrap;align-items:center}:host .plugin_information .plugin_information__text:before{content:var(--overflow_hint--before);font-family:var(--overflow_hint--font-family);color:var(--overflow_hint--color);padding:var(--overflow_hint--padding);font-size:16px}:host .plugin_information .plugin_information__action{font-size:12px;text-decoration:underline;cursor:pointer;margin-right:.25rem}:host .plugin_information .plugin_information__action--close{margin-left:12px;display:inline-flex;font-size:12px;cursor:pointer}:host .plugin_information .plugin_information__actions{margin-left:auto;display:flex;align-items:center;flex-direction:row;justify-content:flex-start}:host .plugin_information .plugin_information--overflow-hint-percent{font-weight:700}:host .plugin_information .plugin_information--overflow-hint{white-space:nowrap}:host #drop_target_inner h3{color:#aaa;font-weight:300}:host #config_button,:host #copy_button,:host #download_button,:host #reset_button{font-weight:400;font-family:var(--button--font-family,Arial);color:var(--inactive--color,#999);font-size:var(--button--font-size,16px);transition:opacity .3s;overflow:hidden}:host #config_button:hover,:host #copy_button:hover,:host #download_button:hover,:host #reset_button:hover{color:var(--active--color,inherit)}:host #config_button:before{font-feature-settings:"liga";content:var(--settings-button--content, "\\1F527")}:host #reset_button:before{font-feature-settings:"liga";content:var(--reset_button--before, "Reset")}:host #close_button:before{font-family:var(--button--font-family,Arial);font-feature-settings:"liga";content:var(--close_button--before, "Close")}:host #download_button:before{font-feature-settings:"liga";content:var(--download_button--before, "Save")}:host #copy_button:before{font-feature-settings:"liga";content:var(--copy_button--before, "Copy")}:host #menubar{display:none;flex-direction:column;padding-top:55px}:host #app.show_menu #menubar{display:flex}:host select{border-radius:0;background-color:var(--select--background-color,#fff);border-style:solid;border-color:var(--inactive--color,#ccc);border-width:0 0 1px}:host select:focus{outline:0}:host input{border-style:solid;border-color:var(--inactive--color,#ccc);border-width:0 0 1px}:host input::placeholder{color:var(--inactive--color,#ccc)}:host option[value=""]{color:#fff!important}:host #app{background-color:inherit}:host ::-webkit-scrollbar,:host ::shadow ::-webkit-scrollbar{width:12px}:host ::-webkit-scrollbar-thumb,:host ::shadow ::-webkit-scrollbar-thumb{background:#ccc}:host ::-webkit-scrollbar-track,:host ::shadow ::-webkit-scrollbar-track{background:0 0}',""])},function(t,e){t.exports=g},function(t,e){t.exports=y},function(t,e){t.exports=b},function(t,e){t.exports=w},function(t,e){t.exports=E},function(t,e){t.exports=O},function(t,e,n){n(3),n(9),n(4);const r="dnd-poly-dragstart-pending",o="dnd-poly-dragstart-cancel",i=["none","copy","copyLink","copyMove","link","linkMove","move","all"],s=["none","copy","move","link"],a=function(){let t=!1;try{const e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("test",null,e)}catch(t){}return t}();function c(t){return t&&t.tagName}function u(t,e,n){void 0===n&&(n=!0),document.addEventListener(t,e,!!a&&{passive:n})}function l(t,e){document.removeEventListener(t,e)}function h(t,e,n,r){void 0===r&&(r=!1);const o=a?{passive:!0,capture:r}:r;return t.addEventListener(e,n,o),{off:function(){t.removeEventListener(e,n,o)}}}function p(t){return 0===t.length?0:t.reduce((function(t,e){return e+t}),0)/t.length}function d(t,e){for(let n=0;n<t.changedTouches.length;n++)if(t.changedTouches[n].identifier===e)return!0;return!1}function f(t,e,n){const r=[],o=[];for(let n=0;n<e.touches.length;n++){const i=e.touches[n];r.push(i[t+"X"]),o.push(i[t+"Y"])}n.x=p(r),n.y=p(o)}const _=["","-webkit-"];function m(t,e,n,r,o){void 0===o&&(o=!0);let i=e.x,s=e.y;r&&(i+=r.x,s+=r.y),o&&(i-=parseInt(t.offsetWidth,10)/2,s-=parseInt(t.offsetHeight,10)/2);const a="translate3d("+i+"px,"+s+"px, 0)";for(let e=0;e<_.length;e++){const r=_[e]+"transform";t.style[r]=a+" "+n[e]}}const v=function(){function t(t,e){this._dataStore=t,this._setDragImageHandler=e,this._dropEffect=s[0]}return Object.defineProperty(t.prototype,"dropEffect",{get:function(){return this._dropEffect},set:function(t){0!==this._dataStore.mode&&i.indexOf(t)>-1&&(this._dropEffect=t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"types",{get:function(){if(0!==this._dataStore.mode)return Object.freeze(this._dataStore.types)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"effectAllowed",{get:function(){return this._dataStore.effectAllowed},set:function(t){2===this._dataStore.mode&&i.indexOf(t)>-1&&(this._dataStore.effectAllowed=t)},enumerable:!0,configurable:!0}),t.prototype.setData=function(t,e){if(2===this._dataStore.mode){if(t.indexOf(" ")>-1)throw new Error("illegal arg: type contains space");this._dataStore.data[t]=e,-1===this._dataStore.types.indexOf(t)&&this._dataStore.types.push(t)}},t.prototype.getData=function(t){if(1===this._dataStore.mode||2===this._dataStore.mode)return this._dataStore.data[t]||""},t.prototype.clearData=function(t){if(2===this._dataStore.mode){if(t&&this._dataStore.data[t]){delete this._dataStore.data[t];const e=this._dataStore.types.indexOf(t);return void(e>-1&&this._dataStore.types.splice(e,1))}this._dataStore.data={},this._dataStore.types=[]}},t.prototype.setDragImage=function(t,e,n){2===this._dataStore.mode&&this._setDragImageHandler(t,e,n)},t}();function g(t,e){return t?t===i[0]?s[0]:0===t.indexOf(i[1])||t===i[7]?s[1]:0===t.indexOf(i[4])?s[3]:t===i[6]?s[2]:s[1]:3===e.nodeType&&"A"===e.tagName?s[3]:s[1]}function y(t,e,n,r,o,i,s){void 0===i&&(i=!0),void 0===s&&(s=null),console.log("dnd-poly: dispatching "+t);const a=function(t,e,n,r,o,i,s){void 0===s&&(s=null);const a=e.changedTouches[0],c=new Event(n,{bubbles:!0,cancelable:r});c.dataTransfer=i,c.relatedTarget=s,c.screenX=a.screenX,c.screenY=a.screenY,c.clientX=a.clientX,c.clientY=a.clientY,c.pageX=a.pageX,c.pageY=a.pageY;const u=t.getBoundingClientRect();return c.offsetX=c.clientX-u.left,c.offsetY=c.clientY-u.top,c}(e,n,t,i,document.defaultView,o,s),c=!e.dispatchEvent(a);return r.mode=0,c}function b(t,e){if(!t||t===i[7])return e;if(e===s[1]){if(0===t.indexOf(s[1]))return s[1]}else if(e===s[3]){if(0===t.indexOf(s[3])||t.indexOf("Link")>-1)return s[3]}else if(e===s[2]&&(0===t.indexOf(s[2])||t.indexOf("Move")>-1))return s[2];return s[0]}const w=function(){function t(t,e,n,r){this._initialEvent=t,this._config=e,this._sourceNode=n,this._dragOperationEndedCb=r,this._dragOperationState=0,this._immediateUserSelection=null,this._currentDropTarget=null,console.log("dnd-poly: setting up potential drag operation.."),this._lastTouchEvent=t,this._initialTouch=t.changedTouches[0],this._touchMoveHandler=this._onTouchMove.bind(this),this._touchEndOrCancelHandler=this._onTouchEndOrCancel.bind(this),u("touchmove",this._touchMoveHandler,!1),u("touchend",this._touchEndOrCancelHandler,!1),u("touchcancel",this._touchEndOrCancelHandler,!1)}return t.prototype._setup=function(){const t=this;console.log("dnd-poly: starting drag and drop operation"),this._dragOperationState=1,this._currentDragOperation=s[0],this._dragDataStore={data:{},effectAllowed:void 0,mode:3,types:[]},this._currentHotspotCoordinates={x:null,y:null},this._dragImagePageCoordinates={x:null,y:null};let e=this._sourceNode;if(this._dataTransfer=new v(this._dragDataStore,(function(n,r,o){e=n,"number"!=typeof r&&"number"!=typeof o||(t._dragImageOffset={x:r||0,y:o||0})})),this._dragDataStore.mode=2,this._dataTransfer.dropEffect=s[0],y("dragstart",this._sourceNode,this._lastTouchEvent,this._dragDataStore,this._dataTransfer))return console.log("dnd-poly: dragstart cancelled"),this._dragOperationState=3,this._cleanup(),!1;f("page",this._lastTouchEvent,this._dragImagePageCoordinates);const n=this._config.dragImageSetup(e);var r;if(this._dragImageTransforms=(r=n,_.map((function(t){const e=r.style[t+"transform"];return e&&"none"!==e?e.replace(/translate\(\D*\d+[^,]*,\D*\d+[^,]*\)\s*/g,""):""}))),n.style.position="absolute",n.style.left="0px",n.style.top="0px",n.style.zIndex="999999",n.classList.add("dnd-poly-drag-image"),n.classList.add("dnd-poly-icon"),this._dragImage=n,!this._dragImageOffset)if(this._config.dragImageOffset)this._dragImageOffset={x:this._config.dragImageOffset.x,y:this._config.dragImageOffset.y};else if(this._config.dragImageCenterOnTouch){const t=getComputedStyle(e);this._dragImageOffset={x:0-parseInt(t.marginLeft,10),y:0-parseInt(t.marginTop,10)}}else{const t=e.getBoundingClientRect(),n=getComputedStyle(e);this._dragImageOffset={x:t.left-this._initialTouch.clientX-parseInt(n.marginLeft,10)+t.width/2,y:t.top-this._initialTouch.clientY-parseInt(n.marginTop,10)+t.height/2}}return m(this._dragImage,this._dragImagePageCoordinates,this._dragImageTransforms,this._dragImageOffset,this._config.dragImageCenterOnTouch),document.body.appendChild(this._dragImage),this._iterationIntervalId=window.setInterval((function(){t._iterationLock?console.log("dnd-poly: iteration skipped because previous iteration hast not yet finished."):(t._iterationLock=!0,t._dragAndDropProcessModelIteration(),t._iterationLock=!1)}),this._config.iterationInterval),!0},t.prototype._cleanup=function(){console.log("dnd-poly: cleanup"),this._iterationIntervalId&&(clearInterval(this._iterationIntervalId),this._iterationIntervalId=null),l("touchmove",this._touchMoveHandler),l("touchend",this._touchEndOrCancelHandler),l("touchcancel",this._touchEndOrCancelHandler),this._dragImage&&(this._dragImage.parentNode.removeChild(this._dragImage),this._dragImage=null),this._dragOperationEndedCb(this._config,this._lastTouchEvent,this._dragOperationState)},t.prototype._onTouchMove=function(t){const e=this;if(!1!==d(t,this._initialTouch.identifier)){if(this._lastTouchEvent=t,0===this._dragOperationState){let e=void 0;if(this._config.dragStartConditionOverride)try{e=this._config.dragStartConditionOverride(t)}catch(t){console.error("dnd-poly: error in dragStartConditionOverride hook: "+t),e=!1}else e=1===t.touches.length;return e?void(!0===this._setup()&&(this._initialEvent.preventDefault(),t.preventDefault())):void this._cleanup()}if(console.log("dnd-poly: moving draggable.."),t.preventDefault(),f("client",t,this._currentHotspotCoordinates),f("page",t,this._dragImagePageCoordinates),this._config.dragImageTranslateOverride)try{let n=!1;if(this._config.dragImageTranslateOverride(t,{x:this._currentHotspotCoordinates.x,y:this._currentHotspotCoordinates.y},this._immediateUserSelection,(function(t,r){e._dragImage&&(n=!0,e._currentHotspotCoordinates.x+=t,e._currentHotspotCoordinates.y+=r,e._dragImagePageCoordinates.x+=t,e._dragImagePageCoordinates.y+=r,m(e._dragImage,e._dragImagePageCoordinates,e._dragImageTransforms,e._dragImageOffset,e._config.dragImageCenterOnTouch))})),n)return}catch(t){console.log("dnd-poly: error in dragImageTranslateOverride hook: "+t)}m(this._dragImage,this._dragImagePageCoordinates,this._dragImageTransforms,this._dragImageOffset,this._config.dragImageCenterOnTouch)}},t.prototype._onTouchEndOrCancel=function(t){if(!1!==d(t,this._initialTouch.identifier)){if(this._config.dragImageTranslateOverride)try{this._config.dragImageTranslateOverride(void 0,void 0,void 0,(function(){}))}catch(t){console.log("dnd-poly: error in dragImageTranslateOverride hook: "+t)}0!==this._dragOperationState?(t.preventDefault(),this._dragOperationState="touchcancel"===t.type?3:2):this._cleanup()}},t.prototype._dragAndDropProcessModelIteration=function(){const t=this,e=this._currentDragOperation;this._dragDataStore.mode=3,this._dataTransfer.dropEffect=s[0];const n=y("drag",this._sourceNode,this._lastTouchEvent,this._dragDataStore,this._dataTransfer);if(n&&(console.log("dnd-poly: drag event cancelled."),this._currentDragOperation=s[0]),n||2===this._dragOperationState||3===this._dragOperationState)return this._dragOperationEnded(this._dragOperationState)?void function(t,e,n,r){const o=getComputedStyle(t);if("hidden"===o.visibility||"none"===o.display)return console.log("dnd-poly: source node is not visible. skipping snapback transition."),void r();e.classList.add("dnd-poly-snapback");const i=getComputedStyle(e),s=parseFloat(i.transitionDuration);if(isNaN(s)||0===s)return console.log("dnd-poly: no transition used - skipping snapback"),void r();console.log("dnd-poly: starting dragimage snap back");const a=t.getBoundingClientRect(),c={x:a.left,y:a.top};c.x+=document.body.scrollLeft||document.documentElement.scrollLeft,c.y+=document.body.scrollTop||document.documentElement.scrollTop,c.x-=parseInt(o.marginLeft,10),c.y-=parseInt(o.marginTop,10);const u=parseFloat(i.transitionDelay),l=Math.round(1e3*(s+u));m(e,c,n,void 0,!1),setTimeout(r,l)}(this._sourceNode,this._dragImage,this._dragImageTransforms,(function(){t._finishDragOperation()})):void this._finishDragOperation();const r=this._config.elementFromPoint(this._currentHotspotCoordinates.x,this._currentHotspotCoordinates.y);console.log("dnd-poly: new immediate user selection is: "+r);const o=this._currentDropTarget;r!==this._immediateUserSelection&&r!==this._currentDropTarget&&(this._immediateUserSelection=r,null!==this._currentDropTarget&&(this._dragDataStore.mode=3,this._dataTransfer.dropEffect=s[0],y("dragexit",this._currentDropTarget,this._lastTouchEvent,this._dragDataStore,this._dataTransfer,!1)),null===this._immediateUserSelection?(this._currentDropTarget=this._immediateUserSelection,console.log("dnd-poly: current drop target changed to null")):(this._dragDataStore.mode=3,this._dataTransfer.dropEffect=g(this._dragDataStore.effectAllowed,this._sourceNode),y("dragenter",this._immediateUserSelection,this._lastTouchEvent,this._dragDataStore,this._dataTransfer)?(console.log("dnd-poly: dragenter default prevented"),this._currentDropTarget=this._immediateUserSelection,this._currentDragOperation=b(this._dataTransfer.effectAllowed,this._dataTransfer.dropEffect)):this._immediateUserSelection!==document.body&&(this._currentDropTarget=document.body))),o!==this._currentDropTarget&&c(o)&&(console.log("dnd-poly: current drop target changed."),this._dragDataStore.mode=3,this._dataTransfer.dropEffect=s[0],y("dragleave",o,this._lastTouchEvent,this._dragDataStore,this._dataTransfer,!1,this._currentDropTarget)),c(this._currentDropTarget)&&(this._dragDataStore.mode=3,this._dataTransfer.dropEffect=g(this._dragDataStore.effectAllowed,this._sourceNode),!1===y("dragover",this._currentDropTarget,this._lastTouchEvent,this._dragDataStore,this._dataTransfer)?(console.log("dnd-poly: dragover not prevented on possible drop-target."),this._currentDragOperation=s[0]):(console.log("dnd-poly: dragover prevented."),this._currentDragOperation=b(this._dataTransfer.effectAllowed,this._dataTransfer.dropEffect))),console.log("dnd-poly: d'n'd iteration ended. current drag operation: "+this._currentDragOperation),e!==this._currentDragOperation&&this._dragImage.classList.remove("dnd-poly-"+e);const i="dnd-poly-"+this._currentDragOperation;this._dragImage.classList.add(i)},t.prototype._dragOperationEnded=function(t){console.log("dnd-poly: drag operation end detected with "+this._currentDragOperation);const e=this._currentDragOperation===s[0]||null===this._currentDropTarget||3===t;return e?c(this._currentDropTarget)&&(this._dragDataStore.mode=3,this._dataTransfer.dropEffect=s[0],y("dragleave",this._currentDropTarget,this._lastTouchEvent,this._dragDataStore,this._dataTransfer,!1)):c(this._currentDropTarget)&&(this._dragDataStore.mode=1,this._dataTransfer.dropEffect=this._currentDragOperation,!0===y("drop",this._currentDropTarget,this._lastTouchEvent,this._dragDataStore,this._dataTransfer)?this._currentDragOperation=this._dataTransfer.dropEffect:this._currentDragOperation=s[0]),e},t.prototype._finishDragOperation=function(){console.log("dnd-poly: dragimage snap back transition ended"),this._dragDataStore.mode=3,this._dataTransfer.dropEffect=this._currentDragOperation,y("dragend",this._sourceNode,this._lastTouchEvent,this._dragDataStore,this._dataTransfer,!1),this._dragOperationState=2,this._cleanup()},t}(),E={iterationInterval:150,tryFindDraggableTarget:function(t){let e=t.target;do{if(!1!==e.draggable){if(!0===e.draggable)return e;if(e.getAttribute&&"true"===e.getAttribute("draggable"))return e}}while((e=e.parentNode)&&e!==document.body)},dragImageSetup:function(t){const e=t.cloneNode(!0);return function t(e,n){if(1===e.nodeType){const t=getComputedStyle(e);for(let e=0;e<t.length;e++){const r=t[e];n.style.setProperty(r,t.getPropertyValue(r),t.getPropertyPriority(r))}if(n.style.pointerEvents="none",n.removeAttribute("id"),n.removeAttribute("class"),n.removeAttribute("draggable"),"CANVAS"===n.nodeName){const t=e,r=n,o=t.getContext("2d").getImageData(0,0,t.width,t.height);r.getContext("2d").putImageData(o,0,0)}}if(e.hasChildNodes())for(let r=0;r<e.childNodes.length;r++)t(e.childNodes[r],n.childNodes[r])}(t,e),e},elementFromPoint:function(t,e){return document.elementFromPoint(t,e)}};let O;function x(t,e){if(console.log("dnd-poly: global touchstart"),O)return void console.log("dnd-poly: drag operation already active");const n=E.tryFindDraggableTarget(t,e);if(n)try{O=new w(t,E,n,A)}catch(e){throw A(E,t,3),e}else console.log("dnd-poly: no draggable at touchstart coordinates")}function T(t){console.log("dnd-poly: setup delayed dragstart..");const e=t.target,n=t.composedPath(),i=function(t){console.log("dnd-poly: aborting delayed drag because of "+t.type),a.off(),c.off(),u.off(),l.off(),e&&e.dispatchEvent(new CustomEvent(o,{bubbles:!0,cancelable:!0})),clearTimeout(s)};e&&e.dispatchEvent(new CustomEvent(r,{bubbles:!0,cancelable:!0}));const s=window.setTimeout((function(){console.log("dnd-poly: starting delayed drag.."),a.off(),c.off(),u.off(),l.off(),x(t,n)}),E.holdToDrag),a=h(e,"touchend",i),c=h(e,"touchcancel",i),u=h(e,"touchmove",i),l=h(window,"scroll",i,!0)}function A(t,e,n){if(0===n&&(console.log("dnd-poly: Drag never started. Last event was "+e.type),t.defaultActionOverride))try{t.defaultActionOverride(e),e.defaultPrevented&&console.log("dnd-poly: defaultActionOverride has taken care of triggering the default action. preventing default on original event")}catch(t){console.log("dnd-poly: error in defaultActionOverride: "+t)}O=null}!function(t){if(t&&Object.keys(t).forEach((function(e){E[e]=t[e]})),!E.forceApply){const t=function(){const t={dragEvents:"ondragstart"in document.documentElement,draggable:"draggable"in document.documentElement,userAgentSupportingNativeDnD:void 0},e=!!window.chrome||/chrome/i.test(navigator.userAgent);return t.userAgentSupportingNativeDnD=!(/iPad|iPhone|iPod|Android/.test(navigator.userAgent)||e&&"ontouchstart"in document.documentElement),t}();if(t.userAgentSupportingNativeDnD&&t.draggable&&t.dragEvents)return!1}console.log("dnd-poly: Applying mobile drag and drop polyfill."),E.holdToDrag?(console.log("dnd-poly: holdToDrag set to "+E.holdToDrag),u("touchstart",T,!1)):u("touchstart",x,!1)}({tryFindDraggableTarget:function(t,e){const n=e||t.composedPath();for(let t of n){let e=t;do{if(!1!==e.draggable&&e.getAttribute&&"true"===e.getAttribute("draggable"))return e}while((e=e.parentNode)&&e!==document.body)}},elementFromPoint:function(t,e){for(let n of this._path)if(n.elementFromPoint){let r=n.elementFromPoint(t,e);if(r){for(;r.shadowRoot;)r=r.shadowRoot.elementFromPoint(t,e);return r}}},dragStartConditionOverride:function(t){return this._path=t.composedPath(),!0},holdToDrag:500})},function(t,e){t.exports=x},function(t,e){t.exports=T},function(t,e){t.exports=A},function(t,e){t.exports=S},function(t,e){t.exports=N},function(t,e){t.exports=C},function(t,e){t.exports=I},function(t,e,n){"use strict";n.r(e),n(3),n(15),n(28),n(8),n(11),n(9),n(16),n(29),n(30),n(4),n(31),n(32),n(33);var r=n(1),o=n(6),i=(n(12),n(34),n(35),n(13)),s=n.n(i),a=n(14),c=n.n(a),u=n(19),l=n.n(u),h=n(7),p=n.n(h),d=n(5),f=n(20),_=n.n(f),m=n(21),v=n.n(m),g=n(2);function y(){const t=E(["\n            "," ","\n        "]);return y=function(){return t},t}function b(){const t=E(['\n            <optgroup label="weighted mean">\n                ',"\n            </optgroup>\n        "]);return b=function(){return t},t}function w(){const t=E(['\n            <option value="','" data-desc="','">',"</option>\n        "]);return w=function(){return t},t}function E(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function O(){return Reflect.construct(HTMLElement,[],this.__proto__.constructor)}Object.setPrototypeOf(O.prototype,HTMLElement.prototype),Object.setPrototypeOf(O,HTMLElement);const x=document.createElement("span");function T(t,e=0){x.innerHTML=t,document.body.appendChild(x);const n="".concat(Math.max(e,x.offsetWidth)+20,"px");return document.body.removeChild(x),n}x.style.visibility="hidden",x.style.fontFamily="monospace",x.style.fontSize="12px",x.style.position="absolute",Object(r.b)(_.a,{toString:()=>v.a+"\n"+l.a})(class extends O{set name(t){this.shadowRoot.querySelector("#name").innerHTML=this.getAttribute("name")}_option_template(t,e){return Object(g.html)(w(),t,e,e||t)}_select_template(t,e){const n=p.a[t][e]||[],r=Object(g.html)(b(),this._weights.map(t=>this._option_template(JSON.stringify(["weighted mean",t]),t))),o="TYPE_AGGREGATES"===t&&("integer"===e||"float"===e);return Object(g.html)(y(),n.map(t=>this._option_template(t)),o?r:g.nothing)}set_weights(t){this._weights=t}set type(t){const e=this.shadowRoot.querySelector("#name"),n=this.getAttribute("type");if(!n)return;const r=Object(d.get_type_config)(n);r.type&&e.classList.add(r.type),e.classList.add(n);const o=this.shadowRoot.querySelector("#column_aggregate"),i=this.shadowRoot.querySelector("#filter_operator");Object(g.render)(this._select_template("TYPE_AGGREGATES",r.type||n),o),Object(g.render)(this._select_template("TYPE_FILTERS",r.type||n),i),this.hasAttribute("aggregate")?this.aggregate=this.getAttribute("aggregate"):this.aggregate=r.aggregate,this.hasAttribute("filter")&&(this.filter=this.getAttribute("filter"));const s=this.shadowRoot.querySelector("#filter_operand");this._callback=t=>this._update_filter(t),s.addEventListener("keyup",this._callback.bind(this))}choices(t){const e=this.shadowRoot.querySelector("#filter_operand"),n=this.shadowRoot.querySelector("#filter_operator"),r=new c.a(e,{label:this.getAttribute("name"),list:t,minChars:0,autoFirst:!0,filter:function(t,e){return c.a.FILTER_CONTAINS(t,e.match(/[^,]*$/)[0])},item:function(t,e){return c.a.ITEM(t,e.match(/[^,]*$/)[0])},replace:function(t){const e=this.input.value.match(/^.+,\s*|/)[0];"in"===n.value||"not in"===n.value?this.input.value=e+t+", ":this.input.value=e+t}});""===e.value&&r.evaluate(),e.focus(),this._filter_operand.addEventListener("focus",()=>{0===e.value.trim().length&&r.evaluate()}),e.addEventListener("awesomplete-selectcomplete",this._callback)}set filter(t){const e=this.shadowRoot.querySelector("#filter_operator"),n=JSON.parse(this.getAttribute("filter"));e.value!==n.operator&&(e.value=n.operator||Object(d.get_type_config)(this.getAttribute("type")).filter_operator),e.style.width=T(e.value);const r=this.shadowRoot.querySelector("#filter_operand"),o=n.operand?n.operand.toString():"";this._initialized||(r.value=o),e.value===p.a.FILTER_OPERATORS.isNull||e.value===p.a.FILTER_OPERATORS.isNotNull?r.style.display="none":(r.style.display="inline-block",r.style.width=T(o,30))}set aggregate(t){const e=this.shadowRoot.querySelector("#column_aggregate"),n=this.getAttribute("aggregate");if(e.value!==n&&this.hasAttribute("type")){const t=this.getAttribute("type");e.value=n||Object(d.get_type_config)(t).aggregate}this._blur_agg_dropdown()}set computed_column(t){}_get_computed_data(){const t=JSON.parse(this.getAttribute("computed_column"));return{column_name:t.column_name,input_columns:t.input_columns,input_type:t.input_type,computation:t.computation,type:t.type}}_update_filter(t){const e=this.shadowRoot.querySelector("#filter_operand"),n=this.shadowRoot.querySelector("#filter_operator");let r=e.value;switch(this.getAttribute("type")){case"float":r=parseFloat(r);break;case"integer":r=parseInt(r);break;case"boolean":r=r.toLowerCase().indexOf("true")>-1}n.value!==p.a.FILTER_OPERATORS.isIn&&n.value!==p.a.FILTER_OPERATORS.isNotIn||(r=r.split(",").map(t=>t.trim())),this.setAttribute("filter",JSON.stringify({operator:n.value,operand:r})),this.dispatchEvent(new CustomEvent("filter-selected",{detail:t}))}_set_data_transfer(t){if(this.hasAttribute("filter")){const{operator:e,operand:n}=JSON.parse(this.getAttribute("filter"));t.dataTransfer.setData("text",JSON.stringify([this.getAttribute("name"),e,n,this.getAttribute("type"),this.getAttribute("aggregate")]))}else t.dataTransfer.setData("text",JSON.stringify([this.getAttribute("name"),Object(d.get_type_config)(this.getAttribute("type")).filter_operator,void 0,this.getAttribute("type"),this.getAttribute("aggregate")]));this.dispatchEvent(new CustomEvent("row-drag"))}_register_ids(){this._li=this.shadowRoot.querySelector(".row_draggable"),this._visible=this.shadowRoot.querySelector(".is_visible"),this._row_close=this.shadowRoot.querySelector("#row_close"),this._agg_dropdown=this.shadowRoot.querySelector("#column_aggregate"),this._sort_order=this.shadowRoot.querySelector("#sort_order"),this._filter_operand=this.shadowRoot.querySelector("#filter_operand"),this._filter_operator=this.shadowRoot.querySelector("#filter_operator"),this._edit_computed_column_button=this.shadowRoot.querySelector("#row_edit"),this._column_aggregate_category=this.shadowRoot.querySelector("#column_aggregate_category")}_blur_agg_dropdown(){if(this._agg_dropdown.blur(),"["===this._agg_dropdown.value[0])for(const t of this._agg_dropdown.querySelectorAll("optgroup option")){const e=t.getAttribute("data-desc");t.innerHTML="mean by ".concat(e)}}_focus_agg_dropdown(){for(const t of this._agg_dropdown.querySelectorAll("optgroup option")){const e=t.getAttribute("data-desc");t.innerHTML="by ".concat(e)}}_register_callbacks(){this._li.addEventListener("dragstart",this._set_data_transfer.bind(this)),this._li.addEventListener("dragend",()=>{this.dispatchEvent(new CustomEvent("row-dragend"))}),this._visible.addEventListener("mousedown",t=>this.dispatchEvent(new CustomEvent("visibility-clicked",{detail:t}))),this._row_close.addEventListener("mousedown",t=>this.dispatchEvent(new CustomEvent("close-clicked",{detail:t}))),this._agg_dropdown.addEventListener("focus",this._focus_agg_dropdown.bind(this)),this._agg_dropdown.addEventListener("change",t=>{this._blur_agg_dropdown();const e=this._agg_dropdown.value;this.setAttribute("aggregate",e),this.dispatchEvent(new CustomEvent("aggregate-selected",{detail:t}))}),this._sort_order.addEventListener("click",t=>{this.dispatchEvent(new CustomEvent("sort-order",{detail:t}))});const t=s()(t=>this._update_filter(t),50);this._filter_operator.addEventListener("change",()=>{this._filter_operand.focus(),this._filter_operator.style.width=T(this._filter_operator.value),this.shadowRoot.querySelector("#filter_operand").style.width=T(""+this._filter_operand.value,30),t()}),this._edit_computed_column_button.addEventListener("click",()=>{this.dispatchEvent(new CustomEvent("perspective-computed-column-edit",{bubbles:!0,detail:this._get_computed_data()}))})}connectedCallback(){this._register_ids(),this._register_callbacks()}});var A=n(22),S=n.n(A),N=n(23),C=n.n(N),I=(n(18),n(36),n(37),n(0));const R={columnName:"column name",leftParen:"(",rightParen:")",add:"+",subtract:"-",multiply:"*",divide:"/",percent_of:"%"},k=t=>{let e;return e=Array.isArray(t)?t.filter(t=>"EOF"!==t.tokenType.name).map(t=>t.payload?t.payload:t.image):t.payload?t.payload:t.image,e&&0!==e.length||(e="EOF"),e},L={buildEarlyExitMessage:t=>{let e=k(t.actual);const n=t.expectedIterationPaths.map(t=>{let e=[];return t.map(t=>{const n=R[t.name];e.push(n)}),e.join(", ")});return"Unexpected token: `".concat(e,"`\n\nExpected one of the following tokens: \n ").concat(n.join("\n"))},buildMismatchTokenMessage:t=>{let e=k(t.actual),n=t.expected.name;R[n]&&(n=R[n]);let r="Expecting token `".concat(n,"`, but found `").concat(e,"`.");return")"!==n&&"rightParen"!==n||(r+="\n\nMake sure all left parentheses are matched\nwith right parentheses."),r},buildNoViableAltMessage:t=>{let e=k(t.actual),n="Unexpected token: `".concat(e,"`.");return"Expression"===t.ruleName?n+="\n\nExpected a column name, `(`,\nor functional operator such as:\n- `sqrt`\n- `uppercase`\n- `day_of_week`":"ColumnName"===t.ruleName?n+="\n\nExpected a column name or `(`":"TerminalColumnName"===t.ruleName&&(n+="\n\nExpected a column name after 'AS'"),n}};function j(t,e){j=function(t,e){return new i(t,void 0,e)};var n=function(t){var e="function"==typeof Map?new Map:void 0;return function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return function(t,e,n){return(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&P(o,n.prototype),o}).apply(null,arguments)}(t,arguments,function(t){return(Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),P(r,t)}(t)}(RegExp),r=RegExp.prototype,o=new WeakMap;function i(t,e,r){var i=n.call(this,t,e);return o.set(i,r||o.get(t)),i}function s(t,e){var n=o.get(e);return Object.keys(n).reduce((function(e,r){return e[r]=t[n[r]],e}),Object.create(null))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&P(t,e)}(i,n),i.prototype.exec=function(t){var e=r.exec.call(this,t);return e&&(e.groups=s(e,this)),e},i.prototype[Symbol.replace]=function(t,e){if("string"==typeof e){var n=o.get(this);return r[Symbol.replace].call(this,t,e.replace(/\$<([^>]+)>/g,(function(t,e){return"$"+n[e]})))}if("function"==typeof e){var i=this;return r[Symbol.replace].call(this,t,(function(){var t=[];return t.push.apply(t,arguments),"object"!=typeof t[t.length-1]&&t.push(s(t,i)),e.apply(this,t)}))}return r[Symbol.replace].call(this,t,e)},j.apply(this,arguments)}function P(t,e){return(P=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}const M={},D=Object(I.createToken)({name:"OperatorTokenType",pattern:I.Lexer.NA}),U=Object(I.createToken)({name:"FunctionTokenType",pattern:I.Lexer.NA}),F=Object(I.createToken)({name:"UpperLowerTokenType",pattern:/(uppercase|lowercase)/}),B=j(/(["'])(.*?[\0-\[\]-\uFFFF])\1/y,{column_name:2}),z=Object(I.createToken)({name:"columnName",pattern:{exec:function(t,e){B.lastIndex=e;const n=B.exec(t);if(null!==n){const t=n[0],e=t.substr(1,t.length-2);n.payload=e}return n}},line_breaks:!1}),H=Object(I.createToken)({name:"as",pattern:/(AS|As|as)/,longer_alt:F}),q=Object(I.createToken)({name:"add",pattern:/\+/,categories:[D]}),W=Object(I.createToken)({name:"subtract",pattern:/-/,categories:[D]}),V=Object(I.createToken)({name:"multiply",pattern:/\*/,categories:[D]}),G=Object(I.createToken)({name:"divide",pattern:/\//,categories:[D]}),K=Object(I.createToken)({name:"pow",pattern:/\^/,categories:[D]}),Y=Object(I.createToken)({name:"percent_of",pattern:/\%/,categories:[D]}),X=Object(I.createToken)({name:"equals",pattern:/\==/,categories:[D]}),J=Object(I.createToken)({name:"not_equals",pattern:/\!=/,categories:[D]}),$=Object(I.createToken)({name:"greater_than",pattern:/\>/,categories:[D]}),Z=Object(I.createToken)({name:"less_than",pattern:/\</,categories:[D]}),Q=Object(I.createToken)({name:"is",pattern:/\is/,categories:[D]}),tt=Object(I.createToken)({name:"sqrt",pattern:/sqrt/,categories:[U]}),et=Object(I.createToken)({name:"pow2",pattern:/pow2/,categories:[U]}),nt=Object(I.createToken)({name:"abs",pattern:/abs/,categories:[U]}),rt=Object(I.createToken)({name:"invert",pattern:/invert/,categories:[U]}),ot=Object(I.createToken)({name:"log",pattern:/log/,categories:[U]}),it=Object(I.createToken)({name:"exp",pattern:/exp/,categories:[U]}),st=Object(I.createToken)({name:"bin10",pattern:/bin10/,categories:[U]}),at=Object(I.createToken)({name:"bin100",pattern:/bin100/,categories:[U]}),ct=Object(I.createToken)({name:"bin1000",pattern:/bin1000/,categories:[U]}),ut=Object(I.createToken)({name:"bin10th",pattern:/bin10th/,categories:[U]}),lt=Object(I.createToken)({name:"bin100th",pattern:/bin100th/,categories:[U]}),ht=Object(I.createToken)({name:"bin1000th",pattern:/bin1000th/,categories:[U]}),pt=Object(I.createToken)({name:"length",pattern:/length/,categories:[U]}),dt=Object(I.createToken)({name:"lowercase",pattern:/lowercase/,categories:[U]}),ft=Object(I.createToken)({name:"uppercase",pattern:/uppercase/,categories:[U]}),_t=Object(I.createToken)({name:"concat_comma",pattern:/concat_comma/,categories:[U]}),mt=Object(I.createToken)({name:"concat_space",pattern:/concat_space/,categories:[U]}),vt=Object(I.createToken)({name:"hour_of_day",pattern:/hour_of_day/,categories:[U]}),gt=Object(I.createToken)({name:"day_of_week",pattern:/day_of_week/,categories:[U]}),yt=Object(I.createToken)({name:"month_of_year",pattern:/month_of_year/,categories:[U]}),bt=Object(I.createToken)({name:"second_bucket",pattern:/second_bucket/,categories:[U]}),wt=Object(I.createToken)({name:"minute_bucket",pattern:/minute_bucket/,categories:[U]}),Et=Object(I.createToken)({name:"hour_bucket",pattern:/hour_bucket/}),Ot=Object(I.createToken)({name:"day_bucket",pattern:/day_bucket/,categories:[U]}),xt=Object(I.createToken)({name:"week_bucket",pattern:/week_bucket/,categories:[U]}),Tt=Object(I.createToken)({name:"month_bucket",pattern:/month_bucket/,categories:[U]}),At=Object(I.createToken)({name:"year_bucket",pattern:/year_bucket/,categories:[U]}),St=Object(I.createToken)({name:"leftParen",pattern:/\(/}),Nt=Object(I.createToken)({name:"rightParen",pattern:/\)/}),Ct=Object(I.createToken)({name:"comma",pattern:/,/}),It=[Object(I.createToken)({name:"whitespace",pattern:/\s+/,group:I.Lexer.SKIPPED}),Ct,H,z,St,Nt,q,W,V,G,K,Y,X,J,$,Z,tt,et,nt,rt,ot,it,ht,ct,lt,at,ut,st,pt,Q,_t,mt,ft,dt,vt,gt,yt,bt,wt,Et,Ot,xt,Tt,At,F];It.forEach(t=>{M[t.name]=t});const Rt=new I.Lexer(It,{errorMessageProvider:{buildUnexpectedCharactersMessage:(t,e,n,r,o)=>"Ln ".concat(r,", Col ").concat(o,": Unexpected input `").concat(t,"` at character ").concat(e)}});class kt extends I.CstParser{constructor(){super(M,{errorMessageProvider:L}),this.RULE("SuperExpression",()=>{this.SUBRULE(this.Expression)}),this.RULE("Expression",()=>{this.OR([{ALT:()=>{this.SUBRULE(this.OperatorComputedColumn)}},{ALT:()=>{this.SUBRULE(this.FunctionComputedColumn)}}],{ERR_MSG:"Expected an expression of the form `x + y` or `func(x)`."})}),this.RULE("OperatorComputedColumn",()=>{this.SUBRULE(this.ColumnName,{LABEL:"left"}),this.AT_LEAST_ONE(()=>{this.SUBRULE(this.Operator),this.SUBRULE2(this.ColumnName,{LABEL:"right"})}),this.OPTION(()=>{this.SUBRULE(this.As,{LABEL:"as"})})}),this.RULE("FunctionComputedColumn",()=>{this.SUBRULE(this.Function),this.CONSUME(St),this.AT_LEAST_ONE_SEP({SEP:Ct,DEF:()=>{this.SUBRULE(this.ColumnName)}}),this.CONSUME(Nt),this.OPTION(()=>{this.SUBRULE(this.As,{LABEL:"as"})})}),this.RULE("ColumnName",()=>{this.OR([{ALT:()=>this.SUBRULE(this.ParentheticalExpression)},{ALT:()=>this.CONSUME(z)}],{ERR_MSG:"Expected a column name (wrapped in double quotes) or a parenthesis-wrapped expression."})}),this.RULE("TerminalColumnName",()=>{this.CONSUME(z)}),this.RULE("As",()=>{this.CONSUME(H),this.SUBRULE(this.TerminalColumnName)}),this.RULE("Function",()=>{this.OR([{ALT:()=>this.CONSUME(tt)},{ALT:()=>this.CONSUME(et)},{ALT:()=>this.CONSUME(nt)},{ALT:()=>this.CONSUME(rt)},{ALT:()=>this.CONSUME(ot)},{ALT:()=>this.CONSUME(it)},{ALT:()=>this.CONSUME(ht)},{ALT:()=>this.CONSUME(ct)},{ALT:()=>this.CONSUME(lt)},{ALT:()=>this.CONSUME(at)},{ALT:()=>this.CONSUME(ut)},{ALT:()=>this.CONSUME(st)},{ALT:()=>this.CONSUME(pt)},{ALT:()=>this.CONSUME(ft)},{ALT:()=>this.CONSUME(dt)},{ALT:()=>this.CONSUME(_t)},{ALT:()=>this.CONSUME(mt)},{ALT:()=>this.CONSUME(vt)},{ALT:()=>this.CONSUME(gt)},{ALT:()=>this.CONSUME(yt)},{ALT:()=>this.CONSUME(bt)},{ALT:()=>this.CONSUME(wt)},{ALT:()=>this.CONSUME(Et)},{ALT:()=>this.CONSUME(Ot)},{ALT:()=>this.CONSUME(xt)},{ALT:()=>this.CONSUME(Tt)},{ALT:()=>this.CONSUME(At)}])}),this.RULE("Operator",()=>{this.OR([{ALT:()=>this.CONSUME(q)},{ALT:()=>this.CONSUME(W)},{ALT:()=>this.CONSUME(V)},{ALT:()=>this.CONSUME(G)},{ALT:()=>this.CONSUME(K)},{ALT:()=>this.CONSUME(Y)},{ALT:()=>this.CONSUME(X)},{ALT:()=>this.CONSUME(J)},{ALT:()=>this.CONSUME($)},{ALT:()=>this.CONSUME(Z)},{ALT:()=>this.CONSUME(Q)}])}),this.RULE("ParentheticalExpression",()=>{this.CONSUME(St),this.SUBRULE(this.Expression),this.CONSUME(Nt)}),this.performSelfAnalysis()}}const Lt={"+":(t,e)=>"(".concat(t," + ").concat(e,")"),"-":(t,e)=>"(".concat(t," - ").concat(e,")"),"*":(t,e)=>"(".concat(t," * ").concat(e,")"),"/":(t,e)=>"(".concat(t," / ").concat(e,")"),"%":(t,e)=>"(".concat(t," %% ").concat(e,")"),"==":(t,e)=>"(".concat(t," == ").concat(e,")"),"!=":(t,e)=>"(".concat(t," != ").concat(e,")"),">":(t,e)=>"(".concat(t," > ").concat(e,")"),"<":(t,e)=>"(".concat(t," < ").concat(e,")"),"^":(t,e)=>"(".concat(t," ^ ").concat(e,")"),invert:t=>"(1 / ".concat(t,")"),log:t=>"log(".concat(t,")"),exp:t=>"exp(".concat(t,")"),pow2:t=>"(".concat(t," ^ 2)"),sqrt:t=>"sqrt(".concat(t,")"),abs:t=>"abs(".concat(t,")"),bin10:t=>"bin10(".concat(t,")"),bin100:t=>"bin100(".concat(t,")"),bin1000:t=>"bin1000(".concat(t,")"),bin10th:t=>"bin10th(".concat(t,")"),bin100th:t=>"bin100th(".concat(t,")"),bin1000th:t=>"bin1000th(".concat(t,")"),uppercase:t=>"uppercase(".concat(t,")"),lowercase:t=>"lowercase(".concat(t,")"),length:t=>"length(".concat(t,")"),is:(t,e)=>"(".concat(t," is ").concat(e,")"),concat_space:(t,e)=>"concat_space(".concat(t,", ").concat(e,")"),concat_comma:(t,e)=>"concat_comma(".concat(t,", ").concat(e,")"),hour_of_day:t=>"hour_of_day(".concat(t,")"),day_of_week:t=>"day_of_week(".concat(t,")"),month_of_year:t=>"month_of_year(".concat(t,")"),second_bucket:t=>"second_bucket(".concat(t,")"),minute_bucket:t=>"minute_bucket(".concat(t,")"),hour_bucket:t=>"hour_bucket(".concat(t,")"),day_bucket:t=>"day_bucket(".concat(t,")"),week_bucket:t=>"week_bucket(".concat(t,")"),month_bucket:t=>"month_bucket(".concat(t,")"),year_bucket:t=>"year_bucket(".concat(t,")")},jt=new kt([]),Pt=jt.getBaseCstVisitorConstructor(),Mt=new class extends Pt{constructor(){super(),this.validateVisitor()}SuperExpression(t){let e=[];return this.visit(t.Expression,e),e}Expression(t,e){if(t.OperatorComputedColumn)this.visit(t.OperatorComputedColumn,e);else{if(!t.FunctionComputedColumn)return;this.visit(t.FunctionComputedColumn,e)}}OperatorComputedColumn(t,e){let n=this.visit(t.left,e);void 0===n&&(n=e[e.length-1].column);let r=this.visit(t.Operator);if(!r)return;let o=this.visit(t.right,e);void 0===o&&(o=e[e.length-1].column);let i=this.visit(t.as),s=Lt[r](n,o);i&&(s=i),e.push({column:s,computed_function_name:r,inputs:[n,o]})}FunctionComputedColumn(t,e){const n=this.visit(t.Function);let r=[];for(const n of t.ColumnName){let t=this.visit(n,e);void 0===t?r.push(e[e.length-1].column):r.push(t)}const o=this.visit(t.as);let i=Lt[n](...r);o&&(i=o);const s={column:i,computed_function_name:n,inputs:r};e.push(s)}ColumnName(t,e){return t.ParentheticalExpression?this.visit(t.ParentheticalExpression,e):t.columnName[0].payload}TerminalColumnName(t){return t.columnName[0].payload}Operator(t){return t.add?t.add[0].image:t.subtract?t.subtract[0].image:t.multiply?t.multiply[0].image:t.divide?t.divide[0].image:t.pow?t.pow[0].image:t.percent_of?t.percent_of[0].image:t.equals?t.equals[0].image:t.not_equals?t.not_equals[0].image:t.greater_than?t.greater_than[0].image:t.less_than?t.less_than[0].image:t.is?t.is[0].image:void 0}Function(t){return t.sqrt?t.sqrt[0].image:t.pow2?t.pow2[0].image:t.abs?t.abs[0].image:t.invert?t.invert[0].image:t.log?t.log[0].image:t.exp?t.exp[0].image:t.length?t.length[0].image:t.uppercase?t.uppercase[0].image:t.lowercase?t.lowercase[0].image:t.concat_comma?t.concat_comma[0].image:t.concat_space?t.concat_space[0].image:t.bin10?t.bin10[0].image:t.bin100?t.bin100[0].image:t.bin1000?t.bin1000[0].image:t.bin10th?t.bin10th[0].image:t.bin100th?t.bin100th[0].image:t.bin1000th?t.bin1000th[0].image:t.hour_of_day?t.hour_of_day[0].image:t.day_of_week?t.day_of_week[0].image:t.month_of_year?t.month_of_year[0].image:t.second_bucket?t.second_bucket[0].image:t.minute_bucket?t.minute_bucket[0].image:t.hour_bucket?t.hour_bucket[0].image:t.day_bucket?t.day_bucket[0].image:t.week_bucket?t.week_bucket[0].image:t.month_bucket?t.month_bucket[0].image:t.year_bucket?t.year_bucket[0].image:void 0}As(t){return t.TerminalColumnName[0].children.columnName[0].payload}ParentheticalExpression(t,e){return this.visit(t.Expression,e)}},Dt=function(t){const e=function(t){const e=Rt.tokenize(t);if(e.errors.length>0){let t=e.errors.map(t=>t.message);throw new Error("".concat(t.join("\n")))}return e}(t);jt.input=e.tokens;const n=jt.SuperExpression();if(jt.errors.length>0){let t=jt.errors.map(t=>t.message);throw new Error("".concat(t.join("\n")))}return Mt.visit(n)};var Ut;function Ft(){return Reflect.construct(HTMLElement,[],this.__proto__.constructor)}function Bt(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}Object.setPrototypeOf(Ft.prototype,HTMLElement.prototype),Object.setPrototypeOf(Ft,HTMLElement),Object(r.b)(S.a,C.a)((Bt((Ut=class extends Ft{constructor(){super(),this._parsed_expression=void 0,this.expressions=[]}connectedCallback(){this._register_ids(),this._register_callbacks(),this._textarea_observer=new MutationObserver(this._resize_textarea.bind(this))}_observe_textarea(){this._textarea_observer.observe(this._expression_input,{attributes:!0,attributeFilter:["style"]})}_resize_textarea(){const t=new CustomEvent("perspective-computed-expression-resize");this.dispatchEvent(t),this._textarea_observer.disconnect()}_capture_drop_data(t){const e=t.dataTransfer.getData("text");if(""!==e)try{const n=JSON.parse(e);Array.isArray(n)&&n.length>4&&(t.preventDefault(),this._expression_input.value+='"'.concat(n[0],'"'))}catch(t){}finally{this._validate_expression()}}async _validate_expression(){const t=this._expression_input.value;if(0===t.length)return this._clear_error_messages(),void this._enable_save_button();try{this._parsed_expression=Dt(t)}catch(t){const e=t.message?t.message:JSON.stringify(t);return this._disable_save_button(),void this._set_error_message(e,this._error)}const e=new CustomEvent("perspective-computed-expression-type-check",{detail:{parsed_expression:this._parsed_expression}});this.dispatchEvent(e)}async _type_check_expression(t,e){const n=this._parsed_expression||[],r=[];for(const e of n)t[e.column]||r.push(e.column);if(r.length>0){let t="TypeError:\n";for(const n of r)t+="- `".concat(n,"` expected input column types ").concat(e[n].join("/"),"\n");this._disable_save_button(),this._set_error_message(t,this._error)}else this._clear_error_messages(),this._enable_save_button()}_remove_all_expressions(){const t=new CustomEvent("perspective-computed-expression-remove");this.dispatchEvent(t),this.expressions=[]}_save_expression(){const t=this._expression_input.value,e=this._parsed_expression||[],n=new CustomEvent("perspective-computed-expression-save",{detail:{expression:t,parsed_expression:e}});this.dispatchEvent(n),this.expressions.push(t)}_clear_expression_input(){this._expression_input.value=""}_close_expression_editor(){this.style.display="none",this._side_panel_actions.style.display="flex",this._clear_error_messages(),this._clear_expression_input(),this._textarea_observer.disconnect()}_set_error_message(t,e){e&&(e.innerText=t,e.style.display="block")}_clear_error_messages(){this._error.innerText="",this._error.style.display="none"}_disable_save_button(){this._save_button.toggleAttribute("disabled",!0)}_enable_save_button(){this._save_button.removeAttribute("disabled")}_disable_remove_button(){this._remove_button.toggleAttribute("disabled",!0)}_enable_remove_button(){this._remove_button.removeAttribute("disabled")}_register_ids(){this._side_panel_actions=this.parentElement.querySelector("#side_panel__actions"),this._close_button=this.shadowRoot.querySelector("#psp-expression-close"),this._expression_input=this.shadowRoot.querySelector("#psp-expression-input"),this._error=this.shadowRoot.querySelector("#psp-expression-error"),this._save_button=this.shadowRoot.querySelector("#psp-expression-button-save"),this._remove_button=this.shadowRoot.querySelector("#psp-expression-button-remove")}_register_callbacks(){this._close_button.addEventListener("click",this._close_expression_editor.bind(this)),this._expression_input.addEventListener("keyup",this._validate_expression.bind(this)),this._expression_input.addEventListener("drop",this._capture_drop_data.bind(this)),this._save_button.addEventListener("click",this._save_expression.bind(this))}}).prototype,"_validate_expression",[r.f],Object.getOwnPropertyDescriptor(Ut.prototype,"_validate_expression"),Ut.prototype),Bt(Ut.prototype,"_type_check_expression",[r.f],Object.getOwnPropertyDescriptor(Ut.prototype,"_type_check_expression"),Ut.prototype),Ut));var zt=n(24),Ht=n.n(zt),qt=n(25),Wt=n.n(qt),Vt=n(26),Gt=n.n(Vt);function Kt(t){if(0==this._active_columns.children.length)return 0;{let n=!1;for(let r in this._active_columns.children){var e;let o=this._active_columns.children[r];if(n=n||(null==o?void 0:null===(e=o.classList)||void 0===e?void 0:e.contains("null-column")),o.offsetTop+o.offsetHeight>t.offsetY+this._active_columns.scrollTop)return parseInt(r)}let r=this._active_columns.children.length;return n&&r--,r}}function Yt(t){let e=t.target.getRootNode().host,n=e;n="PERSPECTIVE-VIEWER"===n.tagName?t.target.parentElement:e.parentElement;let r=Array.prototype.slice.call(n.children).indexOf("PERSPECTIVE-ROW"===e.tagName?e:t.target),o=n.getAttribute("for");if(this.hasAttribute(o)){let t=JSON.parse(this.getAttribute(o));t.splice(r,1),0===t.length?this.removeAttribute(o):this.setAttribute(o,JSON.stringify(t))}}function Xt(t){t.preventDefault(),t.currentTarget.classList.remove("dropping"),this._drop_target_hover&&this._drop_target_hover.removeAttribute("drop-target");let e=t.dataTransfer.getData("text");if(!e)return;e=JSON.parse(e);let n=t.currentTarget.querySelector("ul").getAttribute("for")||t.currentTarget.getAttribute("id").replace("_","-"),r=JSON.parse(this.getAttribute(n)||"[]"),o=r.indexOf(e[0]);-1!==o&&r.splice(o,1);const i=n.indexOf("filter")>-1;if(i?this.setAttribute(n,JSON.stringify(r.concat([e]))):n.indexOf("sort")>-1?this.setAttribute(n,JSON.stringify(r.concat([[e[0]]]))):this.setAttribute(n,JSON.stringify(r.concat([e[0]]))),"pivots"===this._plugin.deselectMode&&this._get_visible_column_count()>1&&"sort"!==n&&!i){for(let t of this.shadowRoot.querySelectorAll("#active_columns perspective-row"))if(t.getAttribute("name")===e[0]){this._active_columns.removeChild(t);break}this._update_column_view()}this._debounce_update()}function Jt(t){let e=t.target.parentElement.parentElement;Array.prototype.slice(this._active_columns.children).indexOf(e)>-1&&this._get_visible_column_count()>1&&"move"!==t.dataTransfer.dropEffect&&(this._active_columns.removeChild(e),this._update_column_view()),this._active_columns.classList.remove("dropping")}function $t(t){let e=t.relatedTarget;for(;e&&e!==this._active_columns;)e=e.parentElement;null===e&&(this._active_columns.classList.remove("dropping"),this._drop_target_null&&(this._active_columns.replaceChild(this._drop_target_null,this._drop_target_hover),delete this._drop_target_null),this._drop_target_hover.parentElement===this._active_columns&&this._active_columns.removeChild(this._drop_target_hover),-1!==this._original_index&&this._active_columns.insertBefore(this._drop_target_hover,this._active_columns.children[this._original_index]),this._drop_target_hover.removeAttribute("drop-target"))}function Zt(){this._drop_target_null&&(this._drop_target_null.parentElement===this._active_columns?Object(r.e)(this._active_columns,this._drop_target_hover,this._drop_target_null):this._active_columns.replaceChild(this._drop_target_null,this._drop_target_hover),delete this._drop_target_null)}function Qt(t){Zt.call(this),this._active_columns.children[t]&&this._drop_target_hover!==this._active_columns.children[t]&&(this._drop_target_null=this._active_columns.children[t],Object(r.e)(this._active_columns,this._active_columns.children[t],this._drop_target_hover))}function te(t){Zt.call(this),this._active_columns.children[t]&&(this._drop_target_null=this._active_columns.children[t],this._active_columns.replaceChild(this._drop_target_hover,this._active_columns.children[t]))}function ee(t){var e,n,o,i,s,a,c,u;t.preventDefault(),t.dataTransfer.dropEffect="move","dropping"!==t.currentTarget.className&&t.currentTarget.classList.add("dropping"),this._drop_target_hover.hasAttribute("drop-target")||this._drop_target_hover.toggleAttribute("drop-target",!0);let l=Kt.call(this,t);const h=Array.prototype.slice.call(this._active_columns.children).indexOf(this._drop_target_hover),p=this._active_columns.children[l],d=l<(null===(e=this._plugin.initial)||void 0===e?void 0:null===(n=e.names)||void 0===n?void 0:n.length)-1,f=this._drop_target_hover!==this._active_columns.children[l],_=-1!==this._original_index,m=_&&this._original_index<(null===(o=this._plugin.initial)||void 0===o?void 0:null===(i=o.names)||void 0===i?void 0:i.length)-1,v=_&&this._original_index>=(null===(s=this._plugin.initial)||void 0===s?void 0:null===(a=s.names)||void 0===a?void 0:a.length)-1,g=_&&this._original_index<(null===(c=this._plugin.initial)||void 0===c?void 0:c.count),y=!(l<(null===(u=this._plugin.initial)||void 0===u?void 0:u.count))&&(null==p?void 0:p.classList.contains("null-column"));if(g&&y)Zt.call(this);else if(d&&v&&f){var b,w,E,O,x;Zt.call(this),this._original_index===(null===(b=this._plugin.initial)||void 0===b?void 0:null===(w=b.names)||void 0===w?void 0:w.length)-1&&this._drop_target_hover===this._active_columns.children[this._original_index]&&this._active_columns.children.length===(null===(E=this._plugin.initial)||void 0===E?void 0:null===(O=E.names)||void 0===O?void 0:O.length)?(this._drop_target_null=this._active_columns.children[l],Object(r.e)(this._active_columns,this._active_columns.children[l],this._drop_target_hover)):(null===(x=this._active_columns.children[l])||void 0===x?void 0:x.classList.contains("null-column"))?this._drop_target_hover!==this._active_columns.children[l]&&(this._drop_target_null=this._active_columns.children[l],this._active_columns.replaceChild(this._drop_target_hover,this._active_columns.children[l])):(this._drop_target_null=this._active_columns.children[l],this._active_columns.replaceChild(this._drop_target_hover,this._active_columns.children[l]),this._active_columns.insertBefore(this._drop_target_null,this._active_columns.children[this._original_index]))}else d&&_&&f?Qt.call(this,l):d&&!_&&f?te.call(this,l):!d&&m&&f?Qt.call(this,l):y&&_?Qt.call(this,l):y&&!_?te.call(this,l):h<l?l+1<this._active_columns.children.length?this._active_columns.children[l+1].hasAttribute("drop-target")||(Zt.call(this),this._active_columns.insertBefore(this._drop_target_hover,this._active_columns.children[l+1])):this._active_columns.children[this._active_columns.children.length-1].hasAttribute("drop-target")||(Zt.call(this),this._active_columns.appendChild(this._drop_target_hover)):l<this._active_columns.children.length?this._active_columns.children[l].hasAttribute("drop-target")||(Zt.call(this),this._active_columns.insertBefore(this._drop_target_hover,this._active_columns.children[l])):this._active_columns.children[this._active_columns.children.length-1].hasAttribute("drop-target")||(Zt.call(this),this._active_columns.appendChild(this._drop_target_hover))}function ne(t){t.preventDefault(),delete this._drop_target_null,t.currentTarget.classList.remove("dropping"),this._drop_target_hover.parentElement===this._active_columns&&this._drop_target_hover.removeAttribute("drop-target"),t.dataTransfer.getData("text")&&this._update_column_view()}function re(t){t.stopPropagation(),t.preventDefault(),t.currentTarget.classList.add("dropping")}function oe(t){t.stopPropagation(),t.preventDefault(),t.currentTarget.classList.add("dropping"),t.dataTransfer.dropEffect="move"}function ie(t){t.currentTarget==t.target&&(t.stopPropagation(),t.preventDefault(),t.currentTarget.classList.remove("dropping"))}n(38),n(39),n(40);var se=n(27),ae=n.n(se);class ce{constructor(t,e=!1){this._on_cancel=t,this._cancelled=!1,this.initial=e}cancel(){!this._cancelled&&this._on_cancel&&(this._on_cancel(),this._on_cancel=void 0),this._cancelled=!0}get cancelled(){return this._cancelled}}function ue(){return Reflect.construct(HTMLElement,[],this.__proto__.constructor)}Object.setPrototypeOf(ue.prototype,HTMLElement.prototype),Object.setPrototypeOf(ue,HTMLElement);class le extends ue{get _plugin(){let t=o.b.getInstance(),e=this.getAttribute("plugin");return e||(e=Object.keys(t)[0],this.setAttribute("plugin",e)),t[e]||t[Object.keys(t)[0]]}_get_view_dom_columns(t,e){t=t||"#active_columns perspective-row";let n=Array.prototype.slice.call(this.shadowRoot.querySelectorAll(t));return e?n.map(e).filter(t=>t):n}_get_view_all_columns(){return Array.prototype.slice.call(this.shadowRoot.querySelectorAll("#inactive_columns perspective-row"))}_get_view_active_columns(){return Array.prototype.slice.call(this.shadowRoot.querySelectorAll("#active_columns perspective-row"))}_get_view_active_valid_columns(){return Array.prototype.slice.call(this.shadowRoot.querySelectorAll("#active_columns perspective-row")).filter(t=>!t.classList.contains("null-column"))}_get_view_inactive_columns(){return Array.prototype.slice.call(this.shadowRoot.querySelectorAll("#inactive_columns perspective-row"))}_get_view_all_column_names(){return this._get_view_all_columns().map(t=>t.getAttribute("name"))}_get_view_active_column_names(){return this._get_view_active_columns().map(t=>t.getAttribute("name"))}_get_view_all_valid_column_names(){return this._get_view_all_column_names().filter(t=>t)}_get_view_active_valid_column_names(){return this._get_view_active_column_names().filter(t=>t)}_get_view_active_valid_column_count(){return this._get_view_active_valid_column_names().length}_get_view_columns({active:t=!0}={}){let e;return e=t?"#active_columns perspective-row":"#inactive_columns perspective-row",this._get_view_dom_columns(e,t=>t.getAttribute("name"))}_get_view_aggregates(t){return t=t||"#active_columns perspective-row",this._get_view_dom_columns(t,t=>{let e=t.getAttribute("aggregate");if("["===e[0])try{e=JSON.parse(e)}catch(t){console.error(t)}const n=t.getAttribute("name");return n&&{op:e,column:n}})}_get_view_row_pivots(){return this._get_view_dom_columns("#row_pivots perspective-row",t=>t.getAttribute("name"))}_get_view_column_pivots(){return this._get_view_dom_columns("#column_pivots perspective-row",t=>t.getAttribute("name"))}_get_view_filter_nodes(){return this._get_view_dom_columns("#filters perspective-row")}_get_view_filters(){return this._get_view_dom_columns("#filters perspective-row",t=>{let{operator:e,operand:n}=JSON.parse(t.getAttribute("filter"));return[t.getAttribute("name"),e,n]})}_get_view_sorts(){return this._get_view_dom_columns("#sort perspective-row",t=>{let e=t.getAttribute("sort-order")||"asc";return[t.getAttribute("name"),e]})}_get_view_computed_columns(){return JSON.parse(this.getAttribute("computed-columns"))||[]}_get_view_parsed_computed_columns(){return JSON.parse(this.getAttribute("parsed-computed-columns"))||[]}_get_visible_column_count(){return this._get_view_active_columns().length}get_aggregate_attribute(){const t=JSON.parse(this.getAttribute("aggregates"))||{},e=new Set,n=Object.keys(t).map(n=>(e.add(n),{column:n,op:t[n]}));if(this._aggregate_defaults)for(const t of Object.keys(this._aggregate_defaults))e.has(t)||n.push({column:t,op:this._aggregate_defaults[t]});return n}}function he(){const t=me(["Rendering "," of points."]);return he=function(){return t},t}function pe(){const t=me(["Rendering "," of columns."]);return pe=function(){return t},t}function de(){const t=me(["Rendering "," of columns and "," of points."]);return de=function(){return t},t}function fe(){const t=me(['\n            <span style="white-space:nowrap">',"</span>\n        "]);return fe=function(){return t},t}function _e(){const t=me(['\n            <span title="'," / ",'" class="plugin_information--overflow-hint">&nbsp;<span class="plugin_information--overflow-hint-percent">',"%</span>&nbsp;</span>\n        "]);return _e=function(){return t},t}function me(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function ve(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}let ge={integer:2,string:0,float:3,boolean:4,datetime:1,date:1};const ye=t=>(e,n)=>{const r=ge[t[e]],o=ge[t[n]];let i=0;return i=r==o?e.toLowerCase()<n.toLowerCase()?-1:1:r<o?-1:1,i},be=t=>{if(t){const e=ve(t[0]),n=ve(t[1]),r=Math.floor(t[0]/t[1]*100);return Object(g.html)(_e(),e,n,r)}},we=t=>{if(""!==t)return Object(g.html)(fe(),t)},Ee=(t,...e)=>t.flatMap((t,n)=>[we(t),be(e[n])]).filter(t=>t);class Oe extends le{_validate_parsed_computed_columns(t,e){if(!t||0===t.length)return[];const n=[];for(const r of t)e[r.column]&&n.push(r);return n}async _load_table(t){this.shadowRoot.querySelector("#app").classList.add("hide_message");const e=this._set_updating();this._clear_state(),this._table=t;let[n,r]=await Promise.all([t.columns(),t.schema(!0)]);this._clear_columns(),this._initial_col_order=n.slice();const o=this._get_view_parsed_computed_columns(),i=o.map(t=>t.column),s=await t.computed_schema(o);n=n.concat(i),this.hasAttribute("columns")||this.setAttribute("columns",JSON.stringify(this._initial_col_order)),n.sort(ye(r));const a=function(t,e,n,r){const o=new Set,i=[];for(const e of t){let t=n[e.column];t||(t=r[e.column]);const s=Object(d.get_type_config)(t);o.add(e.column),s.type||t?(""!==e.op&&-1!==p.a.TYPE_AGGREGATES[s.type||t].indexOf(e.op)||(e.op=s.aggregate),i.push(e)):console.warn('No column "'.concat(e.column,'" found (specified in aggregates attribute).'))}for(const t of e)if(!o.has(t)){let e=n[t];e||(e=r[t.column]),i.push({column:t,op:Object(d.get_type_config)(e).aggregate})}return i}(this.get_aggregate_attribute(),n,r,s);let c=JSON.parse(this.getAttribute("columns"));0===c.filter(t=>n.indexOf(t)>-1).length&&(c=this._initial_col_order),this._aggregate_defaults=function(t,e,n){const r={};for(const o of t){let t=e[o];t||(t=n[o]),r[o]=Object(d.get_type_config)(t).aggregate}return r}(n,r,s);for(const t of n){let e=a.find(e=>e.column===t).op;const n=i.includes(t)?t:void 0;let o=r[t];o||(o=s[t]);const u=this._new_row(t,o,e,null,null,n);this._inactive_columns.appendChild(u),c.includes(t)&&u.classList.add("active")}for(;c.length<(null===(u=this._plugin.initial)||void 0===u?void 0:null===(l=u.names)||void 0===l?void 0:l.length);){var u,l;c.push(null)}for(const t of c){const e=i.includes(t)?t:void 0;let n=r[name];n||(n=s[name]);const o=this._new_row(t,n,void 0,void 0,void 0,e);this._active_columns.appendChild(o)}n.length===c.filter(t=>n.indexOf(t)>-1).length?this._inactive_columns.parentElement.classList.add("collapse"):this._inactive_columns.parentElement.classList.remove("collapse"),this._show_column_container(),!0===await this._table.compute()&&this._show_side_panel_actions(),this.hasAttribute("filters")&&(this.filters=this.getAttribute("filters"));try{await this._debounce_update({force_update:!0})}catch(t){throw console.warn("Initial view failed, resetting UI state"),await this.reset(),t}e()}async get_maxes(){let t,e;const[n,r]=await Promise.all([this._view.schema(),this._view.num_columns()]),o=Object.keys(n||{}).length||1;if(void 0!==this._plugin.max_columns){const e=this._plugin.max_columns%o,n=this._plugin.max_columns+e;t=n<r?n:void 0}return void 0!==this._plugin.max_cells&&(e=Math.ceil(t?this._plugin.max_cells/t:this._plugin.max_cells/(r||1))),{max_cols:t,max_rows:e}}async _warn_render_size_exceeded(t,e){if(this._show_warnings&&(t||e)){const n=await this._view.num_columns(),r=await this._view.num_rows(),o=n*r,i=t&&t<n,s=e&&e<r;if(i&&s){this._plugin_information.classList.remove("hidden");const r=Ee(de(),[t,n],[n*e,o]);return Object(g.render)(r,this._plugin_information_message),!0}if(i){this._plugin_information.classList.remove("hidden");const e=Ee(pe(),[t,n]);return Object(g.render)(e,this._plugin_information_message),!0}if(s){this._plugin_information.classList.remove("hidden");const t=Ee(he(),[n*e,o]);return Object(g.render)(t,this._plugin_information_message),!0}this._plugin_information.classList.add("hidden")}return!1}_calculate_throttle_timeout(){let t;const e=this.getAttribute("throttle");if(void 0!==e&&"null"!==e&&this.hasAttribute("throttle")){if(t=parseInt(e),isNaN(t)||t<0)return console.warn('Bad throttle attribute value "'.concat(e,'".  Can be (non-negative integer) milliseconds.')),this.removeAttribute("throttle"),0}else{if(!this.__render_times||this.__render_times.length<5)return 0;t=this.__render_times.reduce((t,e)=>t+e,0)/this.__render_times.length,t=Math.min(5e3,t)}return Math.max(0,t)}_view_on_update(t){this._debounced||(this._debounced=setTimeout(async()=>{this._debounced=void 0;const e=this._render_time();this._task&&!this._task.initial&&this._task.cancel();const n=this._task=new ce,r=this._plugin.update||this._plugin.create;try{if(t){const{max_cols:t,max_rows:e}=await this.get_maxes();n.cancelled||(await this._warn_render_size_exceeded(t,e),await r.call(this,this._datavis,this._view,n,t,e))}else await r.call(this,this._datavis,this._view,n);e(),n.cancel()}catch(t){console.error("Error rendering plugin.",t)}finally{this.dispatchEvent(new Event("perspective-view-update"))}},this._calculate_throttle_timeout()))}async _validate_filters(){const t=[];for(const e of this._get_view_filter_nodes()){const n=e.shadowRoot.getElementById("filter_operand"),r=e.shadowRoot.getElementById("row_exclamation"),{operator:o,operand:i}=JSON.parse(e.getAttribute("filter")),s=[e.getAttribute("name"),o,i];await this._table.is_valid_filter(s)?(t.push(s),e.title="",n.style.borderColor="",r.hidden=!0):(e.title="Invalid Filter",n.style.borderColor="red",r.hidden=!1)}return t}_is_config_changed(t){const e=this.getAttribute("plugin");return!(ae()(t,this._previous_config)&&e===this._previous_plugin_name||(this._previous_config=t,this._previous_plugin_name=e,0))}async _new_view({force_update:t=!1,ignore_size_check:e=!1,limit_points:n=!0}={}){if(!this._table)return;this._check_responsive_layout();const r=this._get_view_row_pivots(),o=this._get_view_column_pivots(),i=await this._validate_filters(),s=this._get_view_aggregates();if(0===s.length)return;const a=this._get_view_sorts();let c=s.map(t=>t.column),u={};for(const t of s)u[t.column]=t.op;for(const t of a){const e=t[0];if(-1===c.indexOf(e)&&!(o.indexOf(t)>-1||r.indexOf(t)>-1)){const t=this.get_aggregate_attribute(),{column:n,op:r}=t.reduce((t,n)=>n.column===e?n:t);u[n]=r}}const l={filter:i,row_pivots:r,column_pivots:o,aggregates:u,columns:c,sort:a,computed_columns:this._get_view_parsed_computed_columns()};this._view&&(this._view.remove_update(this._view_updater),this._view.delete(),this._view=void 0);try{this._view=this._table.view(l),this._view_updater=()=>this._view_on_update(n),this._view.on_update(this._view_updater)}catch(t){throw this._view.delete(),t}const h=this._render_time();this._render_count=(this._render_count||0)+1,this._task&&this._task.cancel();const p=this._task=new ce(()=>this._render_count--,!0);try{const{max_cols:r,max_rows:o}=await this.get_maxes();e||await this._warn_render_size_exceeded(r,o),n?await this._plugin.create.call(this,this._datavis,this._view,p,r,o,t):await this._plugin.create.call(this,this._datavis,this._view,p,void 0,void 0,t)}catch(t){console.warn(t)}finally{this.__render_times||(this.__render_times=[],this.dispatchEvent(new Event("perspective-view-update"))),h(),p.cancel(),0===this._render_count&&(this.removeAttribute("updating"),this.dispatchEvent(new Event("perspective-update-complete")))}}_check_loaded_table(){if(this._table){const t=this._table;delete this._table,this._load_table(t)}}_render_time(){const t=performance.now();return()=>{this.__render_times.unshift(performance.now()-t),this.__render_times=this.__render_times.slice(0,5)}}_restyle_plugin(){if(this._plugin.styleElement){const t=this._task=new ce;this._plugin.styleElement.call(this,this._datavis,this._view,t)}}_clear_state(t=!0){this._task&&this._task.cancel();const e=[];if(this._view){const t=this._view;this._view=void 0,e.push(t.delete()),t.remove_update(this._view_updater),t.remove_delete()}if(this._table&&t){const t=this._table;this._table=void 0,t._owner_viewer&&t._owner_viewer===this&&e.push(t.delete())}return Promise.all(e)}_set_updating(){let t;return this.toggleAttribute("updating",!0),this._updating_promise=new Promise(e=>{t=e}),t}_register_debounce_instance(){const t=s()((t,e,n,r)=>{this._new_view({ignore_size_check:e,force_update:n,limit_points:r}).then(t)},0);this._debounce_update=async({force_update:e=!1,ignore_size_check:n=!1,limit_points:r=!0}={})=>{if(this._table){let o=this._set_updating();await new Promise(o=>t(o,n,e,r)),o()}}}_get_worker(){return this._table?this._table._worker:p.a.shared_worker()}}function xe(){const t=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n            <option value="','">',"</option>\n        "]);return xe=function(){return t},t}const Te=t=>{const e=[];for(name in t)e.push(Object(g.html)(xe(),name,t[name].name||name));return e};class Ae extends Oe{_clear_columns(){this._inactive_columns.innerHTML="",this._active_columns.innerHTML=""}set_aggregate_attribute(t){let e=!1,n=t.reduce((t,n)=>(this._aggregate_defaults[n.column]!==n.op&&(t[n.column]=n.op,e=!0),t),{});e?this.setAttribute("aggregates",JSON.stringify(n)):this.removeAttribute("aggregates")}_get_type(t){let e=this._get_view_inactive_columns();if(e.length>0){const n=e.find(e=>e.getAttribute("name")===t);return n?n.getAttribute("type"):"integer"}return""}_set_row_type(t){const e=this._get_view_inactive_columns().filter(t=>"integer"===t.getAttribute("type")||"float"===t.getAttribute("type")).map(t=>t.getAttribute("name"));t.set_weights(e),t.setAttribute("type",this._get_type(t.getAttribute("name")))}_new_row(t,e,n,r,o,i){let s=document.createElement("perspective-row");if(e=e||this._get_type(t),!n){let r=this.get_aggregate_attribute();n=r&&(n=r.find(e=>e.column===t))?n.op:Object(d.get_type_config)(e).aggregate}if(r&&(s.setAttribute("filter",r),"string"===e)){const e=this._table.view({row_pivots:[t],aggregates:{}});e.to_json().then(t=>{s.choices(this._autocomplete_choices(t))}),e.delete()}o?s.setAttribute("sort-order",o):this._get_view_column_pivots().indexOf(t)>-1?s.setAttribute("sort-order","col asc"):s.setAttribute("sort-order","asc");const a=this._get_view_inactive_columns().filter(t=>"integer"===t.getAttribute("type")||"float"===t.getAttribute("type")).map(t=>t.getAttribute("name"));return s.set_weights(a),null===t?s.classList.add("null-column"):(s.setAttribute("type",e),s.setAttribute("name",t)),s.setAttribute("aggregate",Array.isArray(n)?JSON.stringify(n):n),s.addEventListener("visibility-clicked",this._column_visibility_clicked.bind(this)),s.addEventListener("aggregate-selected",this._column_aggregate_clicked.bind(this)),s.addEventListener("filter-selected",this._column_filter_clicked.bind(this)),s.addEventListener("close-clicked",t=>Yt.call(this,t.detail)),s.addEventListener("sort-order",this._sort_order_clicked.bind(this)),s.addEventListener("row-drag",()=>{this.classList.add("dragging"),this._active_columns.style.overflow="hidden",this._original_index=Array.prototype.slice.call(this._active_columns.children).findIndex(e=>e.getAttribute("name")===t),-1!==this._original_index?(this._drop_target_hover=this._active_columns.children[this._original_index],setTimeout(()=>s.setAttribute("drop-target",!0))):this._drop_target_hover=this._new_row(t,e,n)}),s.addEventListener("row-dragend",()=>{this._active_columns.style.overflow="auto",this.classList.remove("dragging")}),i&&(s.setAttribute("computed_column",JSON.stringify(i)),s.classList.add("computed")),s}_update_computed_column_view(t){const e=this._get_view_parsed_computed_columns(),n=this._get_view_all_column_names(),r=this._get_view_active_column_names();if(0===Object.keys(t).length||0===e.length)return;let o=0;const i=JSON.parse(this.getAttribute("columns"))||[];let s=!1;for(const a of e){const e=a.column;if(!n.includes(e)&&i.includes(e)&&(s=!0),n.includes(e)||r.includes(e))continue;const c=this._new_row(e,t[e],null,null,null,e);this._inactive_columns.appendChild(c),o++}s?this._update_column_view(i,!0):o>0&&this._inactive_columns.parentElement.classList.contains("collapse")&&this._inactive_columns.parentElement.classList.remove("collapse")}_diff_computed_column_view(t,e){const n=[],r=e.map(t=>t.column);for(const e of t)r.includes(e.column)||n.push(e);return n}_reset_computed_column_view(t){if(!t||0===t.length)return;const e=t.map(t=>t.column),n=this._get_view_active_column_names().filter(t=>!e.includes(t)),r=this._get_view_aggregates().filter(t=>!e.includes(t.column)),o=this._get_view_row_pivots().filter(t=>!e.includes(t)),i=this._get_view_column_pivots().filter(t=>!e.includes(t)),s=this._get_view_sorts().filter(t=>!e.includes(t[0])),a=this._get_view_filters().filter(t=>!e.includes(t[0]));this.set_aggregate_attribute(r),this.setAttribute("columns",JSON.stringify(n)),this.setAttribute("row-pivots",JSON.stringify(o)),this.setAttribute("column-pivots",JSON.stringify(i)),this.setAttribute("sort",JSON.stringify(s)),this.setAttribute("filters",JSON.stringify(a));const c=this._get_view_all_columns().filter(t=>t.classList.contains("computed"));for(const t of c)this._inactive_columns.removeChild(t);const u=this._get_view_active_columns().filter(t=>null!=t),l=this._get_view_inactive_columns();u.length===l.length?this._inactive_columns.parentElement.classList.add("collapse"):this._inactive_columns.parentElement.classList.remove("collapse")}_update_column_view(t,e=!1){if(t||(t=this._get_view_active_column_names()),this._plugin.initial&&this._plugin.initial.names)for(;t.length<this._plugin.initial.names.length;)t.push(null);this.setAttribute("columns",JSON.stringify(t));const n=t.filter(t=>null!=t),r=this._get_view_inactive_columns();n.length===r.length?this._inactive_columns.parentElement.classList.add("collapse"):this._inactive_columns.parentElement.classList.remove("collapse"),r.forEach(t=>{-1===n.indexOf(t.getAttribute("name"))?t.classList.remove("active"):t.classList.add("active")}),e&&this._update_column_list(t,this._active_columns,(t,e)=>{if(null===t)return this._new_row(null);{const n=r.find(e=>e.getAttribute("name")===t);if(n){const t=n.getAttribute("name");let r;return e.includes(t)&&(r=t),this._new_row(t,n.getAttribute("type"),void 0,void 0,void 0,r)}}})}_update_column_list(t,e,n,r){r=r||((t,e)=>e.getAttribute("name")===t);const o=Array.prototype.slice.call(e.children),i=this._get_view_parsed_computed_columns().map(t=>t.column);for(let s=0,a=0;s<o.length||a<t.length;s++,a++){const c=t[a],u=o[s],l=o[s+1];if(u)if(void 0===c)e.removeChild(u);else if(r(c,u))this._set_row_type(u);else if(u.classList.contains("null-column")){const t=n(c,i);t&&e.replaceChild(t,u)}else if(l&&r(c,l))e.removeChild(u),s++;else{const t=n(c,i);t&&(e.insertBefore(t,u),s--)}else{const t=n(c,i);t&&e.appendChild(t)}}}_set_row_styles(){let t="";if(this._plugin.initial&&this._plugin.initial.names)for(const e in this._plugin.initial.names){const n=this._plugin.initial.names[e];t+="#active_columns perspective-row:nth-child(".concat(parseInt(e)+1,"){margin-top:23px;}"),t+="#active_columns perspective-row:nth-child(".concat(parseInt(e)+1,'):before{content:"').concat(n,'";}')}this.shadowRoot.querySelector("#psp_styles").innerHTML=t}_show_column_container(){this.shadowRoot.querySelector("#columns_container").style.visibility="visible"}_show_side_panel_actions(){this.shadowRoot.querySelector("#side_panel__actions").style.visibility="visible"}_remove_null_columns(t=0){const e=this._get_view_active_columns();for(;++t<e.length;){const n=e[t];n.classList.contains("null-column")&&this.shadowRoot.querySelector("#active_columns").removeChild(n)}}_set_column_defaults(){const t=this._get_view_all_columns(),e=this._get_view_active_valid_columns(),n=this._get_view_active_valid_column_names();if(t.length>0)if(this._plugin.initial){let n=[],r=this._plugin.initial.count||2;this._fill_numeric(e,n),this._fill_numeric(t,n),this._fill_numeric(t,n,!0),n=n.slice(0,r);const o=this._plugin.initial.names;for(;o&&n.length<o.length;)n.push(null);this.setAttribute("columns",JSON.stringify(n))}else"select"===this._plugin.selectMode?this.setAttribute("columns",JSON.stringify([t[0].getAttribute("name")])):(this.setAttribute("columns",JSON.stringify(n)),this._remove_null_columns())}_fill_numeric(t,e,n=!1){for(let r of t){let t=r.getAttribute("type"),o=r.getAttribute("name");(n||["float","integer"].indexOf(t)>-1&&-1===e.indexOf(o))&&e.push(o)}}async _check_responsive_layout(){if(this.shadowRoot){const t=this.shadowRoot.querySelector("#app");if(this.clientHeight<500&&this.clientWidth>600&&this._get_view_columns({active:!1}).length>this._get_view_columns().length){if(!t.classList.contains("columns_horizontal")){const e=this._persisted_side_panel_width;return this._persisted_side_panel_width=this._side_panel.style.width,this._side_panel.style.width=e||"",t.classList.add("columns_horizontal"),!1}return!1}if(t.classList.contains("columns_horizontal")){const e=this.shadowRoot.querySelector("#pivot_chart_container");e.clientWidth,this._side_panel.clientWidth;const n=this._persisted_side_panel_width||e.clientWidth+this._side_panel.clientWidth/2,r=e.clientHeight+50;return await this._pre_resize(n,r,()=>{const e=this._persisted_side_panel_width;this._persisted_side_panel_width=this._side_panel.style.width,this._side_panel.style.width=e||"",t.classList.remove("columns_horizontal")}),!0}}return!1}_register_ids(){this._aggregate_selector=this.shadowRoot.querySelector("#aggregate_selector"),this._vis_selector=this.shadowRoot.querySelector("#vis_selector"),this._filters=this.shadowRoot.querySelector("#filters"),this._row_pivots=this.shadowRoot.querySelector("#row_pivots"),this._column_pivots=this.shadowRoot.querySelector("#column_pivots"),this._datavis=this.shadowRoot.querySelector("#pivot_chart"),this._active_columns=this.shadowRoot.querySelector("#active_columns"),this._inactive_columns=this.shadowRoot.querySelector("#inactive_columns"),this._side_panel_actions=this.shadowRoot.querySelector("#side_panel__actions"),this._add_computed_expression_button=this.shadowRoot.querySelector("#add-computed-expression"),this._computed_expression_editor=this.shadowRoot.querySelector("perspective-computed-expression-editor"),this._inner_drop_target=this.shadowRoot.querySelector("#drop_target_inner"),this._drop_target=this.shadowRoot.querySelector("#drop_target"),this._config_button=this.shadowRoot.querySelector("#config_button"),this._reset_button=this.shadowRoot.querySelector("#reset_button"),this._download_button=this.shadowRoot.querySelector("#download_button"),this._copy_button=this.shadowRoot.querySelector("#copy_button"),this._side_panel=this.shadowRoot.querySelector("#side_panel"),this._top_panel=this.shadowRoot.querySelector("#top_panel"),this._sort=this.shadowRoot.querySelector("#sort"),this._transpose_button=this.shadowRoot.querySelector("#transpose_button"),this._plugin_information=this.shadowRoot.querySelector(".plugin_information"),this._plugin_information_action=this.shadowRoot.querySelector(".plugin_information__action"),this._plugin_information_action_close=this.shadowRoot.querySelector(".plugin_information__action--close"),this._plugin_information_message=this.shadowRoot.querySelector("#plugin_information_count"),this._resize_bar=this.shadowRoot.querySelector("#resize_bar")}_register_view_options(){let t=o.b.getInstance();Object(g.render)(Te(t),this._vis_selector)}_register_data_attribute(){if(this.getAttribute("data")){let t=this.getAttribute("data");try{t=JSON.parse(t)}catch(t){}this.load(t)}}_autocomplete_choices(t){return t.slice(1,t.length).map(t=>t.__ROW_PATH__).filter(t=>Array.isArray(t)?t.filter(t=>!!t).length>0:!!t)}}class Se extends Ae{_show_context_menu(t){return this.shadowRoot.querySelector("#app").classList.toggle("show_menu"),t.stopPropagation(),t.preventDefault(),!1}_hide_context_menu(){this.shadowRoot.querySelector("#app").classList.remove("show_menu")}async _toggle_config(t){if(!t||2!==t.button){this._show_config=!this._show_config,this._hide_context_menu();const t=this.shadowRoot.querySelector("#pivot_chart_container");this._show_config?await this._post_resize(()=>{this.toggleAttribute("settings",!0)},()=>{this._side_panel.style.display="flex",this._top_panel.style.display="flex",this.dispatchEvent(new CustomEvent("perspective-toggle-settings",{detail:this._show_config}))}):await this._pre_resize(t.clientWidth+this._side_panel.clientWidth,t.clientHeight+this._top_panel.clientHeight,()=>{this._side_panel.style.display="none",this._top_panel.style.display="none",this.removeAttribute("settings")},()=>this.dispatchEvent(new CustomEvent("perspective-toggle-settings",{detail:this._show_config})))}}async _pre_resize(t,e,n,r){this._datavis.style.width="".concat(t,"px"),this._datavis.style.height="".concat(e,"px");try{!document.hidden&&this.offsetParent&&await this._plugin.resize.call(this)}finally{null==r||r(),this._datavis.style.width="100%",this._datavis.style.height="100%",n()}}async _post_resize(t,e){null==e||e();try{!document.hidden&&this.offsetParent&&await this._plugin.resize.call(this)}finally{t()}}_open_computed_expression_editor(t){t.stopImmediatePropagation(),0==this._computed_expression_editor.expressions.length?this._computed_expression_editor._disable_remove_button():this._computed_expression_editor._enable_remove_button(),this._computed_expression_editor.style.display="flex",this._side_panel_actions.style.display="none",this._computed_expression_editor._observe_textarea()}_save_computed_expression(t){const e=t.detail.expression;let n=this._get_view_computed_columns();n.includes(e)?console.warn('"'.concat(e,'" was not applied because it already exists.')):(n.push(e),this.setAttribute("computed-columns",JSON.stringify(n)))}async _type_check_computed_expression(t){const e=t.detail.parsed_expression||[];if(0===e.length)return void this._computed_expression_editor._type_check_expression({});const n={};for(const t of e)n[t.column]=t.computed_function_name;const r=await this._table.computed_schema(e),o={};for(const t in n)r[t]||(o[t]=await this._table.get_computation_input_types(n[t]));this._computed_expression_editor._type_check_expression(r,o)}_clear_all_computed_expressions(){this.setAttribute("computed-columns",JSON.stringify([]))}_set_computed_expression(t){return t}_column_visibility_clicked(t){const e=t.currentTarget;if("active_columns"===e.parentElement.getAttribute("id")){var n;const s=(null===(n=this._plugin.initial)||void 0===n?void 0:n.count)||1;if(this._get_view_active_valid_column_count()===s)return;if(t.detail.shiftKey)for(let t of Array.prototype.slice.call(this._active_columns.children))t!==e&&this._active_columns.removeChild(t);else{var r,o,i;const t=Array.prototype.slice.call(this._active_columns.children).indexOf(e);if(t<(null===(r=this._plugin.initial)||void 0===r?void 0:r.count))return;t<(null===(o=this._plugin.initial)||void 0===o?void 0:null===(i=o.names)||void 0===i?void 0:i.length)-1&&this._active_columns.insertBefore(this._new_row(null),e),this._active_columns.removeChild(e)}}else{var s;if(t.detail.shiftKey&&"toggle"===this._plugin.selectMode||!t.detail.shiftKey&&"select"===this._plugin.selectMode)for(let t of Array.prototype.slice.call(this._active_columns.children))this._active_columns.removeChild(t);let n=this._new_row(e.getAttribute("name"),e.getAttribute("type"));const r=this._get_view_active_columns();let o=r.length-1;if(r[o]&&(null===(s=r[o])||void 0===s?void 0:s.classList.contains("null-column"))){for(;o-- >0;)if(!r[o].classList.contains("null-column")){this._active_columns.replaceChild(n,r[o+1]);break}}else this._active_columns.appendChild(n)}this._check_responsive_layout(),this._update_column_view()}_column_aggregate_clicked(){let t=this.get_aggregate_attribute(),e=this._get_view_aggregates();for(let n of t){let t=e.find(t=>t.column===n.column);t&&(n.op=t.op)}this.set_aggregate_attribute(t),this._update_column_view(),this._debounce_update()}_column_filter_clicked(){let t=this._get_view_filters();this._updating_filter=!0,this.setAttribute("filters",JSON.stringify(t)),this._updating_filter=!1,this._debounce_update()}_increment_sort(t,e,n){let r=["asc","desc"];return e&&r.push("col asc","col desc"),n&&(r=r.map(t=>"".concat(t," abs"))),r.push("none"),r[(r.indexOf(t)+1)%r.length]}_sort_order_clicked(t){const e=t.target,n=t.detail.shiftKey&&"string"!==e.getAttribute("type"),r=this._increment_sort(e.getAttribute("sort-order"),this._get_view_column_pivots().length>0,n);e.setAttribute("sort-order",r);const o=this._get_view_sorts();this.setAttribute("sort",JSON.stringify(o))}_transpose(){const t=this.hasAttribute("row-pivots"),e=this.hasAttribute("column-pivots");if(t&&e){let t=this.getAttribute("row-pivots");this.setAttribute("row-pivots",this.getAttribute("column-pivots")),this.setAttribute("column-pivots",t)}else if(t){let t=this.getAttribute("row-pivots");this.removeAttribute("row-pivots"),this.setAttribute("column-pivots",t)}else if(e){let t=this.getAttribute("column-pivots");this.removeAttribute("column-pivots"),this.setAttribute("row-pivots",t)}else this.removeAttribute("column-pivots"),this.removeAttribute("row-pivots")}_reset_sidepanel(){this._side_panel.style.width=""}_resize_sidepanel(t){const e=document.body.style.cursor;document.body.style.cursor="col-resize";const n=t.clientX,r=this._side_panel.offsetWidth,o=t=>{const e=Math.max(0,Math.min(r+(t.clientX-n),this.offsetWidth-10));this._side_panel.style.width="".concat(e,"px"),this._plugin&&this.notifyResize()},i=()=>{document.body.style.cursor=e,document.removeEventListener("mousemove",o),document.removeEventListener("mouseup",i)};document.addEventListener("mousemove",o),document.addEventListener("mouseup",i)}_vis_selector_changed(){var t;this._plugin_information.classList.add("hidden"),this.setAttribute("plugin",this._vis_selector.value),this._active_columns.classList.remove("one_lock","two_lock");const e=["one_lock","two_lock"][(null===(t=this._plugin.initial)||void 0===t?void 0:t.count)-1];e&&this._active_columns.classList.add(e),this._debounce_update()}_register_callbacks(){this._sort.addEventListener("drop",Xt.bind(this)),this._sort.addEventListener("dragend",Yt.bind(this)),this._sort.addEventListener("dragenter",re.bind(this)),this._sort.addEventListener("dragover",oe.bind(this)),this._sort.addEventListener("dragleave",ie.bind(this)),this._row_pivots.addEventListener("drop",Xt.bind(this)),this._row_pivots.addEventListener("dragend",Yt.bind(this)),this._row_pivots.addEventListener("dragenter",re.bind(this)),this._row_pivots.addEventListener("dragover",oe.bind(this)),this._row_pivots.addEventListener("dragleave",ie.bind(this)),this._column_pivots.addEventListener("drop",Xt.bind(this)),this._column_pivots.addEventListener("dragend",Yt.bind(this)),this._column_pivots.addEventListener("dragenter",re.bind(this)),this._column_pivots.addEventListener("dragover",oe.bind(this)),this._column_pivots.addEventListener("dragleave",ie.bind(this)),this._filters.addEventListener("drop",Xt.bind(this)),this._filters.addEventListener("dragend",Yt.bind(this)),this._filters.addEventListener("dragenter",re.bind(this)),this._filters.addEventListener("dragover",oe.bind(this)),this._filters.addEventListener("dragleave",ie.bind(this)),this._active_columns.addEventListener("drop",ne.bind(this)),this._active_columns.addEventListener("dragenter",re.bind(this)),this._active_columns.addEventListener("dragend",Jt.bind(this)),this._active_columns.addEventListener("dragover",ee.bind(this)),this._active_columns.addEventListener("dragleave",$t.bind(this)),this._add_computed_expression_button.addEventListener("click",this._open_computed_expression_editor.bind(this)),this._computed_expression_editor.addEventListener("perspective-computed-expression-save",this._save_computed_expression.bind(this)),this._computed_expression_editor.addEventListener("perspective-computed-expression-resize",this._reset_sidepanel.bind(this)),this._computed_expression_editor.addEventListener("perspective-computed-expression-type-check",this._type_check_computed_expression.bind(this)),this._computed_expression_editor.addEventListener("perspective-computed-expression-remove",this._clear_all_computed_expressions.bind(this)),this._computed_expression_editor.addEventListener("perspective-computed-expression-update",this._set_computed_expression.bind(this)),this._config_button.addEventListener("mousedown",this._toggle_config.bind(this)),this._config_button.addEventListener("contextmenu",this._show_context_menu.bind(this)),this._reset_button.addEventListener("click",this.reset.bind(this)),this._copy_button.addEventListener("click",t=>this.copy(t.shiftKey)),this._download_button.addEventListener("click",t=>this.download(t.shiftKey)),this._transpose_button.addEventListener("click",this._transpose.bind(this)),this._drop_target.addEventListener("dragover",oe.bind(this)),this._resize_bar.addEventListener("mousedown",this._resize_sidepanel.bind(this)),this._resize_bar.addEventListener("dblclick",this._reset_sidepanel.bind(this)),this._vis_selector.addEventListener("change",this._vis_selector_changed.bind(this)),this._plugin_information_action.addEventListener("click",()=>{this._debounce_update({ignore_size_check:!0,limit_points:!1}),this._plugin_information.classList.add("hidden")}),this._plugin_information_action_close.addEventListener("click",()=>{this._plugin_information.classList.add("hidden")})}}var Ne;function Ce(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}const Ie=["selectable","editable","plugin","computed-columns","row-pivots","column-pivots","aggregates","filters","sort","columns"];Object(r.b)(Ht.a,Wt.a,Gt.a)((Ce((Ne=class extends Se{constructor(){super(),this._register_debounce_instance(),this._show_config=!0,this._show_warnings=!0,this.__render_times=[],this._resize_handler=this.notifyResize.bind(this),window.addEventListener("resize",this._resize_handler)}connectedCallback(){0===Object.keys(o.b.getInstance()).length&&Object(o.a)(),this.toggleAttribute("settings",!0),this._register_ids(),this._register_callbacks(),this._register_view_options(),this._register_data_attribute(),this.toggleConfig(),this._check_loaded_table()}sort(t){null!=t&&0!==t.length||(this.hasAttribute("sort")&&this.removeAttribute("sort"),t=[]);var e=this._sort.querySelector("ul");this._update_column_list(t,e,(t,e)=>{let n="asc";Array.isArray(t)&&(n=t[1],t=t[0]);let r=void 0;return e.includes(t)&&(r=t),this._new_row(t,!1,!1,!1,n,r)},(t,e)=>Array.isArray(t)?e.getAttribute("name")===t[0]&&e.getAttribute("sort-order")===t[1]:e.getAttribute("name")===t),this.dispatchEvent(new Event("perspective-config-update")),this._debounce_update()}columns(t){null!=t&&0!==t.length||(this.hasAttribute("columns")&&(this._initial_col_order?this.setAttribute("columns",JSON.stringify(this._initial_col_order)):this.removeAttribute("columns")),t=(this._initial_col_order||[]).slice()),this._update_column_view(t,!0),this.dispatchEvent(new Event("perspective-config-update")),this._debounce_update()}"computed-columns"(t){const e=this._set_updating();(async()=>{if("none"!==this._computed_expression_editor.style.display&&this._computed_expression_editor._close_expression_editor(),null==t||0===t.length){if(this.hasAttribute("computed-columns")){this.removeAttribute("computed-columns");const t=this._get_view_parsed_computed_columns();return this._reset_computed_column_view(t),this.removeAttribute("parsed-computed-columns"),void e()}t=[]}let n=[];for(const e of t)"string"==typeof e?n=n.concat(Dt(e)):n.push(e);let r={};if(this._table){r=await this._table.computed_schema(n);const t=await this._validate_parsed_computed_columns(n,r);if(t.length!==n.length){const e=[];for(let r=0;r<n.length;r++)r>t.length-1?e.push(n[r]):n[r].column!==t[r].column&&e.push(n[r]);console.warn("Could not apply these computed columns:",JSON.stringify(e))}n=t}const o=this._get_view_parsed_computed_columns(),i=this._diff_computed_column_view(o,n);this._reset_computed_column_view(i),this.setAttribute("parsed-computed-columns",JSON.stringify(n)),this._update_computed_column_view(r),this.dispatchEvent(new Event("perspective-config-update")),await this._debounce_update(),e()})()}aggregates(t){null!=t&&0!==Object.keys(t).length||(this.hasAttribute("aggregates")&&this.removeAttribute("aggregates"),t={}),this._get_view_dom_columns().map(e=>{let n=t[e.getAttribute("name")];n&&e.setAttribute("aggregate",Array.isArray(n)?JSON.stringify(n):n)}),this.dispatchEvent(new Event("perspective-config-update")),this._debounce_update()}filters(t){if(null!=t&&0!==t.length||(this.hasAttribute("filters")&&this.removeAttribute("filters"),t=[]),!this._updating_filter){var e=this._filters.querySelector("ul");this._update_column_list(t,e,(t,e)=>{const n=JSON.stringify({operator:t[1],operand:t[2]}),r=t[0];let o=void 0;return e.includes(r)&&(o=r),this._new_row(r,void 0,void 0,n,void 0,o)},(t,e)=>e.getAttribute("name")===t[0]&&e.getAttribute("filter")===JSON.stringify({operator:t[1],operand:t[2]}))}this.dispatchEvent(new Event("perspective-config-update")),this._debounce_update()}set plugin(t){if("null"===t||null==t)return void this.setAttribute("plugin",this._vis_selector.options[0].value);const e=Object.keys(o.b.getInstance());if(this.hasAttribute("plugin")){let t=this.getAttribute("plugin");if(-1===e.indexOf(t)){const n=e.find(e=>e.indexOf(t)>-1);n?(console.warn('Unknown plugin "'.concat(t,'", using "').concat(n,'"')),this.setAttribute("plugin",n)):(console.error('Unknown plugin "'.concat(t,'"')),this.setAttribute("plugin",this._vis_selector.options[0].value))}else this._vis_selector.value!==t&&(this._vis_selector.value=t,this._vis_selector_changed()),this._set_row_styles(),this._set_column_defaults(),this.dispatchEvent(new Event("perspective-config-update"))}else this.setAttribute("plugin",this._vis_selector.options[0].value)}"column-pivots"(t){null!=t&&0!==t.length||(this.hasAttribute("column-pivots")&&this.removeAttribute("column-pivots"),t=[]);const e=this._column_pivots.querySelector("ul");this._update_column_list(t,e,(t,e)=>{let n=void 0;return e.includes(t)&&(n=t),this._new_row(t,void 0,void 0,void 0,void 0,n)}),this.dispatchEvent(new Event("perspective-config-update")),this._debounce_update()}"row-pivots"(t){null!=t&&0!==t.length||(this.hasAttribute("row-pivots")&&this.removeAttribute("row-pivots"),t=[]);const e=this._row_pivots.querySelector("ul");this._update_column_list(t,e,(t,e)=>{let n=void 0;return e.includes(t)&&(n=t),this._new_row(t,void 0,void 0,void 0,void 0,n)}),this.dispatchEvent(new Event("perspective-config-update")),this._debounce_update()}set editable(t){"null"===t?this.hasAttribute("editable")&&this.removeAttribute("editable"):this.toggleAttribute("editable",!0),this._debounce_update({force_update:!0}),this.dispatchEvent(new Event("perspective-config-update"))}set throttle(t){"null"===t&&this.hasAttribute("throttle")&&this.removeAttribute("throttle"),this._calculate_throttle_timeout()}set selectable(t){"null"===t?this.hasAttribute("selectable")&&this.removeAttribute("selectable"):this.toggleAttribute("selectable",!0),this._debounce_update({force_update:!0}),this.dispatchEvent(new Event("perspective-config-update"))}get worker(){return this._get_worker()}get table(){return this._table}get view(){return this._view}async load(t,e){let n;if(t instanceof Promise)n=await t;else{try{t=t.trim()}catch(t){}"table"===t.type?n=t:(n=this.worker.table(t,e),n._owner_viewer=this)}this.isConnected?await this._load_table(n):this._table=n}update(t){void 0===this._table?this.load(t):this._table.update(t)}async notifyResize(t){await this._check_responsive_layout()||document.hidden||!this.offsetParent||await this._plugin.resize.call(this,t)}clone(t){this._inner_drop_target&&(this._inner_drop_target.innerHTML=t._inner_drop_target.innerHTML),this._load_table(t.table),this.restore(t.save())}delete(t=!0){let e=this._clear_state(t);return this._plugin.delete&&this._plugin.delete.call(this),window.removeEventListener("load",this._resize_handler),window.removeEventListener("resize",this._resize_handler),e}restyleElement(){this._restyle_plugin()}save(){let t={};const e=new Set(Ie);for(let n=0;n<this.attributes.length;n++){let r=this.attributes[n];e.has(r.name)&&(""===r.value?t[r.name]=!0:"plugin"!==r.name&&void 0!==r.value&&null!==r.value?t[r.name]=JSON.parse(r.value):t[r.name]=r.value,e.delete(r.name))}for(const n of e)t[n]=null;return this._plugin.save&&(t.plugin_config=this._plugin.save.call(this)),t}async restore(t){"string"==typeof t&&(t=JSON.parse(t));for(const e of Ie)if(t.hasOwnProperty(e)){let n=t[e];!0===n?this.toggleAttribute(e,!0):null!=n&&!1!==n?("string"!=typeof n&&(n=JSON.stringify(n)),this.setAttribute(e,n)):this.removeAttribute(e)}this._plugin.restore&&t.plugin_config&&this._plugin.restore.call(this,t.plugin_config),await this._debounce_update()}async flush(){for(await new Promise(setTimeout);this.hasAttribute("updating");)await this._updating_promise}clear(){var t;null===(t=this._table)||void 0===t||t.clear()}replace(t){this._table?this._table.replace(t):this._load(t)}reset(){this.removeAttribute("row-pivots"),this.removeAttribute("column-pivots"),this.removeAttribute("filters"),this.removeAttribute("sort"),this._initial_col_order?this.setAttribute("columns",JSON.stringify(this._initial_col_order)):this.removeAttribute("columns"),this.setAttribute("plugin",Object.keys(o.b.getInstance())[0]),this.dispatchEvent(new Event("perspective-config-update")),this._hide_context_menu()}async download(t=!1){const e=t?this._table.view():this._view,n=await e.to_csv(),r=document.createElement("a"),o=n,i=o.length,s=new Uint8Array(i);for(let t=0;t<i;t++)s[t]=o.charCodeAt(t);const a=new Blob([s]);r.setAttribute("href",URL.createObjectURL(a)),r.setAttribute("download","perspective.csv"),r.style.display="none",document.body.appendChild(r),r.click(),document.body.removeChild(r),this._hide_context_menu()}copy(t=!1){let e;(t?this._table.view():this._view).to_csv().then(t=>{e=t}).catch(t=>{console.error(t),e=""});let n=0,o=()=>{void 0!==e?Object(r.c)(e):n<200?(n++,setTimeout(o,50)):console.warn("Timeout expired - copy to clipboard cancelled.")};o(),this._hide_context_menu()}async toggleConfig(){await this._toggle_config()}}).prototype,"sort",[r.a],Object.getOwnPropertyDescriptor(Ne.prototype,"sort"),Ne.prototype),Ce(Ne.prototype,"columns",[r.a],Object.getOwnPropertyDescriptor(Ne.prototype,"columns"),Ne.prototype),Ce(Ne.prototype,"computed-columns",[r.a],Object.getOwnPropertyDescriptor(Ne.prototype,"computed-columns"),Ne.prototype),Ce(Ne.prototype,"aggregates",[r.d],Object.getOwnPropertyDescriptor(Ne.prototype,"aggregates"),Ne.prototype),Ce(Ne.prototype,"filters",[r.a],Object.getOwnPropertyDescriptor(Ne.prototype,"filters"),Ne.prototype),Ce(Ne.prototype,"column-pivots",[r.a],Object.getOwnPropertyDescriptor(Ne.prototype,"column-pivots"),Ne.prototype),Ce(Ne.prototype,"row-pivots",[r.a],Object.getOwnPropertyDescriptor(Ne.prototype,"row-pivots"),Ne.prototype),Ce(Ne.prototype,"notifyResize",[r.f],Object.getOwnPropertyDescriptor(Ne.prototype,"notifyResize"),Ne.prototype),Ne))}]))},function(t,e,n){var r=n(84);t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(t,e,n){var r=n(39),o=n(6),i=n(59),s=function(t){return function(e,n,s){var a,c=r(e),u=o(c.length),l=i(s,u);if(t&&n!=n){for(;u>l;)if((a=c[l++])!=a)return!0}else for(;u>l;l++)if((t||l in c)&&c[l]===n)return t||l||0;return!t&&-1}};t.exports={includes:s(!0),indexOf:s(!1)}},function(t,e,n){var r=n(1),o=n(63),i=r.WeakMap;t.exports="function"==typeof i&&/native code/.test(o(i))},function(t,e,n){var r=n(27),o=n(43),i=n(93),s=n(4);t.exports=r("Reflect","ownKeys")||function(t){var e=o.f(s(t)),n=i.f;return n?e.concat(n(t)):e}},function(t,e,n){var r=n(3);t.exports=!r((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},function(t,e,n){var r=n(7);t.exports=function(t){if(!r(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(t,e,n){var r=n(8),o=n(96);r({target:"Object",stat:!0,forced:Object.assign!==o},{assign:o})},function(t,e){t.exports.default={types:{float:{filter_operator:"==",aggregate:"sum",format:{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}},string:{filter_operator:"==",aggregate:"count"},integer:{filter_operator:"==",aggregate:"sum",format:{}},boolean:{filter_operator:"==",aggregate:"count"},datetime:{filter_operator:"==",aggregate:"count",format:{week:"numeric",year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},null_value:-1},date:{filter_operator:"==",aggregate:"count",format:{week:"numeric",year:"numeric",month:"numeric",day:"numeric"},null_value:-1}}}},function(t,e){t.exports.default=function(){}},function(t,e,n){t.exports=n(270)},function(t,e){var n=Math.abs,r=Math.pow,o=Math.floor,i=Math.log,s=Math.LN2;t.exports={pack:function(t,e,a){var c,u,l,h=new Array(a),p=8*a-e-1,d=(1<<p)-1,f=d>>1,_=23===e?r(2,-24)-r(2,-77):0,m=t<0||0===t&&1/t<0?1:0,v=0;for((t=n(t))!=t||t===1/0?(u=t!=t?1:0,c=d):(c=o(i(t)/s),t*(l=r(2,-c))<1&&(c--,l*=2),(t+=c+f>=1?_/l:_*r(2,1-f))*l>=2&&(c++,l/=2),c+f>=d?(u=0,c=d):c+f>=1?(u=(t*l-1)*r(2,e),c+=f):(u=t*r(2,f-1)*r(2,e),c=0));e>=8;h[v++]=255&u,u/=256,e-=8);for(c=c<<e|u,p+=e;p>0;h[v++]=255&c,c/=256,p-=8);return h[--v]|=128*m,h},unpack:function(t,e){var n,o=t.length,i=8*o-e-1,s=(1<<i)-1,a=s>>1,c=i-7,u=o-1,l=t[u--],h=127&l;for(l>>=7;c>0;h=256*h+t[u],u--,c-=8);for(n=h&(1<<-c)-1,h>>=-c,c+=e;c>0;n=256*n+t[u],u--,c-=8);if(0===h)h=1-a;else{if(h===s)return n?NaN:l?-1/0:1/0;n+=r(2,e),h-=a}return(l?-1:1)*n*r(2,h-e)}}},function(t,e,n){"use strict";var r=n(17),o=n(59),i=n(6);t.exports=function(t){for(var e=r(this),n=i(e.length),s=arguments.length,a=o(s>1?arguments[1]:void 0,n),c=s>2?arguments[2]:void 0,u=void 0===c?n:o(c,n);u>a;)e[a++]=t;return e}},function(t,e,n){var r=n(1);t.exports=r.Promise},function(t,e,n){var r=n(4),o=n(68),i=n(6),s=n(23),a=n(36),c=n(101),u=function(t,e){this.stopped=t,this.result=e};(t.exports=function(t,e,n,l,h){var p,d,f,_,m,v,g,y=s(e,n,l?2:1);if(h)p=t;else{if("function"!=typeof(d=a(t)))throw TypeError("Target is not iterable");if(o(d)){for(f=0,_=i(t.length);_>f;f++)if((m=l?y(r(g=t[f])[0],g[1]):y(t[f]))&&m instanceof u)return m;return new u(!1)}p=d.call(t)}for(v=p.next;!(g=v.call(p)).done;)if("object"==typeof(m=c(p,y,g.value,l))&&m&&m instanceof u)return m;return new u(!1)}).stop=function(t){return new u(!0,t)}},function(t,e,n){var r={};r[n(2)("toStringTag")]="z",t.exports="[object z]"===String(r)},function(t,e,n){var r,o,i,s,a,c,u,l,h=n(1),p=n(42).f,d=n(18),f=n(103).set,_=n(104),m=h.MutationObserver||h.WebKitMutationObserver,v=h.process,g=h.Promise,y="process"==d(v),b=p(h,"queueMicrotask"),w=b&&b.value;w||(r=function(){var t,e;for(y&&(t=v.domain)&&t.exit();o;){e=o.fn,o=o.next;try{e()}catch(t){throw o?s():i=void 0,t}}i=void 0,t&&t.enter()},y?s=function(){v.nextTick(r)}:m&&!_?(a=!0,c=document.createTextNode(""),new m(r).observe(c,{characterData:!0}),s=function(){c.data=a=!a}):g&&g.resolve?(u=g.resolve(void 0),l=u.then,s=function(){l.call(u,r)}):s=function(){f.call(h,r)}),t.exports=w||function(t){var e={fn:t,next:void 0};i&&(i.next=e),o||(o=e,s()),i=e}},function(t,e,n){var r=n(4),o=n(7),i=n(106);t.exports=function(t,e){if(r(t),o(e)&&e.constructor===t)return e;var n=i.f(t);return(0,n.resolve)(e),n.promise}},function(t,e,n){var r=n(1);t.exports=function(t,e){var n=r.console;n&&n.error&&(1===arguments.length?n.error(t):n.error(t,e))}},function(t,e){t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},function(t,e,n){var r,o,i=n(1),s=n(105),a=i.process,c=a&&a.versions,u=c&&c.v8;u?o=(r=u.split("."))[0]+r[1]:s&&(!(r=s.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=s.match(/Chrome\/(\d+)/))&&(o=r[1]),t.exports=o&&+o},function(t,e,n){"use strict";var r=n(8),o=n(46);r({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},function(t,e,n){var r=n(75);t.exports=function(t){if(r(t))throw TypeError("The method doesn't accept regular expressions");return t}},function(t,e,n){var r=n(2)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,"/./"[t](e)}catch(t){}}return!1}},function(t,e){t.exports=function(){var t=window.navigator.userAgent,e=t.indexOf("MSIE ");if(e>0)return parseInt(t.substring(e+5,t.indexOf(".",e)),10);if(t.indexOf("Trident/")>0){var n=t.indexOf("rv:");return parseInt(t.substring(n+3,t.indexOf(".",n)),10)}var r=t.indexOf("Edge/");return r>0&&parseInt(t.substring(r+5,t.indexOf(".",r)),10)}},function(t,e,n){"use strict";n.r(e),n.d(e,"WebSocketClient",(function(){return a})),n.d(e,"WebSocketManager",(function(){return c}));n(13),n(30),n(20);var r=n(53),o=n(127);const i=15e3;let s=0;class a extends r.a{constructor(t){super(),this._ws=t,this._ws.binaryType="arraybuffer",this._ws.onopen=()=>{this.send({id:-1,cmd:"init"})};const e=()=>{this._ws.send("heartbeat"),setTimeout(e,i)};setTimeout(e,15e3),this._ws.onmessage=t=>{"heartbeat"!==t.data&&(this._pending_arrow?(this._handle({data:{id:this._pending_arrow,data:t.data}}),delete this._pending_arrow):(t=JSON.parse(t.data)).is_transferable?this._pending_arrow=t.id:this._handle({data:t}))}}send(t){this._ws.send(JSON.stringify(t))}terminate(){return new Promise(t=>{this._ws.onclose=t,this._ws.close()})}}class c extends o.a{constructor(...t){super(...t),this.requests_id_map=new Map,this.requests={},this.websockets={},setInterval(()=>{Object.entries(this.websockets).forEach(([t,e])=>{if(!1===e.isAlive)return delete this.websockets[t],e.terminate();e.isAlive=!1})},3e4)}add_connection(t){t.isAlive=!0,t.id=s++,t.on("message",e=>{if(t.isAlive=!0,"heartbeat"!==e){e=JSON.parse(e);try{const n="".concat(e.id,"/").concat(t.id);this.requests_id_map.set(n,e.id),e.id=n,this.requests[e.id]={ws:t,msg:e},this.process(e,t.id)}catch(t){console.error(t)}}else t.send("heartbeat")}),t.on("close",()=>{this.clear_views(t.id)}),t.on("error",console.error)}post(t,e){const n=this.requests[t.id],r=t.id;if(n.ws.readyState>1)throw delete this.requests[r],new Error("Connection closed");t.id=this.requests_id_map.get(r),e?(t.is_transferable=!0,n.ws.send(JSON.stringify(t)),n.ws.send(e[0])):n.ws.send(JSON.stringify(t)),n.msg.subscribe||(this.requests_id_map.delete(r),delete this.requests[r])}_host(t,e,n){if(void 0!==t[e])throw new Error('"'.concat(e,'" already exists'));n.on_delete(()=>{delete t[e]}),t[e]=n}host_table(t,e){this._host(this._tables,t,e)}host_view(t,e){this._host(this._views,t,e)}eject_table(t){delete this._tables[t]}eject_view(t){delete this._views[t]}}},function(t,e,n){var r=n(47),o=n(157),i=n(158),s="Expected a function",a=Math.max,c=Math.min;t.exports=function(t,e,n){var u,l,h,p,d,f,_=0,m=!1,v=!1,g=!0;if("function"!=typeof t)throw new TypeError(s);function y(e){var n=u,r=l;return u=l=void 0,_=e,p=t.apply(r,n)}function b(t){var n=t-f;return void 0===f||n>=e||n<0||v&&t-_>=h}function w(){var t=o();if(b(t))return E(t);d=setTimeout(w,function(t){var n=e-(t-f);return v?c(n,h-(t-_)):n}(t))}function E(t){return d=void 0,g&&u?y(t):(u=l=void 0,p)}function O(){var t=o(),n=b(t);if(u=arguments,l=this,f=t,n){if(void 0===d)return function(t){return _=t,d=setTimeout(w,e),m?y(t):p}(f);if(v)return clearTimeout(d),d=setTimeout(w,e),y(f)}return void 0===d&&(d=setTimeout(w,e)),p}return e=i(e)||0,r(n)&&(m=!!n.leading,h=(v="maxWait"in n)?a(i(n.maxWait)||0,e):h,g="trailing"in n?!!n.trailing:g),O.cancel=function(){void 0!==d&&clearTimeout(d),_=0,u=f=l=d=void 0},O.flush=function(){return void 0===d?p:E(o())},O}},function(t,e,n){var r=n(15);t.exports=function(){return r.Date.now()}},function(t,e,n){var r=n(47),o=n(159),i=NaN,s=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,u=/^0o[0-7]+$/i,l=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(o(t))return i;if(r(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=r(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(s,"");var n=c.test(t);return n||u.test(t)?l(t.slice(2),n?2:8):a.test(t)?i:+t}},function(t,e,n){var r=n(37),o=n(38),i="[object Symbol]";t.exports=function(t){return"symbol"==typeof t||o(t)&&r(t)==i}},function(t,e,n){var r=n(76),o=Object.prototype,i=o.hasOwnProperty,s=o.toString,a=r?r.toStringTag:void 0;t.exports=function(t){var e=i.call(t,a),n=t[a];try{t[a]=void 0;var r=!0}catch(t){}var o=s.call(t);return r&&(e?t[a]=n:delete t[a]),o}},function(t,e){var n=Object.prototype.toString;t.exports=function(t){return n.call(t)}},function(t,e,n){!function(){var e=function(t,n){var r=this;e.count=(e.count||0)+1,this.count=e.count,this.isOpened=!1,this.input=o(t),this.input.setAttribute("autocomplete","off"),this.input.setAttribute("aria-expanded","false"),this.input.setAttribute("aria-owns","awesomplete_list_"+this.count),this.input.setAttribute("role","combobox"),this.options=n=n||{},function(t,e,n){for(var r in e){var o=e[r],i=t.input.getAttribute("data-"+r.toLowerCase());t[r]="number"==typeof o?parseInt(i):!1===o?null!==i:o instanceof Function?null:i,t[r]||0===t[r]||(t[r]=r in n?n[r]:o)}}(this,{minChars:2,maxItems:10,autoFirst:!1,data:e.DATA,filter:e.FILTER_CONTAINS,sort:!1!==n.sort&&e.SORT_BYLENGTH,container:e.CONTAINER,item:e.ITEM,replace:e.REPLACE,tabSelect:!1},n),this.index=-1,this.container=this.container(t),this.ul=o.create("ul",{hidden:"hidden",role:"listbox",id:"awesomplete_list_"+this.count,inside:this.container}),this.status=o.create("span",{className:"visually-hidden",role:"status","aria-live":"assertive","aria-atomic":!0,inside:this.container,textContent:0!=this.minChars?"Type "+this.minChars+" or more characters for results.":"Begin typing for results."}),this._events={input:{input:this.evaluate.bind(this),blur:this.close.bind(this,{reason:"blur"}),keydown:function(t){var e=t.keyCode;r.opened&&(13===e&&r.selected?(t.preventDefault(),r.select(void 0,void 0,t)):9===e&&r.selected&&r.tabSelect?r.select(void 0,void 0,t):27===e?r.close({reason:"esc"}):38!==e&&40!==e||(t.preventDefault(),r[38===e?"previous":"next"]()))}},form:{submit:this.close.bind(this,{reason:"submit"})},ul:{mousedown:function(t){t.preventDefault()},click:function(t){var e=t.target;if(e!==this){for(;e&&!/li/i.test(e.nodeName);)e=e.parentNode;e&&0===t.button&&(t.preventDefault(),r.select(e,t.target,t))}}}},o.bind(this.input,this._events.input),o.bind(this.input.form,this._events.form),o.bind(this.ul,this._events.ul),this.input.hasAttribute("list")?(this.list="#"+this.input.getAttribute("list"),this.input.removeAttribute("list")):this.list=this.input.getAttribute("data-list")||n.list||[],e.all.push(this)};function n(t){var e=Array.isArray(t)?{label:t[0],value:t[1]}:"object"==typeof t&&"label"in t&&"value"in t?t:{label:t,value:t};this.label=e.label||e.value,this.value=e.value}e.prototype={set list(t){if(Array.isArray(t))this._list=t;else if("string"==typeof t&&t.indexOf(",")>-1)this._list=t.split(/\s*,\s*/);else if((t=o(t))&&t.children){var e=[];r.apply(t.children).forEach((function(t){if(!t.disabled){var n=t.textContent.trim(),r=t.value||n,o=t.label||n;""!==r&&e.push({label:o,value:r})}})),this._list=e}document.activeElement===this.input&&this.evaluate()},get selected(){return this.index>-1},get opened(){return this.isOpened},close:function(t){this.opened&&(this.input.setAttribute("aria-expanded","false"),this.ul.setAttribute("hidden",""),this.isOpened=!1,this.index=-1,this.status.setAttribute("hidden",""),o.fire(this.input,"awesomplete-close",t||{}))},open:function(){this.input.setAttribute("aria-expanded","true"),this.ul.removeAttribute("hidden"),this.isOpened=!0,this.status.removeAttribute("hidden"),this.autoFirst&&-1===this.index&&this.goto(0),o.fire(this.input,"awesomplete-open")},destroy:function(){if(o.unbind(this.input,this._events.input),o.unbind(this.input.form,this._events.form),!this.options.container){var t=this.container.parentNode;t.insertBefore(this.input,this.container),t.removeChild(this.container)}this.input.removeAttribute("autocomplete"),this.input.removeAttribute("aria-autocomplete");var n=e.all.indexOf(this);-1!==n&&e.all.splice(n,1)},next:function(){var t=this.ul.children.length;this.goto(this.index<t-1?this.index+1:t?0:-1)},previous:function(){var t=this.ul.children.length,e=this.index-1;this.goto(this.selected&&-1!==e?e:t-1)},goto:function(t){var e=this.ul.children;this.selected&&e[this.index].setAttribute("aria-selected","false"),this.index=t,t>-1&&e.length>0&&(e[t].setAttribute("aria-selected","true"),this.status.textContent=e[t].textContent+", list item "+(t+1)+" of "+e.length,this.input.setAttribute("aria-activedescendant",this.ul.id+"_item_"+this.index),this.ul.scrollTop=e[t].offsetTop-this.ul.clientHeight+e[t].clientHeight,o.fire(this.input,"awesomplete-highlight",{text:this.suggestions[this.index]}))},select:function(t,e,n){if(t?this.index=o.siblingIndex(t):t=this.ul.children[this.index],t){var r=this.suggestions[this.index];o.fire(this.input,"awesomplete-select",{text:r,origin:e||t,originalEvent:n})&&(this.replace(r),this.close({reason:"select"}),o.fire(this.input,"awesomplete-selectcomplete",{text:r,originalEvent:n}))}},evaluate:function(){var t=this,e=this.input.value;e.length>=this.minChars&&this._list&&this._list.length>0?(this.index=-1,this.ul.innerHTML="",this.suggestions=this._list.map((function(r){return new n(t.data(r,e))})).filter((function(n){return t.filter(n,e)})),!1!==this.sort&&(this.suggestions=this.suggestions.sort(this.sort)),this.suggestions=this.suggestions.slice(0,this.maxItems),this.suggestions.forEach((function(n,r){t.ul.appendChild(t.item(n,e,r))})),0===this.ul.children.length?(this.status.textContent="No results found",this.close({reason:"nomatches"})):(this.open(),this.status.textContent=this.ul.children.length+" results found")):(this.close({reason:"nomatches"}),this.status.textContent="No results found")}},e.all=[],e.FILTER_CONTAINS=function(t,e){return RegExp(o.regExpEscape(e.trim()),"i").test(t)},e.FILTER_STARTSWITH=function(t,e){return RegExp("^"+o.regExpEscape(e.trim()),"i").test(t)},e.SORT_BYLENGTH=function(t,e){return t.length!==e.length?t.length-e.length:t<e?-1:1},e.CONTAINER=function(t){return o.create("div",{className:"awesomplete",around:t})},e.ITEM=function(t,e,n){var r=""===e.trim()?t:t.replace(RegExp(o.regExpEscape(e.trim()),"gi"),"<mark>$&</mark>");return o.create("li",{innerHTML:r,role:"option","aria-selected":"false",id:"awesomplete_list_"+this.count+"_item_"+n})},e.REPLACE=function(t){this.input.value=t.value},e.DATA=function(t){return t},Object.defineProperty(n.prototype=Object.create(String.prototype),"length",{get:function(){return this.label.length}}),n.prototype.toString=n.prototype.valueOf=function(){return""+this.label};var r=Array.prototype.slice;function o(t,e){return"string"==typeof t?(e||document).querySelector(t):t||null}function i(t,e){return r.call((e||document).querySelectorAll(t))}function s(){i("input.awesomplete").forEach((function(t){new e(t)}))}o.create=function(t,e){var n=document.createElement(t);for(var r in e){var i=e[r];if("inside"===r)o(i).appendChild(n);else if("around"===r){var s=o(i);s.parentNode.insertBefore(n,s),n.appendChild(s),null!=s.getAttribute("autofocus")&&s.focus()}else r in n?n[r]=i:n.setAttribute(r,i)}return n},o.bind=function(t,e){if(t)for(var n in e){var r=e[n];n.split(/\s+/).forEach((function(e){t.addEventListener(e,r)}))}},o.unbind=function(t,e){if(t)for(var n in e){var r=e[n];n.split(/\s+/).forEach((function(e){t.removeEventListener(e,r)}))}},o.fire=function(t,e,n){var r=document.createEvent("HTMLEvents");for(var o in r.initEvent(e,!0,!0),n)r[o]=n[o];return t.dispatchEvent(r)},o.regExpEscape=function(t){return t.replace(/[-\\^$*+?.()|[\]{}]/g,"\\$&")},o.siblingIndex=function(t){for(var e=0;t=t.previousElementSibling;e++);return e},"undefined"!=typeof self&&(self.Awesomplete=e),"undefined"!=typeof Document&&("loading"!==document.readyState?s():document.addEventListener("DOMContentLoaded",s)),e.$=o,e.$$=i,t.exports&&(t.exports=e)}()},function(t,e,n){"use strict";var r=n(8),o=n(77),i=[].reverse,s=[1,2];r({target:"Array",proto:!0,forced:String(s)===String(s.reverse())},{reverse:function(){return o(this)&&(this.length=this.length),i.call(this)}})},function(t,e,n){"use strict";var r=n(8),o=n(165).trim;r({target:"String",proto:!0,forced:n(166)("trim")},{trim:function(){return o(this)}})},function(t,e,n){var r=n(19),o="["+n(113)+"]",i=RegExp("^"+o+o+"*"),s=RegExp(o+o+"*$"),a=function(t){return function(e){var n=String(r(e));return 1&t&&(n=n.replace(i,"")),2&t&&(n=n.replace(s,"")),n}};t.exports={start:a(1),end:a(2),trim:a(3)}},function(t,e,n){var r=n(3),o=n(113);t.exports=function(t){return r((function(){return!!o[t]()||"\u200b\x85\u180e"!="\u200b\x85\u180e"[t]()||o[t].name!==t}))}},function(t,e,n){"use strict";var r=n(8),o=n(9),i=n(1),s=n(5),a=n(7),c=n(10).f,u=n(92),l=i.Symbol;if(o&&"function"==typeof l&&(!("description"in l.prototype)||void 0!==l().description)){var h={},p=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof p?new l(t):void 0===t?l():l(t);return""===t&&(h[e]=!0),e};u(p,l);var d=p.prototype=l.prototype;d.constructor=p;var f=d.toString,_="Symbol(test)"==String(l("test")),m=/^Symbol\((.*)\)[^)]+$/;c(d,"description",{configurable:!0,get:function(){var t=a(this)?this.valueOf():this,e=f.call(t);if(s(h,t))return"";var n=_?e.slice(7,-1):e.replace(m,"$1");return""===n?void 0:n}}),r({global:!0,forced:!0},{Symbol:p})}},function(t,e,n){var r=n(169);t.exports=function(t,e){return r(t,e)}},function(t,e,n){var r=n(170),o=n(38);t.exports=function t(e,n,i,s,a){return e===n||(null==e||null==n||!o(e)&&!o(n)?e!=e&&n!=n:r(e,n,i,s,t,a))}},function(t,e,n){var r=n(171),o=n(118),i=n(203),s=n(207),a=n(229),c=n(79),u=n(119),l=n(121),h=1,p="[object Arguments]",d="[object Array]",f="[object Object]",_=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,m,v,g){var y=c(t),b=c(e),w=y?d:a(t),E=b?d:a(e),O=(w=w==p?f:w)==f,x=(E=E==p?f:E)==f,T=w==E;if(T&&u(t)){if(!u(e))return!1;y=!0,O=!1}if(T&&!O)return g||(g=new r),y||l(t)?o(t,e,n,m,v,g):i(t,e,w,n,m,v,g);if(!(n&h)){var A=O&&_.call(t,"__wrapped__"),S=x&&_.call(e,"__wrapped__");if(A||S){var N=A?t.value():t,C=S?e.value():e;return g||(g=new r),v(N,C,n,m,g)}}return!!T&&(g||(g=new r),s(t,e,n,m,v,g))}},function(t,e,n){var r=n(48),o=n(177),i=n(178),s=n(179),a=n(180),c=n(181);function u(t){var e=this.__data__=new r(t);this.size=e.size}u.prototype.clear=o,u.prototype.delete=i,u.prototype.get=s,u.prototype.has=a,u.prototype.set=c,t.exports=u},function(t,e){t.exports=function(){this.__data__=[],this.size=0}},function(t,e,n){var r=n(49),o=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=r(e,t);return!(n<0)&&(n==e.length-1?e.pop():o.call(e,n,1),--this.size,!0)}},function(t,e,n){var r=n(49);t.exports=function(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]}},function(t,e,n){var r=n(49);t.exports=function(t){return r(this.__data__,t)>-1}},function(t,e,n){var r=n(49);t.exports=function(t,e){var n=this.__data__,o=r(n,t);return o<0?(++this.size,n.push([t,e])):n[o][1]=e,this}},function(t,e,n){var r=n(48);t.exports=function(){this.__data__=new r,this.size=0}},function(t,e){t.exports=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}},function(t,e){t.exports=function(t){return this.__data__.get(t)}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e,n){var r=n(48),o=n(78),i=n(117),s=200;t.exports=function(t,e){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!o||a.length<s-1)return a.push([t,e]),this.size=++n.size,this;n=this.__data__=new i(a)}return n.set(t,e),this.size=n.size,this}},function(t,e,n){var r=n(115),o=n(183),i=n(47),s=n(116),a=/^\[object .+?Constructor\]$/,c=Function.prototype,u=Object.prototype,l=c.toString,h=u.hasOwnProperty,p=RegExp("^"+l.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!i(t)||o(t))&&(r(t)?p:a).test(s(t))}},function(t,e,n){var r,o=n(184),i=(r=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";t.exports=function(t){return!!i&&i in t}},function(t,e,n){var r=n(15)["__core-js_shared__"];t.exports=r},function(t,e){t.exports=function(t,e){return null==t?void 0:t[e]}},function(t,e,n){var r=n(187),o=n(48),i=n(78);t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||o),string:new r}}},function(t,e,n){var r=n(188),o=n(189),i=n(190),s=n(191),a=n(192);function c(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=s,c.prototype.set=a,t.exports=c},function(t,e,n){var r=n(50);t.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(t,e){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},function(t,e,n){var r=n(50),o="__lodash_hash_undefined__",i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(r){var n=e[t];return n===o?void 0:n}return i.call(e,t)?e[t]:void 0}},function(t,e,n){var r=n(50),o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return r?void 0!==e[t]:o.call(e,t)}},function(t,e,n){var r=n(50),o="__lodash_hash_undefined__";t.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r&&void 0===e?o:e,this}},function(t,e,n){var r=n(51);t.exports=function(t){var e=r(this,t).delete(t);return this.size-=e?1:0,e}},function(t,e){t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},function(t,e,n){var r=n(51);t.exports=function(t){return r(this,t).get(t)}},function(t,e,n){var r=n(51);t.exports=function(t){return r(this,t).has(t)}},function(t,e,n){var r=n(51);t.exports=function(t,e){var n=r(this,t),o=n.size;return n.set(t,e),this.size+=n.size==o?0:1,this}},function(t,e,n){var r=n(117),o=n(199),i=n(200);function s(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new r;++e<n;)this.add(t[e])}s.prototype.add=s.prototype.push=o,s.prototype.has=i,t.exports=s},function(t,e){var n="__lodash_hash_undefined__";t.exports=function(t){return this.__data__.set(t,n),this}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}},function(t,e){t.exports=function(t,e){return t.has(e)}},function(t,e,n){var r=n(76),o=n(204),i=n(114),s=n(118),a=n(205),c=n(206),u=1,l=2,h="[object Boolean]",p="[object Date]",d="[object Error]",f="[object Map]",_="[object Number]",m="[object RegExp]",v="[object Set]",g="[object String]",y="[object Symbol]",b="[object ArrayBuffer]",w="[object DataView]",E=r?r.prototype:void 0,O=E?E.valueOf:void 0;t.exports=function(t,e,n,r,E,x,T){switch(n){case w:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case b:return!(t.byteLength!=e.byteLength||!x(new o(t),new o(e)));case h:case p:case _:return i(+t,+e);case d:return t.name==e.name&&t.message==e.message;case m:case g:return t==e+"";case f:var A=a;case v:var S=r&u;if(A||(A=c),t.size!=e.size&&!S)return!1;var N=T.get(t);if(N)return N==e;r|=l,T.set(t,e);var C=s(A(t),A(e),r,E,x,T);return T.delete(t),C;case y:if(O)return O.call(t)==O.call(e)}return!1}},function(t,e,n){var r=n(15).Uint8Array;t.exports=r},function(t,e){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}},function(t,e){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}},function(t,e,n){var r=n(208),o=1,i=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,s,a,c){var u=n&o,l=r(t),h=l.length;if(h!=r(e).length&&!u)return!1;for(var p=h;p--;){var d=l[p];if(!(u?d in e:i.call(e,d)))return!1}var f=c.get(t);if(f&&c.get(e))return f==e;var _=!0;c.set(t,e),c.set(e,t);for(var m=u;++p<h;){var v=t[d=l[p]],g=e[d];if(s)var y=u?s(g,v,d,e,t,c):s(v,g,d,t,e,c);if(!(void 0===y?v===g||a(v,g,n,s,c):y)){_=!1;break}m||(m="constructor"==d)}if(_&&!m){var b=t.constructor,w=e.constructor;b!=w&&"constructor"in t&&"constructor"in e&&!("function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w)&&(_=!1)}return c.delete(t),c.delete(e),_}},function(t,e,n){var r=n(209),o=n(211),i=n(214);t.exports=function(t){return r(t,i,o)}},function(t,e,n){var r=n(210),o=n(79);t.exports=function(t,e,n){var i=e(t);return o(t)?i:r(i,n(t))}},function(t,e){t.exports=function(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}},function(t,e,n){var r=n(212),o=n(213),i=Object.prototype.propertyIsEnumerable,s=Object.getOwnPropertySymbols,a=s?function(t){return null==t?[]:(t=Object(t),r(s(t),(function(e){return i.call(t,e)})))}:o;t.exports=a},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,o=0,i=[];++n<r;){var s=t[n];e(s,n,t)&&(i[o++]=s)}return i}},function(t,e){t.exports=function(){return[]}},function(t,e,n){var r=n(215),o=n(224),i=n(228);t.exports=function(t){return i(t)?r(t):o(t)}},function(t,e,n){var r=n(216),o=n(217),i=n(79),s=n(119),a=n(220),c=n(121),u=Object.prototype.hasOwnProperty;t.exports=function(t,e){var n=i(t),l=!n&&o(t),h=!n&&!l&&s(t),p=!n&&!l&&!h&&c(t),d=n||l||h||p,f=d?r(t.length,String):[],_=f.length;for(var m in t)!e&&!u.call(t,m)||d&&("length"==m||h&&("offset"==m||"parent"==m)||p&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||a(m,_))||f.push(m);return f}},function(t,e){t.exports=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}},function(t,e,n){var r=n(218),o=n(38),i=Object.prototype,s=i.hasOwnProperty,a=i.propertyIsEnumerable,c=r(function(){return arguments}())?r:function(t){return o(t)&&s.call(t,"callee")&&!a.call(t,"callee")};t.exports=c},function(t,e,n){var r=n(37),o=n(38),i="[object Arguments]";t.exports=function(t){return o(t)&&r(t)==i}},function(t,e){t.exports=function(){return!1}},function(t,e){var n=9007199254740991,r=/^(?:0|[1-9]\d*)$/;t.exports=function(t,e){var o=typeof t;return!!(e=null==e?n:e)&&("number"==o||"symbol"!=o&&r.test(t))&&t>-1&&t%1==0&&t<e}},function(t,e,n){var r=n(37),o=n(122),i=n(38),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,t.exports=function(t){return i(t)&&o(t.length)&&!!s[r(t)]}},function(t,e){t.exports=function(t){return function(e){return t(e)}}},function(t,e,n){(function(t){var r=n(112),o=e&&!e.nodeType&&e,i=o&&"object"==typeof t&&t&&!t.nodeType&&t,s=i&&i.exports===o&&r.process,a=function(){try{var t=i&&i.require&&i.require("util").types;return t||s&&s.binding&&s.binding("util")}catch(t){}}();t.exports=a}).call(this,n(120)(t))},function(t,e,n){var r=n(225),o=n(226),i=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return o(t);var e=[];for(var n in Object(t))i.call(t,n)&&"constructor"!=n&&e.push(n);return e}},function(t,e){var n=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||n)}},function(t,e,n){var r=n(227)(Object.keys,Object);t.exports=r},function(t,e){t.exports=function(t,e){return function(n){return t(e(n))}}},function(t,e,n){var r=n(115),o=n(122);t.exports=function(t){return null!=t&&o(t.length)&&!r(t)}},function(t,e,n){var r=n(230),o=n(78),i=n(231),s=n(232),a=n(233),c=n(37),u=n(116),l=u(r),h=u(o),p=u(i),d=u(s),f=u(a),_=c;(r&&"[object DataView]"!=_(new r(new ArrayBuffer(1)))||o&&"[object Map]"!=_(new o)||i&&"[object Promise]"!=_(i.resolve())||s&&"[object Set]"!=_(new s)||a&&"[object WeakMap]"!=_(new a))&&(_=function(t){var e=c(t),n="[object Object]"==e?t.constructor:void 0,r=n?u(n):"";if(r)switch(r){case l:return"[object DataView]";case h:return"[object Map]";case p:return"[object Promise]";case d:return"[object Set]";case f:return"[object WeakMap]"}return e}),t.exports=_},function(t,e,n){var r=n(31)(n(15),"DataView");t.exports=r},function(t,e,n){var r=n(31)(n(15),"Promise");t.exports=r},function(t,e,n){var r=n(31)(n(15),"Set");t.exports=r},function(t,e,n){var r=n(31)(n(15),"WeakMap");t.exports=r},function(t,e,n){n(235)("Uint8",(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){"use strict";var r=n(8),o=n(1),i=n(9),s=n(236),a=n(52),c=n(98),u=n(35),l=n(26),h=n(11),p=n(6),d=n(100),f=n(237),_=n(40),m=n(5),v=n(45),g=n(7),y=n(41),b=n(34),w=n(43).f,E=n(239),O=n(240).forEach,x=n(67),T=n(10),A=n(42),S=n(16),N=n(124),C=S.get,I=S.set,R=T.f,k=A.f,L=Math.round,j=o.RangeError,P=c.ArrayBuffer,M=c.DataView,D=a.NATIVE_ARRAY_BUFFER_VIEWS,U=a.TYPED_ARRAY_TAG,F=a.TypedArray,B=a.TypedArrayPrototype,z=a.aTypedArrayConstructor,H=a.isTypedArray,q=function(t,e){for(var n=0,r=e.length,o=new(z(t))(r);r>n;)o[n]=e[n++];return o},W=function(t,e){R(t,e,{get:function(){return C(this)[e]}})},V=function(t){var e;return t instanceof P||"ArrayBuffer"==(e=v(t))||"SharedArrayBuffer"==e},G=function(t,e){return H(t)&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},K=function(t,e){return G(t,e=_(e,!0))?l(2,t[e]):k(t,e)},Y=function(t,e,n){return!(G(t,e=_(e,!0))&&g(n)&&m(n,"value"))||m(n,"get")||m(n,"set")||n.configurable||m(n,"writable")&&!n.writable||m(n,"enumerable")&&!n.enumerable?R(t,e,n):(t[e]=n.value,t)};i?(D||(A.f=K,T.f=Y,W(B,"buffer"),W(B,"byteOffset"),W(B,"byteLength"),W(B,"length")),r({target:"Object",stat:!0,forced:!D},{getOwnPropertyDescriptor:K,defineProperty:Y}),t.exports=function(t,e,n){var i=t.match(/\d+$/)[0]/8,a=t+(n?"Clamped":"")+"Array",c="get"+t,l="set"+t,_=o[a],m=_,v=m&&m.prototype,T={},A=function(t,e){R(t,e,{get:function(){return function(t,e){var n=C(t);return n.view[c](e*i+n.byteOffset,!0)}(this,e)},set:function(t){return function(t,e,r){var o=C(t);n&&(r=(r=L(r))<0?0:r>255?255:255&r),o.view[l](e*i+o.byteOffset,r,!0)}(this,e,t)},enumerable:!0})};D?s&&(m=e((function(t,e,n,r){return u(t,m,a),N(g(e)?V(e)?void 0!==r?new _(e,f(n,i),r):void 0!==n?new _(e,f(n,i)):new _(e):H(e)?q(m,e):E.call(m,e):new _(d(e)),t,m)})),b&&b(m,F),O(w(_),(function(t){t in m||h(m,t,_[t])})),m.prototype=v):(m=e((function(t,e,n,r){u(t,m,a);var o,s,c,l=0,h=0;if(g(e)){if(!V(e))return H(e)?q(m,e):E.call(m,e);o=e,h=f(n,i);var _=e.byteLength;if(void 0===r){if(_%i)throw j("Wrong length");if((s=_-h)<0)throw j("Wrong length")}else if((s=p(r)*i)+h>_)throw j("Wrong length");c=s/i}else c=d(e),o=new P(s=c*i);for(I(t,{buffer:o,byteOffset:h,byteLength:s,length:c,view:new M(o)});l<c;)A(t,l++)})),b&&b(m,F),v=m.prototype=y(B)),v.constructor!==m&&h(v,"constructor",m),U&&h(v,U,a),T[a]=m,r({global:!0,forced:m!=_,sham:!D},T),"BYTES_PER_ELEMENT"in m||h(m,"BYTES_PER_ELEMENT",i),"BYTES_PER_ELEMENT"in v||h(v,"BYTES_PER_ELEMENT",i),x(a)}):t.exports=function(){}},function(t,e,n){var r=n(1),o=n(3),i=n(102),s=n(52).NATIVE_ARRAY_BUFFER_VIEWS,a=r.ArrayBuffer,c=r.Int8Array;t.exports=!s||!o((function(){c(1)}))||!o((function(){new c(-1)}))||!i((function(t){new c,new c(null),new c(1.5),new c(t)}),!0)||o((function(){return 1!==new c(new a(2),1,void 0).length}))},function(t,e,n){var r=n(238);t.exports=function(t,e){var n=r(t);if(n%e)throw RangeError("Wrong offset");return n}},function(t,e,n){var r=n(22);t.exports=function(t){var e=r(t);if(e<0)throw RangeError("The argument can't be less than 0");return e}},function(t,e,n){var r=n(17),o=n(6),i=n(36),s=n(68),a=n(23),c=n(52).aTypedArrayConstructor;t.exports=function(t){var e,n,u,l,h,p,d=r(t),f=arguments.length,_=f>1?arguments[1]:void 0,m=void 0!==_,v=i(d);if(null!=v&&!s(v))for(p=(h=v.call(d)).next,d=[];!(l=p.call(h)).done;)d.push(l.value);for(m&&f>2&&(_=a(_,arguments[2],2)),n=o(d.length),u=new(c(this))(n),e=0;n>e;e++)u[e]=m?_(d[e],e):d[e];return u}},function(t,e,n){var r=n(23),o=n(55),i=n(17),s=n(6),a=n(123),c=[].push,u=function(t){var e=1==t,n=2==t,u=3==t,l=4==t,h=6==t,p=5==t||h;return function(d,f,_,m){for(var v,g,y=i(d),b=o(y),w=r(f,_,3),E=s(b.length),O=0,x=m||a,T=e?x(d,E):n?x(d,0):void 0;E>O;O++)if((p||O in b)&&(g=w(v=b[O],O,y),t))if(e)T[O]=g;else if(g)switch(t){case 3:return!0;case 5:return v;case 6:return O;case 2:c.call(T,v)}else if(l)return!1;return h?-1:u||l?l:T}};t.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6)}},function(t,e,n){"use strict";var r=n(1),o=n(52),i=n(3),s=r.Int8Array,a=o.aTypedArray,c=o.exportTypedArrayMethod,u=[].toLocaleString,l=[].slice,h=!!s&&i((function(){u.call(new s(1))}));c("toLocaleString",(function(){return u.apply(h?l.call(a(this)):a(this),arguments)}),i((function(){return[1,2].toLocaleString()!=new s([1,2]).toLocaleString()}))||!i((function(){s.prototype.toLocaleString.call([1,2])})))},function(t,e,n){"use strict";n(243);var r,o=n(8),i=n(9),s=n(125),a=n(1),c=n(85),u=n(14),l=n(35),h=n(5),p=n(96),d=n(244),f=n(73).codeAt,_=n(246),m=n(28),v=n(247),g=n(16),y=a.URL,b=v.URLSearchParams,w=v.getState,E=g.set,O=g.getterFor("URL"),x=Math.floor,T=Math.pow,A=/[A-Za-z]/,S=/[\d+\-.A-Za-z]/,N=/\d/,C=/^(0x|0X)/,I=/^[0-7]+$/,R=/^\d+$/,k=/^[\dA-Fa-f]+$/,L=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,j=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,P=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,M=/[\u0009\u000A\u000D]/g,D=function(t,e){var n,r,o;if("["==e.charAt(0)){if("]"!=e.charAt(e.length-1))return"Invalid host";if(!(n=F(e.slice(1,-1))))return"Invalid host";t.host=n}else if(K(t)){if(e=_(e),L.test(e))return"Invalid host";if(null===(n=U(e)))return"Invalid host";t.host=n}else{if(j.test(e))return"Invalid host";for(n="",r=d(e),o=0;o<r.length;o++)n+=V(r[o],z);t.host=n}},U=function(t){var e,n,r,o,i,s,a,c=t.split(".");if(c.length&&""==c[c.length-1]&&c.pop(),(e=c.length)>4)return t;for(n=[],r=0;r<e;r++){if(""==(o=c[r]))return t;if(i=10,o.length>1&&"0"==o.charAt(0)&&(i=C.test(o)?16:8,o=o.slice(8==i?1:2)),""===o)s=0;else{if(!(10==i?R:8==i?I:k).test(o))return t;s=parseInt(o,i)}n.push(s)}for(r=0;r<e;r++)if(s=n[r],r==e-1){if(s>=T(256,5-e))return null}else if(s>255)return null;for(a=n.pop(),r=0;r<n.length;r++)a+=n[r]*T(256,3-r);return a},F=function(t){var e,n,r,o,i,s,a,c=[0,0,0,0,0,0,0,0],u=0,l=null,h=0,p=function(){return t.charAt(h)};if(":"==p()){if(":"!=t.charAt(1))return;h+=2,l=++u}for(;p();){if(8==u)return;if(":"!=p()){for(e=n=0;n<4&&k.test(p());)e=16*e+parseInt(p(),16),h++,n++;if("."==p()){if(0==n)return;if(h-=n,u>6)return;for(r=0;p();){if(o=null,r>0){if(!("."==p()&&r<4))return;h++}if(!N.test(p()))return;for(;N.test(p());){if(i=parseInt(p(),10),null===o)o=i;else{if(0==o)return;o=10*o+i}if(o>255)return;h++}c[u]=256*c[u]+o,2!=++r&&4!=r||u++}if(4!=r)return;break}if(":"==p()){if(h++,!p())return}else if(p())return;c[u++]=e}else{if(null!==l)return;h++,l=++u}}if(null!==l)for(s=u-l,u=7;0!=u&&s>0;)a=c[u],c[u--]=c[l+s-1],c[l+--s]=a;else if(8!=u)return;return c},B=function(t){var e,n,r,o;if("number"==typeof t){for(e=[],n=0;n<4;n++)e.unshift(t%256),t=x(t/256);return e.join(".")}if("object"==typeof t){for(e="",r=function(t){for(var e=null,n=1,r=null,o=0,i=0;i<8;i++)0!==t[i]?(o>n&&(e=r,n=o),r=null,o=0):(null===r&&(r=i),++o);return o>n&&(e=r,n=o),e}(t),n=0;n<8;n++)o&&0===t[n]||(o&&(o=!1),r===n?(e+=n?":":"::",o=!0):(e+=t[n].toString(16),n<7&&(e+=":")));return"["+e+"]"}return t},z={},H=p({},z,{" ":1,'"':1,"<":1,">":1,"`":1}),q=p({},H,{"#":1,"?":1,"{":1,"}":1}),W=p({},q,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),V=function(t,e){var n=f(t,0);return n>32&&n<127&&!h(e,t)?t:encodeURIComponent(t)},G={ftp:21,file:null,http:80,https:443,ws:80,wss:443},K=function(t){return h(G,t.scheme)},Y=function(t){return""!=t.username||""!=t.password},X=function(t){return!t.host||t.cannotBeABaseURL||"file"==t.scheme},J=function(t,e){var n;return 2==t.length&&A.test(t.charAt(0))&&(":"==(n=t.charAt(1))||!e&&"|"==n)},$=function(t){var e;return t.length>1&&J(t.slice(0,2))&&(2==t.length||"/"===(e=t.charAt(2))||"\\"===e||"?"===e||"#"===e)},Z=function(t){var e=t.path,n=e.length;!n||"file"==t.scheme&&1==n&&J(e[0],!0)||e.pop()},Q=function(t){return"."===t||"%2e"===t.toLowerCase()},tt={},et={},nt={},rt={},ot={},it={},st={},at={},ct={},ut={},lt={},ht={},pt={},dt={},ft={},_t={},mt={},vt={},gt={},yt={},bt={},wt=function(t,e,n,o){var i,s,a,c,u,l=n||tt,p=0,f="",_=!1,m=!1,v=!1;for(n||(t.scheme="",t.username="",t.password="",t.host=null,t.port=null,t.path=[],t.query=null,t.fragment=null,t.cannotBeABaseURL=!1,e=e.replace(P,"")),e=e.replace(M,""),i=d(e);p<=i.length;){switch(s=i[p],l){case tt:if(!s||!A.test(s)){if(n)return"Invalid scheme";l=nt;continue}f+=s.toLowerCase(),l=et;break;case et:if(s&&(S.test(s)||"+"==s||"-"==s||"."==s))f+=s.toLowerCase();else{if(":"!=s){if(n)return"Invalid scheme";f="",l=nt,p=0;continue}if(n&&(K(t)!=h(G,f)||"file"==f&&(Y(t)||null!==t.port)||"file"==t.scheme&&!t.host))return;if(t.scheme=f,n)return void(K(t)&&G[t.scheme]==t.port&&(t.port=null));f="","file"==t.scheme?l=dt:K(t)&&o&&o.scheme==t.scheme?l=rt:K(t)?l=at:"/"==i[p+1]?(l=ot,p++):(t.cannotBeABaseURL=!0,t.path.push(""),l=gt)}break;case nt:if(!o||o.cannotBeABaseURL&&"#"!=s)return"Invalid scheme";if(o.cannotBeABaseURL&&"#"==s){t.scheme=o.scheme,t.path=o.path.slice(),t.query=o.query,t.fragment="",t.cannotBeABaseURL=!0,l=bt;break}l="file"==o.scheme?dt:it;continue;case rt:if("/"!=s||"/"!=i[p+1]){l=it;continue}l=ct,p++;break;case ot:if("/"==s){l=ut;break}l=vt;continue;case it:if(t.scheme=o.scheme,s==r)t.username=o.username,t.password=o.password,t.host=o.host,t.port=o.port,t.path=o.path.slice(),t.query=o.query;else if("/"==s||"\\"==s&&K(t))l=st;else if("?"==s)t.username=o.username,t.password=o.password,t.host=o.host,t.port=o.port,t.path=o.path.slice(),t.query="",l=yt;else{if("#"!=s){t.username=o.username,t.password=o.password,t.host=o.host,t.port=o.port,t.path=o.path.slice(),t.path.pop(),l=vt;continue}t.username=o.username,t.password=o.password,t.host=o.host,t.port=o.port,t.path=o.path.slice(),t.query=o.query,t.fragment="",l=bt}break;case st:if(!K(t)||"/"!=s&&"\\"!=s){if("/"!=s){t.username=o.username,t.password=o.password,t.host=o.host,t.port=o.port,l=vt;continue}l=ut}else l=ct;break;case at:if(l=ct,"/"!=s||"/"!=f.charAt(p+1))continue;p++;break;case ct:if("/"!=s&&"\\"!=s){l=ut;continue}break;case ut:if("@"==s){_&&(f="%40"+f),_=!0,a=d(f);for(var g=0;g<a.length;g++){var y=a[g];if(":"!=y||v){var b=V(y,W);v?t.password+=b:t.username+=b}else v=!0}f=""}else if(s==r||"/"==s||"?"==s||"#"==s||"\\"==s&&K(t)){if(_&&""==f)return"Invalid authority";p-=d(f).length+1,f="",l=lt}else f+=s;break;case lt:case ht:if(n&&"file"==t.scheme){l=_t;continue}if(":"!=s||m){if(s==r||"/"==s||"?"==s||"#"==s||"\\"==s&&K(t)){if(K(t)&&""==f)return"Invalid host";if(n&&""==f&&(Y(t)||null!==t.port))return;if(c=D(t,f))return c;if(f="",l=mt,n)return;continue}"["==s?m=!0:"]"==s&&(m=!1),f+=s}else{if(""==f)return"Invalid host";if(c=D(t,f))return c;if(f="",l=pt,n==ht)return}break;case pt:if(!N.test(s)){if(s==r||"/"==s||"?"==s||"#"==s||"\\"==s&&K(t)||n){if(""!=f){var w=parseInt(f,10);if(w>65535)return"Invalid port";t.port=K(t)&&w===G[t.scheme]?null:w,f=""}if(n)return;l=mt;continue}return"Invalid port"}f+=s;break;case dt:if(t.scheme="file","/"==s||"\\"==s)l=ft;else{if(!o||"file"!=o.scheme){l=vt;continue}if(s==r)t.host=o.host,t.path=o.path.slice(),t.query=o.query;else if("?"==s)t.host=o.host,t.path=o.path.slice(),t.query="",l=yt;else{if("#"!=s){$(i.slice(p).join(""))||(t.host=o.host,t.path=o.path.slice(),Z(t)),l=vt;continue}t.host=o.host,t.path=o.path.slice(),t.query=o.query,t.fragment="",l=bt}}break;case ft:if("/"==s||"\\"==s){l=_t;break}o&&"file"==o.scheme&&!$(i.slice(p).join(""))&&(J(o.path[0],!0)?t.path.push(o.path[0]):t.host=o.host),l=vt;continue;case _t:if(s==r||"/"==s||"\\"==s||"?"==s||"#"==s){if(!n&&J(f))l=vt;else if(""==f){if(t.host="",n)return;l=mt}else{if(c=D(t,f))return c;if("localhost"==t.host&&(t.host=""),n)return;f="",l=mt}continue}f+=s;break;case mt:if(K(t)){if(l=vt,"/"!=s&&"\\"!=s)continue}else if(n||"?"!=s)if(n||"#"!=s){if(s!=r&&(l=vt,"/"!=s))continue}else t.fragment="",l=bt;else t.query="",l=yt;break;case vt:if(s==r||"/"==s||"\\"==s&&K(t)||!n&&("?"==s||"#"==s)){if(".."===(u=(u=f).toLowerCase())||"%2e."===u||".%2e"===u||"%2e%2e"===u?(Z(t),"/"==s||"\\"==s&&K(t)||t.path.push("")):Q(f)?"/"==s||"\\"==s&&K(t)||t.path.push(""):("file"==t.scheme&&!t.path.length&&J(f)&&(t.host&&(t.host=""),f=f.charAt(0)+":"),t.path.push(f)),f="","file"==t.scheme&&(s==r||"?"==s||"#"==s))for(;t.path.length>1&&""===t.path[0];)t.path.shift();"?"==s?(t.query="",l=yt):"#"==s&&(t.fragment="",l=bt)}else f+=V(s,q);break;case gt:"?"==s?(t.query="",l=yt):"#"==s?(t.fragment="",l=bt):s!=r&&(t.path[0]+=V(s,z));break;case yt:n||"#"!=s?s!=r&&("'"==s&&K(t)?t.query+="%27":t.query+="#"==s?"%23":V(s,z)):(t.fragment="",l=bt);break;case bt:s!=r&&(t.fragment+=V(s,H))}p++}},Et=function(t){var e,n,r=l(this,Et,"URL"),o=arguments.length>1?arguments[1]:void 0,s=String(t),a=E(r,{type:"URL"});if(void 0!==o)if(o instanceof Et)e=O(o);else if(n=wt(e={},String(o)))throw TypeError(n);if(n=wt(a,s,null,e))throw TypeError(n);var c=a.searchParams=new b,u=w(c);u.updateSearchParams(a.query),u.updateURL=function(){a.query=String(c)||null},i||(r.href=xt.call(r),r.origin=Tt.call(r),r.protocol=At.call(r),r.username=St.call(r),r.password=Nt.call(r),r.host=Ct.call(r),r.hostname=It.call(r),r.port=Rt.call(r),r.pathname=kt.call(r),r.search=Lt.call(r),r.searchParams=jt.call(r),r.hash=Pt.call(r))},Ot=Et.prototype,xt=function(){var t=O(this),e=t.scheme,n=t.username,r=t.password,o=t.host,i=t.port,s=t.path,a=t.query,c=t.fragment,u=e+":";return null!==o?(u+="//",Y(t)&&(u+=n+(r?":"+r:"")+"@"),u+=B(o),null!==i&&(u+=":"+i)):"file"==e&&(u+="//"),u+=t.cannotBeABaseURL?s[0]:s.length?"/"+s.join("/"):"",null!==a&&(u+="?"+a),null!==c&&(u+="#"+c),u},Tt=function(){var t=O(this),e=t.scheme,n=t.port;if("blob"==e)try{return new URL(e.path[0]).origin}catch(t){return"null"}return"file"!=e&&K(t)?e+"://"+B(t.host)+(null!==n?":"+n:""):"null"},At=function(){return O(this).scheme+":"},St=function(){return O(this).username},Nt=function(){return O(this).password},Ct=function(){var t=O(this),e=t.host,n=t.port;return null===e?"":null===n?B(e):B(e)+":"+n},It=function(){var t=O(this).host;return null===t?"":B(t)},Rt=function(){var t=O(this).port;return null===t?"":String(t)},kt=function(){var t=O(this),e=t.path;return t.cannotBeABaseURL?e[0]:e.length?"/"+e.join("/"):""},Lt=function(){var t=O(this).query;return t?"?"+t:""},jt=function(){return O(this).searchParams},Pt=function(){var t=O(this).fragment;return t?"#"+t:""},Mt=function(t,e){return{get:t,set:e,configurable:!0,enumerable:!0}};if(i&&c(Ot,{href:Mt(xt,(function(t){var e=O(this),n=String(t),r=wt(e,n);if(r)throw TypeError(r);w(e.searchParams).updateSearchParams(e.query)})),origin:Mt(Tt),protocol:Mt(At,(function(t){var e=O(this);wt(e,String(t)+":",tt)})),username:Mt(St,(function(t){var e=O(this),n=d(String(t));if(!X(e)){e.username="";for(var r=0;r<n.length;r++)e.username+=V(n[r],W)}})),password:Mt(Nt,(function(t){var e=O(this),n=d(String(t));if(!X(e)){e.password="";for(var r=0;r<n.length;r++)e.password+=V(n[r],W)}})),host:Mt(Ct,(function(t){var e=O(this);e.cannotBeABaseURL||wt(e,String(t),lt)})),hostname:Mt(It,(function(t){var e=O(this);e.cannotBeABaseURL||wt(e,String(t),ht)})),port:Mt(Rt,(function(t){var e=O(this);X(e)||(""==(t=String(t))?e.port=null:wt(e,t,pt))})),pathname:Mt(kt,(function(t){var e=O(this);e.cannotBeABaseURL||(e.path=[],wt(e,t+"",mt))})),search:Mt(Lt,(function(t){var e=O(this);""==(t=String(t))?e.query=null:("?"==t.charAt(0)&&(t=t.slice(1)),e.query="",wt(e,t,yt)),w(e.searchParams).updateSearchParams(e.query)})),searchParams:Mt(jt),hash:Mt(Pt,(function(t){var e=O(this);""!=(t=String(t))?("#"==t.charAt(0)&&(t=t.slice(1)),e.fragment="",wt(e,t,bt)):e.fragment=null}))}),u(Ot,"toJSON",(function(){return xt.call(this)}),{enumerable:!0}),u(Ot,"toString",(function(){return xt.call(this)}),{enumerable:!0}),y){var Dt=y.createObjectURL,Ut=y.revokeObjectURL;Dt&&u(Et,"createObjectURL",(function(t){return Dt.apply(y,arguments)})),Ut&&u(Et,"revokeObjectURL",(function(t){return Ut.apply(y,arguments)}))}m(Et,"URL"),o({global:!0,forced:!s,sham:!i},{URL:Et})},function(t,e,n){"use strict";var r=n(73).charAt,o=n(16),i=n(90),s=o.set,a=o.getterFor("String Iterator");i(String,"String",(function(t){s(this,{type:"String Iterator",string:String(t),index:0})}),(function(){var t,e=a(this),n=e.string,o=e.index;return o>=n.length?{value:void 0,done:!0}:(t=r(n,o),e.index+=t.length,{value:t,done:!1})}))},function(t,e,n){"use strict";var r=n(23),o=n(17),i=n(101),s=n(68),a=n(6),c=n(245),u=n(36);t.exports=function(t){var e,n,l,h,p,d,f=o(t),_="function"==typeof this?this:Array,m=arguments.length,v=m>1?arguments[1]:void 0,g=void 0!==v,y=u(f),b=0;if(g&&(v=r(v,m>2?arguments[2]:void 0,2)),null==y||_==Array&&s(y))for(n=new _(e=a(f.length));e>b;b++)d=g?v(f[b],b):f[b],c(n,b,d);else for(p=(h=y.call(f)).next,n=new _;!(l=p.call(h)).done;b++)d=g?i(h,v,[l.value,b],!0):l.value,c(n,b,d);return n.length=b,n}},function(t,e,n){"use strict";var r=n(40),o=n(10),i=n(26);t.exports=function(t,e,n){var s=r(e);s in t?o.f(t,s,i(0,n)):t[s]=n}},function(t,e,n){"use strict";var r=/[^\0-\u007E]/,o=/[.\u3002\uFF0E\uFF61]/g,i="Overflow: input needs wider integers to process",s=Math.floor,a=String.fromCharCode,c=function(t){return t+22+75*(t<26)},u=function(t,e,n){var r=0;for(t=n?s(t/700):t>>1,t+=s(t/e);t>455;r+=36)t=s(t/35);return s(r+36*t/(t+38))},l=function(t){var e,n,r=[],o=(t=function(t){for(var e=[],n=0,r=t.length;n<r;){var o=t.charCodeAt(n++);if(o>=55296&&o<=56319&&n<r){var i=t.charCodeAt(n++);56320==(64512&i)?e.push(((1023&o)<<10)+(1023&i)+65536):(e.push(o),n--)}else e.push(o)}return e}(t)).length,l=128,h=0,p=72;for(e=0;e<t.length;e++)(n=t[e])<128&&r.push(a(n));var d=r.length,f=d;for(d&&r.push("-");f<o;){var _=2147483647;for(e=0;e<t.length;e++)(n=t[e])>=l&&n<_&&(_=n);var m=f+1;if(_-l>s((2147483647-h)/m))throw RangeError(i);for(h+=(_-l)*m,l=_,e=0;e<t.length;e++){if((n=t[e])<l&&++h>2147483647)throw RangeError(i);if(n==l){for(var v=h,g=36;;g+=36){var y=g<=p?1:g>=p+26?26:g-p;if(v<y)break;var b=v-y,w=36-y;r.push(a(c(y+b%w))),v=s(b/w)}r.push(a(c(v))),p=u(h,m,f==d),h=0,++f}}++h,++l}return r.join("")};t.exports=function(t){var e,n,i=[],s=t.toLowerCase().replace(o,".").split(".");for(e=0;e<s.length;e++)n=s[e],i.push(r.test(n)?"xn--"+l(n):n);return i.join(".")}},function(t,e,n){"use strict";n(13);var r=n(8),o=n(27),i=n(125),s=n(14),a=n(65),c=n(28),u=n(94),l=n(16),h=n(35),p=n(5),d=n(23),f=n(45),_=n(4),m=n(7),v=n(41),g=n(26),y=n(248),b=n(36),w=n(2),E=o("fetch"),O=o("Headers"),x=w("iterator"),T=l.set,A=l.getterFor("URLSearchParams"),S=l.getterFor("URLSearchParamsIterator"),N=/\+/g,C=Array(4),I=function(t){return C[t-1]||(C[t-1]=RegExp("((?:%[\\da-f]{2}){"+t+"})","gi"))},R=function(t){try{return decodeURIComponent(t)}catch(e){return t}},k=function(t){var e=t.replace(N," "),n=4;try{return decodeURIComponent(e)}catch(t){for(;n;)e=e.replace(I(n--),R);return e}},L=/[!'()~]|%20/g,j={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},P=function(t){return j[t]},M=function(t){return encodeURIComponent(t).replace(L,P)},D=function(t,e){if(e)for(var n,r,o=e.split("&"),i=0;i<o.length;)(n=o[i++]).length&&(r=n.split("="),t.push({key:k(r.shift()),value:k(r.join("="))}))},U=function(t){this.entries.length=0,D(this.entries,t)},F=function(t,e){if(t<e)throw TypeError("Not enough arguments")},B=u((function(t,e){T(this,{type:"URLSearchParamsIterator",iterator:y(A(t).entries),kind:e})}),"Iterator",(function(){var t=S(this),e=t.kind,n=t.iterator.next(),r=n.value;return n.done||(n.value="keys"===e?r.key:"values"===e?r.value:[r.key,r.value]),n})),z=function(){h(this,z,"URLSearchParams");var t,e,n,r,o,i,s,a,c,u=arguments.length>0?arguments[0]:void 0,l=this,d=[];if(T(l,{type:"URLSearchParams",entries:d,updateURL:function(){},updateSearchParams:U}),void 0!==u)if(m(u))if("function"==typeof(t=b(u)))for(n=(e=t.call(u)).next;!(r=n.call(e)).done;){if((s=(i=(o=y(_(r.value))).next).call(o)).done||(a=i.call(o)).done||!i.call(o).done)throw TypeError("Expected sequence with length 2");d.push({key:s.value+"",value:a.value+""})}else for(c in u)p(u,c)&&d.push({key:c,value:u[c]+""});else D(d,"string"==typeof u?"?"===u.charAt(0)?u.slice(1):u:u+"")},H=z.prototype;a(H,{append:function(t,e){F(arguments.length,2);var n=A(this);n.entries.push({key:t+"",value:e+""}),n.updateURL()},delete:function(t){F(arguments.length,1);for(var e=A(this),n=e.entries,r=t+"",o=0;o<n.length;)n[o].key===r?n.splice(o,1):o++;e.updateURL()},get:function(t){F(arguments.length,1);for(var e=A(this).entries,n=t+"",r=0;r<e.length;r++)if(e[r].key===n)return e[r].value;return null},getAll:function(t){F(arguments.length,1);for(var e=A(this).entries,n=t+"",r=[],o=0;o<e.length;o++)e[o].key===n&&r.push(e[o].value);return r},has:function(t){F(arguments.length,1);for(var e=A(this).entries,n=t+"",r=0;r<e.length;)if(e[r++].key===n)return!0;return!1},set:function(t,e){F(arguments.length,1);for(var n,r=A(this),o=r.entries,i=!1,s=t+"",a=e+"",c=0;c<o.length;c++)(n=o[c]).key===s&&(i?o.splice(c--,1):(i=!0,n.value=a));i||o.push({key:s,value:a}),r.updateURL()},sort:function(){var t,e,n,r=A(this),o=r.entries,i=o.slice();for(o.length=0,n=0;n<i.length;n++){for(t=i[n],e=0;e<n;e++)if(o[e].key>t.key){o.splice(e,0,t);break}e===n&&o.push(t)}r.updateURL()},forEach:function(t){for(var e,n=A(this).entries,r=d(t,arguments.length>1?arguments[1]:void 0,3),o=0;o<n.length;)r((e=n[o++]).value,e.key,this)},keys:function(){return new B(this,"keys")},values:function(){return new B(this,"values")},entries:function(){return new B(this,"entries")}},{enumerable:!0}),s(H,x,H.entries),s(H,"toString",(function(){for(var t,e=A(this).entries,n=[],r=0;r<e.length;)t=e[r++],n.push(M(t.key)+"="+M(t.value));return n.join("&")}),{enumerable:!0}),c(z,"URLSearchParams"),r({global:!0,forced:!i},{URLSearchParams:z}),i||"function"!=typeof E||"function"!=typeof O||r({global:!0,enumerable:!0,forced:!0},{fetch:function(t){var e,n,r,o=[t];return arguments.length>1&&(e=arguments[1],m(e)&&(n=e.body,"URLSearchParams"===f(n)&&((r=e.headers?new O(e.headers):new O).has("content-type")||r.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),e=v(e,{body:g(0,String(n)),headers:g(0,r)}))),o.push(e)),E.apply(this,o)}}),t.exports={URLSearchParams:z,getState:A}},function(t,e,n){var r=n(4),o=n(36);t.exports=function(t){var e=o(t);if("function"!=typeof e)throw TypeError(String(t)+" is not iterable");return r(e.call(t))}},function(t,e,n){(function(t,e){(function(){"use strict";var n,r="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},o="undefined"!=typeof window&&window===this?this:void 0!==t&&null!=t?t:this;function i(){i=function(){},o.Symbol||(o.Symbol=c)}var s,a,c=(s=0,function(t){return"jscomp_symbol_"+(t||"")+s++});function u(){i();var t=o.Symbol.iterator;t||(t=o.Symbol.iterator=o.Symbol("iterator")),"function"!=typeof Array.prototype[t]&&r(Array.prototype,t,{configurable:!0,writable:!0,value:function(){return l(this)}}),u=function(){}}function l(t){var e=0;return function(t){return u(),(t={next:t})[o.Symbol.iterator]=function(){return this},t}((function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}))}function h(t){u();var e=t[Symbol.iterator];return e?e.call(t):l(t)}if("function"==typeof Object.setPrototypeOf)a=Object.setPrototypeOf;else{var p;t:{var d={};try{d.__proto__={Pa:!0},p=d.Pa;break t}catch(s){}p=!1}a=p?function(t,e){if(t.__proto__=e,t.__proto__!==e)throw new TypeError(t+" is not extensible");return t}:null}var f=a;function _(){this.f=!1,this.b=null,this.fa=void 0,this.a=1,this.G=0,this.c=null}function m(t){if(t.f)throw new TypeError("Generator is already running");t.f=!0}function v(t,e){t.c={Ra:e,Va:!0},t.a=t.G}function g(t,e){return t.a=3,{value:e}}function y(t){this.a=new _,this.b=t}function b(t,e,n,r){try{var o=e.call(t.a.b,n);if(!(o instanceof Object))throw new TypeError("Iterator result "+o+" is not an object");if(!o.done)return t.a.f=!1,o;var i=o.value}catch(e){return t.a.b=null,v(t.a,e),w(t)}return t.a.b=null,r.call(t.a,i),w(t)}function w(t){for(;t.a.a;)try{var e=t.b(t.a);if(e)return t.a.f=!1,{value:e.value,done:!1}}catch(e){t.a.fa=void 0,v(t.a,e)}if(t.a.f=!1,t.a.c){if(e=t.a.c,t.a.c=null,e.Va)throw e.Ra;return{value:e.return,done:!0}}return{value:void 0,done:!0}}function E(t){this.next=function(e){return m(t.a),t.a.b?e=b(t,t.a.b.next,e,t.a.m):(t.a.m(e),e=w(t)),e},this.throw=function(e){return m(t.a),t.a.b?e=b(t,t.a.b.throw,e,t.a.m):(v(t.a,e),e=w(t)),e},this.return=function(e){return function(t,e){m(t.a);var n=t.a.b;return n?b(t,"return"in n?n.return:function(t){return{value:t,done:!0}},e,t.a.return):(t.a.return(e),w(t))}(t,e)},u(),this[Symbol.iterator]=function(){return this}}function O(t,e){return e=new E(new y(e)),f&&f(e,t.prototype),e}_.prototype.m=function(t){this.fa=t},_.prototype.return=function(t){this.c={return:t},this.a=this.G},function(){if(!function(){var t=document.createEvent("Event");return t.initEvent("foo",!0,!0),t.preventDefault(),t.defaultPrevented}()){var t=Event.prototype.preventDefault;Event.prototype.preventDefault=function(){this.cancelable&&(t.call(this),Object.defineProperty(this,"defaultPrevented",{get:function(){return!0},configurable:!0}))}}var e=/Trident/.test(navigator.userAgent);if((!window.CustomEvent||e&&"function"!=typeof window.CustomEvent)&&(window.CustomEvent=function(t,e){e=e||{};var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!!e.bubbles,!!e.cancelable,e.detail),n},window.CustomEvent.prototype=window.Event.prototype),!window.Event||e&&"function"!=typeof window.Event){var n=window.Event;if(window.Event=function(t,e){e=e||{};var n=document.createEvent("Event");return n.initEvent(t,!!e.bubbles,!!e.cancelable),n},n)for(var r in n)window.Event[r]=n[r];window.Event.prototype=n.prototype}if(!window.MouseEvent||e&&"function"!=typeof window.MouseEvent){if(e=window.MouseEvent,window.MouseEvent=function(t,e){e=e||{};var n=document.createEvent("MouseEvent");return n.initMouseEvent(t,!!e.bubbles,!!e.cancelable,e.view||window,e.detail,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget),n},e)for(r in e)window.MouseEvent[r]=e[r];window.MouseEvent.prototype=e.prototype}Array.from||(Array.from=function(t){return[].slice.call(t)}),Object.assign||(Object.assign=function(t,e){for(var n,r=[].slice.call(arguments,1),o=0;o<r.length;o++)if(n=r[o])for(var i=t,s=n,a=Object.getOwnPropertyNames(s),c=0;c<a.length;c++)i[n=a[c]]=s[n];return t})}(window.WebComponents),function(){function t(){}function e(t,e){if(!t.childNodes.length)return[];switch(t.nodeType){case Node.DOCUMENT_NODE:return _.call(t,e);case Node.DOCUMENT_FRAGMENT_NODE:return m.call(t,e);default:return f.call(t,e)}}var n="undefined"==typeof HTMLTemplateElement,r=!(document.createDocumentFragment().cloneNode()instanceof DocumentFragment),o=!1;/Trident/.test(navigator.userAgent)&&function(){function t(t,e){if(t instanceof DocumentFragment)for(var r;r=t.firstChild;)n.call(this,r,e);else n.call(this,t,e);return t}o=!0;var e=Node.prototype.cloneNode;Node.prototype.cloneNode=function(t){return t=e.call(this,t),this instanceof DocumentFragment&&(t.__proto__=DocumentFragment.prototype),t},DocumentFragment.prototype.querySelectorAll=HTMLElement.prototype.querySelectorAll,DocumentFragment.prototype.querySelector=HTMLElement.prototype.querySelector,Object.defineProperties(DocumentFragment.prototype,{nodeType:{get:function(){return Node.DOCUMENT_FRAGMENT_NODE},configurable:!0},localName:{get:function(){},configurable:!0},nodeName:{get:function(){return"#document-fragment"},configurable:!0}});var n=Node.prototype.insertBefore;Node.prototype.insertBefore=t;var r=Node.prototype.appendChild;Node.prototype.appendChild=function(e){return e instanceof DocumentFragment?t.call(this,e,null):r.call(this,e),e};var i=Node.prototype.removeChild,s=Node.prototype.replaceChild;Node.prototype.replaceChild=function(e,n){return e instanceof DocumentFragment?(t.call(this,e,n),i.call(this,n)):s.call(this,e,n),n},Document.prototype.createDocumentFragment=function(){var t=this.createElement("df");return t.__proto__=DocumentFragment.prototype,t};var a=Document.prototype.importNode;Document.prototype.importNode=function(t,e){return e=a.call(this,t,e||!1),t instanceof DocumentFragment&&(e.__proto__=DocumentFragment.prototype),e}}();var i=Node.prototype.cloneNode,s=Document.prototype.createElement,a=Document.prototype.importNode,c=Node.prototype.removeChild,u=Node.prototype.appendChild,l=Node.prototype.replaceChild,h=DOMParser.prototype.parseFromString,p=Object.getOwnPropertyDescriptor(window.HTMLElement.prototype,"innerHTML"),d=Object.getOwnPropertyDescriptor(window.Node.prototype,"childNodes"),f=Element.prototype.querySelectorAll,_=Document.prototype.querySelectorAll,m=DocumentFragment.prototype.querySelectorAll,v=function(){if(!n){var t=document.createElement("template"),e=document.createElement("template");return e.content.appendChild(document.createElement("div")),t.content.appendChild(e),0===(t=t.cloneNode(!0)).content.childNodes.length||0===t.content.firstChild.content.childNodes.length||r}}();if(n){var g=document.implementation.createHTMLDocument("template"),y=!0,b=document.createElement("style");b.textContent="template{display:none;}";var w=document.head;w.insertBefore(b,w.firstElementChild),t.prototype=Object.create(HTMLElement.prototype);var E=!document.createElement("div").hasOwnProperty("innerHTML");t.R=function(e){if(!e.content&&e.namespaceURI===document.documentElement.namespaceURI){e.content=g.createDocumentFragment();for(var n;n=e.firstChild;)u.call(e.content,n);if(E)e.__proto__=t.prototype;else if(e.cloneNode=function(e){return t.b(this,e)},y)try{x(e),T(e)}catch(t){y=!1}t.a(e.content)}};var O={option:["select"],thead:["table"],col:["colgroup","table"],tr:["tbody","table"],th:["tr","tbody","table"],td:["tr","tbody","table"]},x=function(e){Object.defineProperty(e,"innerHTML",{get:function(){return R(this)},set:function(e){var n=O[(/<([a-z][^/\0>\x20\t\r\n\f]+)/i.exec(e)||["",""])[1].toLowerCase()];if(n)for(var r=0;r<n.length;r++)e="<"+n[r]+">"+e+"</"+n[r]+">";for(g.body.innerHTML=e,t.a(g);this.content.firstChild;)c.call(this.content,this.content.firstChild);if(e=g.body,n)for(r=0;r<n.length;r++)e=e.lastChild;for(;e.firstChild;)u.call(this.content,e.firstChild)},configurable:!0})},T=function(t){Object.defineProperty(t,"outerHTML",{get:function(){return"<template>"+this.innerHTML+"</template>"},set:function(t){if(!this.parentNode)throw Error("Failed to set the 'outerHTML' property on 'Element': This element has no parent node.");for(g.body.innerHTML=t,t=this.ownerDocument.createDocumentFragment();g.body.firstChild;)u.call(t,g.body.firstChild);l.call(this.parentNode,t,this)},configurable:!0})};x(t.prototype),T(t.prototype),t.a=function(n){for(var r,o=0,i=(n=e(n,"template")).length;o<i&&(r=n[o]);o++)t.R(r)},document.addEventListener("DOMContentLoaded",(function(){t.a(document)})),Document.prototype.createElement=function(){var e=s.apply(this,arguments);return"template"===e.localName&&t.R(e),e},DOMParser.prototype.parseFromString=function(){var e=h.apply(this,arguments);return t.a(e),e},Object.defineProperty(HTMLElement.prototype,"innerHTML",{get:function(){return R(this)},set:function(e){p.set.call(this,e),t.a(this)},configurable:!0,enumerable:!0});var A=/[&\u00A0"]/g,S=/[&\u00A0<>]/g,N=function(t){switch(t){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";case"\xa0":return"&nbsp;"}},C=(b=function(t){for(var e={},n=0;n<t.length;n++)e[t[n]]=!0;return e})("area base br col command embed hr img input keygen link meta param source track wbr".split(" ")),I=b("style script xmp iframe noembed noframes plaintext noscript".split(" ")),R=function(t,e){"template"===t.localName&&(t=t.content);for(var n,r="",o=e?e(t):d.get.call(t),i=0,s=o.length;i<s&&(n=o[i]);i++){t:{var a=n,c=t,u=e;switch(a.nodeType){case Node.ELEMENT_NODE:for(var l=a.localName,h="<"+l,p=a.attributes,f=0;c=p[f];f++)h+=" "+c.name+'="'+c.value.replace(A,N)+'"';h+=">",a=C[l]?h:h+R(a,u)+"</"+l+">";break t;case Node.TEXT_NODE:a=a.data,a=c&&I[c.localName]?a:a.replace(S,N);break t;case Node.COMMENT_NODE:a="\x3c!--"+a.data+"--\x3e";break t;default:throw window.console.error(a),Error("not implemented")}}r+=a}return r}}if(n||v){t.b=function(t,e){var n=i.call(t,!1);return this.R&&this.R(n),e&&(u.call(n.content,i.call(t.content,!0)),k(n.content,t.content)),n};var k=function(n,r){if(r.querySelectorAll&&0!==(r=e(r,"template")).length)for(var o,i,s=0,a=(n=e(n,"template")).length;s<a;s++)i=r[s],o=n[s],t&&t.R&&t.R(i),l.call(o.parentNode,L.call(i,!0),o)},L=Node.prototype.cloneNode=function(e){if(!o&&r&&this instanceof DocumentFragment){if(!e)return this.ownerDocument.createDocumentFragment();var n=j.call(this.ownerDocument,this,!0)}else n=this.nodeType===Node.ELEMENT_NODE&&"template"===this.localName&&this.namespaceURI==document.documentElement.namespaceURI?t.b(this,e):i.call(this,e);return e&&k(n,this),n},j=Document.prototype.importNode=function(n,r){if(r=r||!1,"template"===n.localName)return t.b(n,r);var o=a.call(this,n,r);if(r){k(o,n),n=e(o,'script:not([type]),script[type="application/javascript"],script[type="text/javascript"]');for(var i,c=0;c<n.length;c++){i=n[c],(r=s.call(document,"script")).textContent=i.textContent;for(var u,h=i.attributes,p=0;p<h.length;p++)u=h[p],r.setAttribute(u.name,u.value);l.call(i.parentNode,r,i)}}return o}}n&&(window.HTMLTemplateElement=t)}();var x=setTimeout;function T(){}function A(t){if(!(this instanceof A))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this.J=0,this.wa=!1,this.A=void 0,this.U=[],k(t,this)}function S(t,e){for(;3===t.J;)t=t.A;0===t.J?t.U.push(e):(t.wa=!0,A.a((function(){var n=1===t.J?e.Xa:e.Ya;if(null===n)(1===t.J?N:C)(e.qa,t.A);else{try{var r=n(t.A)}catch(t){return void C(e.qa,t)}N(e.qa,r)}})))}function N(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof A)return t.J=3,t.A=e,void I(t);if("function"==typeof n)return void k(function(t,e){return function(){t.apply(e,arguments)}}(n,e),t)}t.J=1,t.A=e,I(t)}catch(e){C(t,e)}}function C(t,e){t.J=2,t.A=e,I(t)}function I(t){2===t.J&&0===t.U.length&&A.a((function(){t.wa||A.b(t.A)}));for(var e=0,n=t.U.length;e<n;e++)S(t,t.U[e]);t.U=null}function R(t,e,n){this.Xa="function"==typeof t?t:null,this.Ya="function"==typeof e?e:null,this.qa=n}function k(t,e){var n=!1;try{t((function(t){n||(n=!0,N(e,t))}),(function(t){n||(n=!0,C(e,t))}))}catch(t){n||(n=!0,C(e,t))}}if(A.prototype.catch=function(t){return this.then(null,t)},A.prototype.then=function(t,e){var n=new this.constructor(T);return S(this,new R(t,e,n)),n},A.prototype.finally=function(t){var e=this.constructor;return this.then((function(n){return e.resolve(t()).then((function(){return n}))}),(function(n){return e.resolve(t()).then((function(){return e.reject(n)}))}))},A.c=function(t){return new A((function(e,n){function r(t,s){try{if(s&&("object"==typeof s||"function"==typeof s)){var a=s.then;if("function"==typeof a)return void a.call(s,(function(e){r(t,e)}),n)}o[t]=s,0==--i&&e(o)}catch(t){n(t)}}if(!t||void 0===t.length)throw new TypeError("Promise.all accepts an array");var o=Array.prototype.slice.call(t);if(0===o.length)return e([]);for(var i=o.length,s=0;s<o.length;s++)r(s,o[s])}))},A.resolve=function(t){return t&&"object"==typeof t&&t.constructor===A?t:new A((function(e){e(t)}))},A.reject=function(t){return new A((function(e,n){n(t)}))},A.f=function(t){return new A((function(e,n){for(var r=0,o=t.length;r<o;r++)t[r].then(e,n)}))},A.a="function"==typeof e&&function(t){e(t)}||function(t){x(t,0)},A.b=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},!window.Promise&&(window.Promise=A,A.prototype.then=A.prototype.then,A.all=A.c,A.race=A.f,A.resolve=A.resolve,A.reject=A.reject,!window.setImmediate)){var L=document.createTextNode(""),j=[];new MutationObserver((function(){for(var t=j.length,e=0;e<t;e++)j[e]();j.splice(0,t)})).observe(L,{characterData:!0}),A.a=function(t){j.push(t),L.textContent=0<L.textContent.length?"":"a"}}var P={},M=Object.create,D=Object.defineProperties,U=Object.defineProperty;function F(t,e){return{value:t,configurable:!!(e=void 0===e?{}:e).xa,writable:!!e.eb,enumerable:!!e.e}}var B=void 0;try{B=1===U({},"y",{get:function(){return 1}}).y}catch(s){B=!1}var z={};var H=M(null);function q(t){if(this instanceof q)throw new TypeError("Symbol is not a constructor");var e=function(t){t=String(t);for(var e="",n=0;z[t+e];)e=n+=1;z[t+e]=1;var r="Symbol("+t+e+")";return B&&U(Object.prototype,r,{get:void 0,set:function(t){U(this,r,F(t,{xa:!0,eb:!0}))},configurable:!0,enumerable:!1}),r}(t=void 0===t?"":String(t));return B?M(H,{ta:F(t),Ja:F(e)}):e}D(q,{for:F((function(t){if(t=String(t),P[t])return P[t];var e=q(t);return P[t]=e})),keyFor:F((function(t){if(B&&(!t||"Symbol"!==t[q.toStringTag]))throw new TypeError(t+" is not a symbol");for(var e in P)if(P[e]===t)return B?P[e].ta:P[e].substr(7,P[e].length-8)}))}),D(q,{vb:F(q("hasInstance")),wb:F(q("isConcatSpreadable")),iterator:F(q("iterator")),match:F(q("match")),replace:F(q("replace")),search:F(q("search")),yb:F(q("species")),split:F(q("split")),zb:F(q("toPrimitive")),toStringTag:F(q("toStringTag")),unscopables:F(q("unscopables"))}),D(H,{constructor:F(q),toString:F((function(){return this.Ja})),valueOf:F((function(){return"Symbol("+this.ta+")"}))}),B&&U(H,q.toStringTag,F("Symbol",{xa:!0}));var W="function"==typeof Symbol?Symbol:q;if(!window.Symbol){window.Symbol=W;var V=window.Symbol.iterator;Array.prototype[V]=function t(){var e,n=this;return O(t,(function(t){if(1==t.a&&(e=0),3!=t.a)return e<n.length?t=g(t,n[e]):(t.a=0,t=void 0),t;e++,t.a=2}))},Set.prototype[V]=function t(){var e,n,r=this;return O(t,(function(t){if(1==t.a&&(e=[],r.forEach((function(t){e.push(t)})),n=0),3!=t.a)return n<e.length?t=g(t,e[n]):(t.a=0,t=void 0),t;n++,t.a=2}))},Map.prototype[V]=function t(){var e,n,r=this;return O(t,(function(t){if(1==t.a&&(e=[],r.forEach((function(t,n){e.push([n,t])})),n=0),3!=t.a)return n<e.length?t=g(t,e[n]):(t.a=0,t=void 0),t;n++,t.a=2}))},String.prototype[V]=function t(){var e,n=this;return O(t,(function(t){if(1==t.a&&(e=0),3!=t.a)return e<n.length?t=g(t,n[e]):(t.a=0,t=void 0),t;e++,t.a=2}))}}window.WebComponents=window.WebComponents||{flags:{}};var G=document.querySelector('script[src*="webcomponents-bundle"]'),K=/wc-(.+)/,Y={};if(!Y.noOpts){if(location.search.slice(1).split("&").forEach((function(t){var e;(t=t.split("="))[0]&&(e=t[0].match(K))&&(Y[e[1]]=t[1]||!0)})),G)for(var X,J=0;X=G.attributes[J];J++)"src"!==X.name&&(Y[X.name]=X.value||!0);if(Y.log&&Y.log.split){var $=Y.log.split(",");Y.log={},$.forEach((function(t){Y.log[t]=!0}))}else Y.log={}}window.WebComponents.flags=Y;var Z=Y.shadydom;Z&&(window.ShadyDOM=window.ShadyDOM||{},window.ShadyDOM.force=Z);var Q=Y.register||Y.ce;function tt(){this.Aa=this.root=null,this.da=!1,this.N=this.$=this.ma=this.assignedSlot=this.assignedNodes=this.S=null,this.childNodes=this.nextSibling=this.previousSibling=this.lastChild=this.firstChild=this.parentNode=this.V=void 0,this.Fa=this.ua=!1,this.Z={}}function et(t){return t.ka||(t.ka=new tt),t.ka}function nt(t){return t&&t.ka}Q&&window.customElements&&(window.customElements.forcePolyfill=Q),tt.prototype.toJSON=function(){return{}};var rt=window.ShadyDOM||{};rt.Ta=!(!Element.prototype.attachShadow||!Node.prototype.getRootNode);var ot=Object.getOwnPropertyDescriptor(Node.prototype,"firstChild");rt.K=!!(ot&&ot.configurable&&ot.get),rt.oa=rt.force||!rt.Ta;var it=navigator.userAgent.match("Trident"),st=navigator.userAgent.match("Edge");function at(t){return(t=nt(t))&&void 0!==t.firstChild}function ct(t){return"ShadyRoot"===t.La}function ut(t){if(ct(t=t.getRootNode()))return t}void 0===rt.Ca&&(rt.Ca=rt.K&&(it||st));var lt=Element.prototype,ht=lt.matches||lt.matchesSelector||lt.mozMatchesSelector||lt.msMatchesSelector||lt.oMatchesSelector||lt.webkitMatchesSelector;function pt(t,e){if(t&&e)for(var n,r=Object.getOwnPropertyNames(e),o=0;o<r.length&&(n=r[o]);o++){var i=n,s=t,a=Object.getOwnPropertyDescriptor(e,i);a&&Object.defineProperty(s,i,a)}}function dt(t,e){for(var n=[],r=1;r<arguments.length;++r)n[r-1]=arguments[r];for(r=0;r<n.length;r++)pt(t,n[r]);return t}var ft=document.createTextNode(""),_t=0,mt=[];function vt(t){mt.push(t),ft.textContent=_t++}new MutationObserver((function(){for(;mt.length;)try{mt.shift()()}catch(t){throw ft.textContent=_t++,t}})).observe(ft,{characterData:!0});var gt=!!document.contains;function yt(t,e){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function bt(t){for(var e=t.length-1;0<=e;e--){var n=t[e],r=n.getAttribute("id")||n.getAttribute("name");r&&"length"!==r&&isNaN(r)&&(t[r]=n)}return t.item=function(e){return t[e]},t.namedItem=function(e){if("length"!==e&&isNaN(e)&&t[e])return t[e];for(var n=h(t),r=n.next();!r.done;r=n.next())if(((r=r.value).getAttribute("id")||r.getAttribute("name"))==e)return r;return null},t}var wt,Et=[];function Ot(t){wt||(wt=!0,vt(xt)),Et.push(t)}function xt(){wt=!1;for(var t=!!Et.length;Et.length;)Et.shift()();return t}function Tt(){this.a=!1,this.addedNodes=[],this.removedNodes=[],this.ca=new Set}xt.list=Et,Tt.prototype.flush=function(){if(this.a){this.a=!1;var t=this.takeRecords();t.length&&this.ca.forEach((function(e){e(t)}))}},Tt.prototype.takeRecords=function(){if(this.addedNodes.length||this.removedNodes.length){var t=[{addedNodes:this.addedNodes,removedNodes:this.removedNodes}];return this.addedNodes=[],this.removedNodes=[],t}return[]};var At=Element.prototype.insertBefore,St=Element.prototype.replaceChild,Nt=Element.prototype.removeChild,Ct=Element.prototype.setAttribute,It=Element.prototype.removeAttribute,Rt=Element.prototype.cloneNode,kt=Document.prototype.importNode,Lt=Element.prototype.addEventListener,jt=Element.prototype.removeEventListener,Pt=Window.prototype.addEventListener,Mt=Window.prototype.removeEventListener,Dt=Element.prototype.dispatchEvent,Ut=Node.prototype.contains||HTMLElement.prototype.contains,Ft=Document.prototype.getElementById,Bt=Element.prototype.querySelector,zt=DocumentFragment.prototype.querySelector,Ht=Document.prototype.querySelector,qt=Element.prototype.querySelectorAll,Wt=DocumentFragment.prototype.querySelectorAll,Vt=Document.prototype.querySelectorAll,Gt={};Gt.appendChild=Element.prototype.appendChild,Gt.insertBefore=At,Gt.replaceChild=St,Gt.removeChild=Nt,Gt.setAttribute=Ct,Gt.removeAttribute=It,Gt.cloneNode=Rt,Gt.importNode=kt,Gt.addEventListener=Lt,Gt.removeEventListener=jt,Gt.fb=Pt,Gt.gb=Mt,Gt.dispatchEvent=Dt,Gt.contains=Ut,Gt.getElementById=Ft,Gt.pb=Bt,Gt.tb=zt,Gt.nb=Ht,Gt.querySelector=function(t){switch(this.nodeType){case Node.ELEMENT_NODE:return Bt.call(this,t);case Node.DOCUMENT_NODE:return Ht.call(this,t);default:return zt.call(this,t)}},Gt.qb=qt,Gt.ub=Wt,Gt.ob=Vt,Gt.querySelectorAll=function(t){switch(this.nodeType){case Node.ELEMENT_NODE:return qt.call(this,t);case Node.DOCUMENT_NODE:return Vt.call(this,t);default:return Wt.call(this,t)}};var Kt=/[&\u00A0"]/g,Yt=/[&\u00A0<>]/g;function Xt(t){switch(t){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";case"\xa0":return"&nbsp;"}}function Jt(t){for(var e={},n=0;n<t.length;n++)e[t[n]]=!0;return e}var $t=Jt("area base br col command embed hr img input keygen link meta param source track wbr".split(" ")),Zt=Jt("style script xmp iframe noembed noframes plaintext noscript".split(" "));function Qt(t,e){"template"===t.localName&&(t=t.content);for(var n,r="",o=e?e(t):t.childNodes,i=0,s=o.length;i<s&&(n=o[i]);i++){t:{var a=n,c=t,u=e;switch(a.nodeType){case Node.ELEMENT_NODE:for(var l=a.localName,h="<"+l,p=a.attributes,d=0;c=p[d];d++)h+=" "+c.name+'="'+c.value.replace(Kt,Xt)+'"';h+=">",a=$t[l]?h:h+Qt(a,u)+"</"+l+">";break t;case Node.TEXT_NODE:a=a.data,a=c&&Zt[c.localName]?a:a.replace(Yt,Xt);break t;case Node.COMMENT_NODE:a="\x3c!--"+a.data+"--\x3e";break t;default:throw window.console.error(a),Error("not implemented")}}r+=a}return r}var te=document.createTreeWalker(document,NodeFilter.SHOW_ALL,null,!1),ee=document.createTreeWalker(document,NodeFilter.SHOW_ELEMENT,null,!1);function ne(t){var e=[];for(te.currentNode=t,t=te.firstChild();t;)e.push(t),t=te.nextSibling();return e}var re={parentNode:function(t){return te.currentNode=t,te.parentNode()},firstChild:function(t){return te.currentNode=t,te.firstChild()},lastChild:function(t){return te.currentNode=t,te.lastChild()},previousSibling:function(t){return te.currentNode=t,te.previousSibling()},nextSibling:function(t){return te.currentNode=t,te.nextSibling()}};re.childNodes=ne,re.parentElement=function(t){return ee.currentNode=t,ee.parentNode()},re.firstElementChild=function(t){return ee.currentNode=t,ee.firstChild()},re.lastElementChild=function(t){return ee.currentNode=t,ee.lastChild()},re.previousElementSibling=function(t){return ee.currentNode=t,ee.previousSibling()},re.nextElementSibling=function(t){return ee.currentNode=t,ee.nextSibling()},re.children=function(t){var e=[];for(ee.currentNode=t,t=ee.firstChild();t;)e.push(t),t=ee.nextSibling();return bt(e)},re.innerHTML=function(t){return Qt(t,(function(t){return ne(t)}))},re.textContent=function(t){switch(t.nodeType){case Node.ELEMENT_NODE:case Node.DOCUMENT_FRAGMENT_NODE:t=document.createTreeWalker(t,NodeFilter.SHOW_TEXT,null,!1);for(var e,n="";e=t.nextNode();)n+=e.nodeValue;return n;default:return t.nodeValue}};var oe=rt.K,ie=[Node.prototype,Element.prototype,HTMLElement.prototype];function se(t){var e;t:{for(e=0;e<ie.length;e++){var n=ie[e];if(n.hasOwnProperty(t)){e=n;break t}}e=void 0}if(!e)throw Error("Could not find descriptor for "+t);return Object.getOwnPropertyDescriptor(e,t)}var ae=oe?{parentNode:se("parentNode"),firstChild:se("firstChild"),lastChild:se("lastChild"),previousSibling:se("previousSibling"),nextSibling:se("nextSibling"),childNodes:se("childNodes"),parentElement:se("parentElement"),previousElementSibling:se("previousElementSibling"),nextElementSibling:se("nextElementSibling"),innerHTML:se("innerHTML"),textContent:se("textContent"),firstElementChild:se("firstElementChild"),lastElementChild:se("lastElementChild"),children:se("children")}:{},ce=oe?{firstElementChild:Object.getOwnPropertyDescriptor(DocumentFragment.prototype,"firstElementChild"),lastElementChild:Object.getOwnPropertyDescriptor(DocumentFragment.prototype,"lastElementChild"),children:Object.getOwnPropertyDescriptor(DocumentFragment.prototype,"children")}:{},ue=oe?{firstElementChild:Object.getOwnPropertyDescriptor(Document.prototype,"firstElementChild"),lastElementChild:Object.getOwnPropertyDescriptor(Document.prototype,"lastElementChild"),children:Object.getOwnPropertyDescriptor(Document.prototype,"children")}:{},le={za:ae,sb:ce,mb:ue,parentNode:function(t){return ae.parentNode.get.call(t)},firstChild:function(t){return ae.firstChild.get.call(t)},lastChild:function(t){return ae.lastChild.get.call(t)},previousSibling:function(t){return ae.previousSibling.get.call(t)},nextSibling:function(t){return ae.nextSibling.get.call(t)},childNodes:function(t){return Array.prototype.slice.call(ae.childNodes.get.call(t))},parentElement:function(t){return ae.parentElement.get.call(t)},previousElementSibling:function(t){return ae.previousElementSibling.get.call(t)},nextElementSibling:function(t){return ae.nextElementSibling.get.call(t)},innerHTML:function(t){return ae.innerHTML.get.call(t)},textContent:function(t){return ae.textContent.get.call(t)},children:function(t){switch(t.nodeType){case Node.DOCUMENT_FRAGMENT_NODE:return ce.children.get.call(t);case Node.DOCUMENT_NODE:return ue.children.get.call(t);default:return ae.children.get.call(t)}},firstElementChild:function(t){switch(t.nodeType){case Node.DOCUMENT_FRAGMENT_NODE:return ce.firstElementChild.get.call(t);case Node.DOCUMENT_NODE:return ue.firstElementChild.get.call(t);default:return ae.firstElementChild.get.call(t)}},lastElementChild:function(t){switch(t.nodeType){case Node.DOCUMENT_FRAGMENT_NODE:return ce.lastElementChild.get.call(t);case Node.DOCUMENT_NODE:return ue.lastElementChild.get.call(t);default:return ae.lastElementChild.get.call(t)}}},he=rt.Ca?le:re;function pe(t){for(;t.firstChild;)t.removeChild(t.firstChild)}var de=rt.K,fe=document.implementation.createHTMLDocument("inert"),_e=Object.getOwnPropertyDescriptor(Node.prototype,"isConnected"),me=_e&&_e.get,ve=Object.getOwnPropertyDescriptor(Document.prototype,"activeElement"),ge={parentElement:{get:function(){var t=nt(this);return(t=t&&t.parentNode)&&t.nodeType!==Node.ELEMENT_NODE&&(t=null),void 0!==t?t:he.parentElement(this)},configurable:!0},parentNode:{get:function(){var t=nt(this);return void 0!==(t=t&&t.parentNode)?t:he.parentNode(this)},configurable:!0},nextSibling:{get:function(){var t=nt(this);return void 0!==(t=t&&t.nextSibling)?t:he.nextSibling(this)},configurable:!0},previousSibling:{get:function(){var t=nt(this);return void 0!==(t=t&&t.previousSibling)?t:he.previousSibling(this)},configurable:!0},nextElementSibling:{get:function(){var t=nt(this);if(t&&void 0!==t.nextSibling){for(t=this.nextSibling;t&&t.nodeType!==Node.ELEMENT_NODE;)t=t.nextSibling;return t}return he.nextElementSibling(this)},configurable:!0},previousElementSibling:{get:function(){var t=nt(this);if(t&&void 0!==t.previousSibling){for(t=this.previousSibling;t&&t.nodeType!==Node.ELEMENT_NODE;)t=t.previousSibling;return t}return he.previousElementSibling(this)},configurable:!0}},ye={className:{get:function(){return this.getAttribute("class")||""},set:function(t){this.setAttribute("class",t)},configurable:!0}},be={childNodes:{get:function(){if(at(this)){var t=nt(this);if(!t.childNodes){t.childNodes=[];for(var e=this.firstChild;e;e=e.nextSibling)t.childNodes.push(e)}var n=t.childNodes}else n=he.childNodes(this);return n.item=function(t){return n[t]},n},configurable:!0},childElementCount:{get:function(){return this.children.length},configurable:!0},firstChild:{get:function(){var t=nt(this);return void 0!==(t=t&&t.firstChild)?t:he.firstChild(this)},configurable:!0},lastChild:{get:function(){var t=nt(this);return void 0!==(t=t&&t.lastChild)?t:he.lastChild(this)},configurable:!0},textContent:{get:function(){if(at(this)){for(var t,e=[],n=0,r=this.childNodes;t=r[n];n++)t.nodeType!==Node.COMMENT_NODE&&e.push(t.textContent);return e.join("")}return he.textContent(this)},set:function(t){switch(null==t&&(t=""),this.nodeType){case Node.ELEMENT_NODE:case Node.DOCUMENT_FRAGMENT_NODE:if(!at(this)&&de){var e=this.firstChild;(e!=this.lastChild||e&&e.nodeType!=Node.TEXT_NODE)&&pe(this),le.za.textContent.set.call(this,t)}else pe(this),(0<t.length||this.nodeType===Node.ELEMENT_NODE)&&this.appendChild(document.createTextNode(t));break;default:this.nodeValue=t}},configurable:!0},firstElementChild:{get:function(){var t=nt(this);if(t&&void 0!==t.firstChild){for(t=this.firstChild;t&&t.nodeType!==Node.ELEMENT_NODE;)t=t.nextSibling;return t}return he.firstElementChild(this)},configurable:!0},lastElementChild:{get:function(){var t=nt(this);if(t&&void 0!==t.lastChild){for(t=this.lastChild;t&&t.nodeType!==Node.ELEMENT_NODE;)t=t.previousSibling;return t}return he.lastElementChild(this)},configurable:!0},children:{get:function(){return at(this)?bt(Array.prototype.filter.call(this.childNodes,(function(t){return t.nodeType===Node.ELEMENT_NODE}))):he.children(this)},configurable:!0},innerHTML:{get:function(){return at(this)?Qt("template"===this.localName?this.content:this):he.innerHTML(this)},set:function(t){var e="template"===this.localName?this.content:this;pe(e);var n=this.localName||"div";for(n=this.namespaceURI&&this.namespaceURI!==fe.namespaceURI?fe.createElementNS(this.namespaceURI,n):fe.createElement(n),de?le.za.innerHTML.set.call(n,t):n.innerHTML=t,t="template"===this.localName?n.content:n;t.firstChild;)e.appendChild(t.firstChild)},configurable:!0}},we={shadowRoot:{get:function(){var t=nt(this);return t&&t.Aa||null},configurable:!0}},Ee={activeElement:{get:function(){var t=ve&&ve.get?ve.get.call(document):rt.K?void 0:document.activeElement;if(t&&t.nodeType){var e=!!ct(this);if(this===document||e&&this.host!==t&&Gt.contains.call(this.host,t)){for(e=ut(t);e&&e!==this;)e=ut(t=e.host);t=this===document?e?null:t:e===this?t:null}else t=null}else t=null;return t},set:function(){},configurable:!0}};function Oe(t,e,n){for(var r in e){var o=Object.getOwnPropertyDescriptor(t,r);o&&o.configurable||!o&&n?Object.defineProperty(t,r,e[r]):n&&console.warn("Could not define",r,"on",t)}}function xe(t){Oe(t,ge),Oe(t,ye),Oe(t,be),Oe(t,Ee)}var Te=rt.K?function(){}:function(t){var e=et(t);e.ua||(e.ua=!0,Oe(t,ge,!0),Oe(t,ye,!0))},Ae=rt.K?function(){}:function(t){et(t).Fa||(Oe(t,be,!0),Oe(t,we,!0))},Se=he.childNodes;function Ne(t,e,n){Te(t),n=n||null;var r=et(t),o=et(e),i=n?et(n):null;r.previousSibling=n?i.previousSibling:e.lastChild,(i=nt(r.previousSibling))&&(i.nextSibling=t),(i=nt(r.nextSibling=n))&&(i.previousSibling=t),r.parentNode=e,n?n===o.firstChild&&(o.firstChild=t):(o.lastChild=t,o.firstChild||(o.firstChild=t)),o.childNodes=null}function Ce(t){var e=et(t);if(void 0===e.firstChild){e.childNodes=null;var n=Se(t);for(e.firstChild=n[0]||null,e.lastChild=n[n.length-1]||null,Ae(t),e=0;e<n.length;e++){var r=n[e],o=et(r);o.parentNode=t,o.nextSibling=n[e+1]||null,o.previousSibling=n[e-1]||null,Te(r)}}}var Ie=he.parentNode;function Re(t,e,n){if(e===t)throw Error("Failed to execute 'appendChild' on 'Node': The new child element contains the parent.");if(n){var r=nt(n);if(void 0!==(r=r&&r.parentNode)&&r!==t||void 0===r&&Ie(n)!==t)throw Error("Failed to execute 'insertBefore' on 'Node': The node before which the new node is to be inserted is not a child of this node.")}if(n===e)return e;var o,i;if(e.parentNode&&ke(e.parentNode,e),r=!0,!e.__noInsertionPoint){var s;if(i=o=ut(t))"slot"===e.localName?s=[e]:e.querySelectorAll&&(s=e.querySelectorAll("slot")),i=s&&s.length?s:void 0;if(i){var a=i;(s=o).a=s.a||[],s.o=s.o||[],s.w=s.w||{},s.a.push.apply(s.a,a instanceof Array?a:function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(h(a)))}}if(("slot"===t.localName||i)&&(o=o||ut(t))&&_n(o),at(t)){if(o=n,Ae(t),void 0!==(i=et(t)).firstChild&&(i.childNodes=null),e.nodeType===Node.DOCUMENT_FRAGMENT_NODE){for(i=e.childNodes,s=0;s<i.length;s++)Ne(i[s],t,o);i=void 0!==(o=et(e)).firstChild?null:void 0,o.firstChild=o.lastChild=i,o.childNodes=i}else Ne(e,t,o);o=nt(t),Le(t)?(_n(o.root),r=!1):o.root&&(r=!1)}return r?(r=ct(t)?t.host:t,n?(n=function t(e){var n=e;return e&&"slot"===e.localName&&(n=(n=(n=nt(e))&&n.N)&&n.length?n[0]:t(e.nextSibling)),n}(n),Gt.insertBefore.call(r,e,n)):Gt.appendChild.call(r,e)):e.ownerDocument!==t.ownerDocument&&t.ownerDocument.adoptNode(e),Pe(t,e),e}function ke(t,e){if(e.parentNode!==t)throw Error("The node to be removed is not a child of this node: "+e);var n=ut(e),r=nt(t);if(at(t)){var o=et(e),i=et(t);e===i.firstChild&&(i.firstChild=o.nextSibling),e===i.lastChild&&(i.lastChild=o.previousSibling);var s=o.previousSibling,a=o.nextSibling;if(s&&(et(s).nextSibling=a),a&&(et(a).previousSibling=s),o.parentNode=o.previousSibling=o.nextSibling=void 0,void 0!==i.childNodes&&(i.childNodes=null),Le(t)){_n(r.root);var c=!0}}if(function t(e){var n=nt(e);if(n&&void 0!==n.V){n=e.childNodes;for(var r,o=0,i=n.length;o<i&&(r=n[o]);o++)t(r)}(e=nt(e))&&(e.V=void 0)}(e),n){if((o=t&&"slot"===t.localName)&&(c=!0),n.o){for(f in bn(n),i=n.w)for(s=i[f],a=0;a<s.length;a++){var u=s[a];if(yt(e,u)){s.splice(a,1);var l=n.o.indexOf(u);if(0<=l&&n.o.splice(l,1),a--,u=(l=nt(u)).N)for(var h=0;h<u.length;h++){var p=u[h],d=un(p);d&&Gt.removeChild.call(d,p)}l.N=[],l.assignedNodes=[],l=!0}}var f=l}else f=void 0;(f||o)&&_n(n)}return c||(c=ct(t)?t.host:t,(!r.root&&"slot"!==e.localName||c===Ie(e))&&Gt.removeChild.call(c,e)),Pe(t,null,e),e}function Le(t){return(t=(t=nt(t))&&t.root)&&On(t)}function je(t,e){if("slot"===e)Le(t=t.parentNode)&&_n(nt(t).root);else if("slot"===t.localName&&"name"===e&&(e=ut(t))){if(e.o){bn(e);var n=t.Ia,r=wn(t);if(r!==n){var o=(n=e.w[n]).indexOf(t);0<=o&&n.splice(o,1),(n=e.w[r]||(e.w[r]=[])).push(t),1<n.length&&(e.w[r]=En(n))}}_n(e)}}function Pe(t,e,n){(t=(t=nt(t))&&t.S)&&(e&&t.addedNodes.push(e),n&&t.removedNodes.push(n),function(t){t.a||(t.a=!0,vt((function(){t.flush()})))}(t))}function Me(t,e,n){var r=[];return function t(e,n,r,o){for(var i,s=0,a=e.length;s<a&&(i=e[s]);s++){var c;if(c=i.nodeType===Node.ELEMENT_NODE){var u=n,l=r,h=o,p=u(c=i);p&&h.push(c),l&&l(p)?c=p:(t(c.childNodes,u,l,h),c=void 0)}if(c)break}}(t.childNodes,e,n,r),r}var De=null;function Ue(t,e,n){De||(De=window.ShadyCSS&&window.ShadyCSS.ScopingShim),De&&"class"===e?De.setElementClass(t,n):(Gt.setAttribute.call(t,e,n),je(t,e))}var Fe="__eventWrappers"+Date.now(),Be=function(){var t=Object.getOwnPropertyDescriptor(Event.prototype,"composed");return t?function(e){return t.get.call(e)}:null}(),ze={blur:!0,focus:!0,focusin:!0,focusout:!0,click:!0,dblclick:!0,mousedown:!0,mouseenter:!0,mouseleave:!0,mousemove:!0,mouseout:!0,mouseover:!0,mouseup:!0,wheel:!0,beforeinput:!0,input:!0,keydown:!0,keyup:!0,compositionstart:!0,compositionupdate:!0,compositionend:!0,touchstart:!0,touchend:!0,touchmove:!0,touchcancel:!0,pointerover:!0,pointerenter:!0,pointerdown:!0,pointermove:!0,pointerup:!0,pointercancel:!0,pointerout:!0,pointerleave:!0,gotpointercapture:!0,lostpointercapture:!0,dragstart:!0,drag:!0,dragenter:!0,dragleave:!0,dragover:!0,drop:!0,dragend:!0,DOMActivate:!0,DOMFocusIn:!0,DOMFocusOut:!0,keypress:!0},He={DOMAttrModified:!0,DOMAttributeNameChanged:!0,DOMCharacterDataModified:!0,DOMElementNameChanged:!0,DOMNodeInserted:!0,DOMNodeInsertedIntoDocument:!0,DOMNodeRemoved:!0,DOMNodeRemovedFromDocument:!0,DOMSubtreeModified:!0};function qe(t,e){var n=[],r=t;for(t=t===window?window:t.getRootNode();r;)n.push(r),r=r.assignedSlot?r.assignedSlot:r.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&r.host&&(e||r!==t)?r.host:r.parentNode;return n[n.length-1]===document&&n.push(window),n}function We(t,e){if(!ct)return t;t=qe(t,!0);for(var n,r,o,i,s=0;s<e.length;s++)if((o=(n=e[s])===window?window:n.getRootNode())!==r&&(i=t.indexOf(o),r=o),!ct(o)||-1<i)return n}var Ve={get composed(){return void 0===this.Y&&(Be?this.Y=Be(this):!1!==this.isTrusted&&(this.Y=ze[this.type])),this.Y||!1},composedPath:function(){return this.sa||(this.sa=qe(this.__target,this.composed)),this.sa},get target(){return We(this.currentTarget||this.__previousCurrentTarget,this.composedPath())},get relatedTarget(){return this.ja?(this.va||(this.va=qe(this.ja,!0)),We(this.currentTarget||this.__previousCurrentTarget,this.va)):null},stopPropagation:function(){Event.prototype.stopPropagation.call(this),this.ia=!0},stopImmediatePropagation:function(){Event.prototype.stopImmediatePropagation.call(this),this.ia=this.Ea=!0}};function Ge(t){function e(e,n){return(e=new t(e,n)).Y=n&&!!n.composed,e}return function(t,e){for(var n in e)t[n]=e[n]}(e,t),e.prototype=t.prototype,e}var Ke={focus:!0,blur:!0};function Ye(t){return t.__target!==t.target||t.ja!==t.relatedTarget}function Xe(t,e,n){if(n=e.__handlers&&e.__handlers[t.type]&&e.__handlers[t.type][n])for(var r,o=0;(r=n[o])&&(!Ye(t)||t.target!==t.relatedTarget)&&(r.call(e,t),!t.Ea);o++);}function Je(t){var e,n=t.composedPath();Object.defineProperty(t,"currentTarget",{get:function(){return o},configurable:!0});for(var r=n.length-1;0<=r;r--){var o=n[r];if(Xe(t,o,"capture"),t.ia)return}for(Object.defineProperty(t,"eventPhase",{get:function(){return Event.AT_TARGET}}),r=0;r<n.length;r++){var i=nt(o=n[r]);if(i=i&&i.root,(0===r||i&&i===e)&&(Xe(t,o,"bubble"),o!==window&&(e=o.getRootNode()),t.ia))break}}function $e(t,e,n,r,o,i){for(var s=0;s<t.length;s++){var a=t[s],c=a.type,u=a.capture,l=a.once,h=a.passive;if(e===a.node&&n===c&&r===u&&o===l&&i===h)return s}return-1}function Ze(t,e,n){if(e){var r=typeof e;if(("function"===r||"object"===r)&&("object"!==r||e.handleEvent&&"function"==typeof e.handleEvent)){var o=this instanceof Window?Gt.fb:Gt.addEventListener;if(He[t])return o.call(this,t,e,n);if(n&&"object"==typeof n)var i=!!n.capture,s=!!n.once,a=!!n.passive;else i=!!n,a=s=!1;var c=n&&n.la||this,u=e[Fe];if(u){if(-1<$e(u,c,t,i,s,a))return}else e[Fe]=[];u=function(o){if(s&&this.removeEventListener(t,e,n),o.__target||tn(o),c!==this){var i=Object.getOwnPropertyDescriptor(o,"currentTarget");Object.defineProperty(o,"currentTarget",{get:function(){return c},configurable:!0})}if(o.__previousCurrentTarget=o.currentTarget,(!ct(c)||-1!=o.composedPath().indexOf(c))&&(o.composed||-1<o.composedPath().indexOf(c)))if(Ye(o)&&o.target===o.relatedTarget)o.eventPhase===Event.BUBBLING_PHASE&&o.stopImmediatePropagation();else if(o.eventPhase===Event.CAPTURING_PHASE||o.bubbles||o.target===c||c instanceof Window){var a="function"===r?e.call(c,o):e.handleEvent&&e.handleEvent(o);return c!==this&&(i?(Object.defineProperty(o,"currentTarget",i),i=null):delete o.currentTarget),a}},e[Fe].push({node:c,type:t,capture:i,once:s,passive:a,hb:u}),Ke[t]?(this.__handlers=this.__handlers||{},this.__handlers[t]=this.__handlers[t]||{capture:[],bubble:[]},this.__handlers[t][i?"capture":"bubble"].push(u)):o.call(this,t,u,n)}}}function Qe(t,e,n){if(e){var r=this instanceof Window?Gt.gb:Gt.removeEventListener;if(He[t])return r.call(this,t,e,n);if(n&&"object"==typeof n)var o=!!n.capture,i=!!n.once,s=!!n.passive;else o=!!n,s=i=!1;var a=n&&n.la||this,c=void 0,u=null;try{u=e[Fe]}catch(t){}u&&(-1<(i=$e(u,a,t,o,i,s))&&(c=u.splice(i,1)[0].hb,u.length||(e[Fe]=void 0))),r.call(this,t,c||e,n),c&&Ke[t]&&this.__handlers&&this.__handlers[t]&&(-1<(c=(t=this.__handlers[t][o?"capture":"bubble"]).indexOf(c))&&t.splice(c,1))}}function tn(t){if(t.__target=t.target,t.ja=t.relatedTarget,rt.K){var e=Object.getPrototypeOf(t);if(!e.hasOwnProperty("__patchProto")){var n=Object.create(e);n.jb=e,pt(n,Ve),e.__patchProto=n}t.__proto__=e.__patchProto}else pt(t,Ve)}var en=Ge(window.Event),nn=Ge(window.CustomEvent),rn=Ge(window.MouseEvent);function on(t,e){return{index:t,W:[],ba:e}}function sn(t,e,n,r){var o=0,i=0,s=0,a=0,c=Math.min(e-o,r-i);if(0==o&&0==i)t:{for(s=0;s<c;s++)if(t[s]!==n[s])break t;s=c}if(e==t.length&&r==n.length){a=t.length;for(var u=n.length,l=0;l<c-s&&an(t[--a],n[--u]);)l++;a=l}if(i+=s,r-=a,0==(e-=a)-(o+=s)&&0==r-i)return[];if(o==e){for(e=on(o,0);i<r;)e.W.push(n[i++]);return[e]}if(i==r)return[on(o,e-o)];for(r=r-(s=i)+1,a=e-(c=o)+1,e=Array(r),u=0;u<r;u++)e[u]=Array(a),e[u][0]=u;for(u=0;u<a;u++)e[0][u]=u;for(u=1;u<r;u++)for(l=1;l<a;l++)if(t[c+l-1]===n[s+u-1])e[u][l]=e[u-1][l-1];else{var h=e[u-1][l]+1,p=e[u][l-1]+1;e[u][l]=h<p?h:p}for(c=e.length-1,s=e[0].length-1,r=e[c][s],t=[];0<c||0<s;)0==c?(t.push(2),s--):0==s?(t.push(3),c--):(a=e[c-1][s-1],(h=(u=e[c-1][s])<(l=e[c][s-1])?u<a?u:a:l<a?l:a)==a?(a==r?t.push(0):(t.push(1),r=a),c--,s--):h==u?(t.push(3),c--,r=u):(t.push(2),s--,r=l));for(t.reverse(),e=void 0,c=[],s=0;s<t.length;s++)switch(t[s]){case 0:e&&(c.push(e),e=void 0),o++,i++;break;case 1:e||(e=on(o,0)),e.ba++,o++,e.W.push(n[i]),i++;break;case 2:e||(e=on(o,0)),e.ba++,o++;break;case 3:e||(e=on(o,0)),e.W.push(n[i]),i++}return e&&c.push(e),c}function an(t,e){return t===e}var cn,un=he.parentNode,ln=he.childNodes,hn={},pn=rt.deferConnectionCallbacks&&"loading"===document.readyState;function dn(t){var e=[];do{e.unshift(t)}while(t=t.parentNode);return e}function fn(t,e,n){if(t!==hn)throw new TypeError("Illegal constructor");this.La="ShadyRoot",this.host=e,this.c=n&&n.mode,Ce(e),(t=et(e)).root=this,t.Aa="closed"!==this.c?this:null,(t=et(this)).firstChild=t.lastChild=t.parentNode=t.nextSibling=t.previousSibling=null,t.childNodes=[],this.b=this.aa=!1,this.a=this.w=this.o=null,_n(this)}function _n(t){t.aa||(t.aa=!0,Ot((function(){return mn(t)})))}function mn(t){for(var e;t;){t.aa&&(e=t);t:{var n=t;if(ct(t=n.host.getRootNode()))for(var r=n.host.childNodes,o=0;o<r.length;o++)if("slot"==(n=r[o]).localName)break t;t=void 0}}e&&e._renderRoot()}function vn(t,e,n){var r=et(e),o=r.$;r.$=null,n||(n=(t=t.w[e.slot||"__catchall"])&&t[0]),n?(et(n).assignedNodes.push(e),r.assignedSlot=n):r.assignedSlot=void 0,o!==r.assignedSlot&&r.assignedSlot&&(et(r.assignedSlot).da=!0)}function gn(t,e,n){for(var r,o=0;o<n.length&&(r=n[o]);o++)if("slot"==r.localName){var i=nt(r).assignedNodes;i&&i.length&&gn(t,e,i)}else e.push(n[o])}function yn(t,e){Gt.dispatchEvent.call(e,new Event("slotchange")),(e=nt(e)).assignedSlot&&yn(t,e.assignedSlot)}function bn(t){if(t.a&&t.a.length){for(var e,n=t.a,r=0;r<n.length;r++){var o=n[r];Ce(o),Ce(o.parentNode);var i=wn(o);t.w[i]?((e=e||{})[i]=!0,t.w[i].push(o)):t.w[i]=[o],t.o.push(o)}if(e)for(var s in e)t.w[s]=En(t.w[s]);t.a=[]}}function wn(t){var e=t.name||t.getAttribute("name")||"__catchall";return t.Ia=e}function En(t){return t.sort((function(t,e){t=dn(t);for(var n=dn(e),r=0;r<t.length;r++){e=t[r];var o=n[r];if(e!==o)return(t=Array.from(e.parentNode.childNodes)).indexOf(e)-t.indexOf(o)}}))}function On(t){return bn(t),!(!t.o||!t.o.length)}if(fn.prototype._renderRoot=function(){var t=pn;if(pn=!0,this.aa=!1,this.o){bn(this);for(var e,n=0;n<this.o.length;n++){var r=nt(e=this.o[n]),o=r.assignedNodes;if(r.assignedNodes=[],r.N=[],r.ma=o)for(r=0;r<o.length;r++){var i=nt(o[r]);i.$=i.assignedSlot,i.assignedSlot===e&&(i.assignedSlot=null)}}for(e=this.host.firstChild;e;e=e.nextSibling)vn(this,e);for(n=0;n<this.o.length;n++){if(!(o=nt(e=this.o[n])).assignedNodes.length)for(r=e.firstChild;r;r=r.nextSibling)vn(this,r,e);if((r=(r=nt(e.parentNode))&&r.root)&&On(r)&&r._renderRoot(),gn(this,o.N,o.assignedNodes),r=o.ma){for(i=0;i<r.length;i++)nt(r[i]).$=null;o.ma=null,r.length>o.assignedNodes.length&&(o.da=!0)}o.da&&(o.da=!1,yn(this,e))}for(n=this.o,e=[],o=0;o<n.length;o++)(i=nt(r=n[o].parentNode))&&i.root||!(0>e.indexOf(r))||e.push(r);for(n=0;n<e.length;n++){r=(o=e[n])===this?this.host:o,i=[],o=o.childNodes;for(var s=0;s<o.length;s++){var a=o[s];if("slot"==a.localName){a=nt(a).N;for(var c=0;c<a.length;c++)i.push(a[c])}else i.push(a)}o=void 0,s=ln(r),a=sn(i,i.length,s,s.length);for(var u=c=0;c<a.length&&(o=a[c]);c++){for(var l,h=0;h<o.W.length&&(l=o.W[h]);h++)un(l)===r&&Gt.removeChild.call(r,l),s.splice(o.index+u,1);u-=o.ba}for(u=0;u<a.length&&(o=a[u]);u++)for(c=s[o.index],h=o.index;h<o.index+o.ba;h++)l=i[h],Gt.insertBefore.call(r,l,c),s.splice(h,0,l)}}if(!this.b)for(e=0,n=(l=this.host.childNodes).length;e<n;e++)r=nt(o=l[e]),un(o)!==this.host||"slot"!==o.localName&&r.assignedSlot||Gt.removeChild.call(this.host,o);this.b=!0,pn=t,cn&&cn()},window.customElements&&rt.oa){var xn=new Map;cn=function(){var t=Array.from(xn);xn.clear();for(var e=(t=h(t)).next();!e.done;e=t.next()){var n=(e=h(e.value)).next().value;e.next().value?n.Ga():n.Ha()}},pn&&document.addEventListener("readystatechange",(function(){pn=!1,cn()}),{once:!0});var Tn=window.customElements.define;Object.defineProperty(window.CustomElementRegistry.prototype,"define",{value:function(t,e){var n=e.prototype.connectedCallback,r=e.prototype.disconnectedCallback;Tn.call(window.customElements,t,function(t,e,n){var r=0,o="__isConnected"+r++;return(e||n)&&(t.prototype.connectedCallback=t.prototype.Ga=function(){pn?xn.set(this,!0):this[o]||(this[o]=!0,e&&e.call(this))},t.prototype.disconnectedCallback=t.prototype.Ha=function(){pn?this.isConnected||xn.set(this,!1):this[o]&&(this[o]=!1,n&&n.call(this))}),t}(e,n,r)),e.prototype.connectedCallback=n,e.prototype.disconnectedCallback=r}})}function An(t){var e=t.getRootNode();return ct(e)&&mn(e),(t=nt(t))&&t.assignedSlot||null}var Sn={addEventListener:Ze.bind(window),removeEventListener:Qe.bind(window)},Nn={addEventListener:Ze,removeEventListener:Qe,appendChild:function(t){return Re(this,t)},insertBefore:function(t,e){return Re(this,t,e)},removeChild:function(t){return ke(this,t)},replaceChild:function(t,e){return Re(this,t,e),ke(this,e),t},cloneNode:function(t){if("template"==this.localName)var e=Gt.cloneNode.call(this,t);else if(e=Gt.cloneNode.call(this,!1),t&&e.nodeType!==Node.ATTRIBUTE_NODE){t=this.childNodes;for(var n,r=0;r<t.length;r++)n=t[r].cloneNode(!0),e.appendChild(n)}return e},getRootNode:function(){return function t(e){if(e&&e.nodeType){var n=et(e),r=n.V;return void 0===r&&(ct(e)?(r=e,n.V=r):(r=(r=e.parentNode)?t(r):e,Gt.contains.call(document.documentElement,e)&&(n.V=r))),r}}(this)},contains:function(t){return yt(this,t)},dispatchEvent:function(t){return xt(),Gt.dispatchEvent.call(this,t)}};Object.defineProperties(Nn,{isConnected:{get:function(){if(me&&me.call(this))return!0;if(this.nodeType==Node.DOCUMENT_FRAGMENT_NODE)return!1;var t=this.ownerDocument;if(gt){if(Gt.contains.call(t,this))return!0}else if(t.documentElement&&Gt.contains.call(t.documentElement,this))return!0;for(t=this;t&&!(t instanceof Document);)t=t.parentNode||(ct(t)?t.host:void 0);return!!(t&&t instanceof Document)},configurable:!0}});var Cn={get assignedSlot(){return An(this)}},In={querySelector:function(t){return Me(this,(function(e){return ht.call(e,t)}),(function(t){return!!t}))[0]||null},querySelectorAll:function(t,e){if(e){e=Array.prototype.slice.call(Gt.querySelectorAll.call(this,t));var n=this.getRootNode();return e.filter((function(t){return t.getRootNode()==n}))}return Me(this,(function(e){return ht.call(e,t)}))}},Rn={assignedNodes:function(t){if("slot"===this.localName){var e=this.getRootNode();return ct(e)&&mn(e),(e=nt(this))&&(t&&t.flatten?e.N:e.assignedNodes)||[]}}},kn=dt({setAttribute:function(t,e){Ue(this,t,e)},removeAttribute:function(t){Gt.removeAttribute.call(this,t),je(this,t)},attachShadow:function(t){if(!this)throw"Must provide a host.";if(!t)throw"Not enough arguments.";return new fn(hn,this,t)},get slot(){return this.getAttribute("slot")},set slot(t){Ue(this,"slot",t)},get assignedSlot(){return An(this)}},In,Rn);Object.defineProperties(kn,we);var Ln=dt({importNode:function(t,e){return function t(e,n){if(e.ownerDocument!==document||"template"===e.localName)return Gt.importNode.call(document,e,n);var r=Gt.importNode.call(document,e,!1);if(n){e=e.childNodes,n=0;for(var o;n<e.length;n++)o=t(e[n],!0),r.appendChild(o)}return r}(t,e)},getElementById:function(t){return Me(this,(function(e){return e.id==t}),(function(t){return!!t}))[0]||null}},In);Object.defineProperties(Ln,{_activeElement:Ee.activeElement});for(var jn=HTMLElement.prototype.blur,Pn={blur:function(){var t=nt(this);(t=(t=t&&t.root)&&t.activeElement)?t.blur():jn.call(this)}},Mn={},Dn=h(Object.getOwnPropertyNames(Document.prototype)),Un=Dn.next();!Un.done;Mn={H:Mn.H},Un=Dn.next())Mn.H=Un.value,"on"===Mn.H.substring(0,2)&&Object.defineProperty(Pn,Mn.H,{set:function(t){return function(e){var n=et(this),r=t.H.substring(2);n.Z[t.H]&&this.removeEventListener(r,n.Z[t.H]),this.addEventListener(r,e,{}),n.Z[t.H]=e}}(Mn),get:function(t){return function(){var e=nt(this);return e&&e.Z[t.H]}}(Mn),configurable:!0});var Fn={addEventListener:function(t,e,n){"object"!=typeof n&&(n={capture:!!n}),n.la=this,this.host.addEventListener(t,e,n)},removeEventListener:function(t,e,n){"object"!=typeof n&&(n={capture:!!n}),n.la=this,this.host.removeEventListener(t,e,n)},getElementById:function(t){return Me(this,(function(e){return e.id==t}),(function(t){return!!t}))[0]||null}};function Bn(t,e){for(var n=Object.getOwnPropertyNames(e),r=0;r<n.length;r++){var o=n[r],i=Object.getOwnPropertyDescriptor(e,o);i.value?t[o]=i.value:Object.defineProperty(t,o,i)}}if(rt.oa){var zn={inUse:rt.oa,patch:function(t){return Ae(t),Te(t),t},isShadyRoot:ct,enqueue:Ot,flush:xt,settings:rt,filterMutations:function(t,e){var n=e.getRootNode();return t.map((function(t){var e=n===t.target.getRootNode();if(e&&t.addedNodes){if((e=Array.from(t.addedNodes).filter((function(t){return n===t.getRootNode()}))).length)return t=Object.create(t),Object.defineProperty(t,"addedNodes",{value:e,configurable:!0}),t}else if(e)return t})).filter((function(t){return t}))},observeChildren:function(t,e){var n=et(t);n.S||(n.S=new Tt),n.S.ca.add(e);var r=n.S;return{Ka:e,P:r,Ma:t,takeRecords:function(){return r.takeRecords()}}},unobserveChildren:function(t){var e=t&&t.P;e&&(e.ca.delete(t.Ka),e.ca.size||(et(t.Ma).S=null))},nativeMethods:Gt,nativeTree:he,deferConnectionCallbacks:rt.deferConnectionCallbacks};window.ShadyDOM=zn,function(){if(window.Event=en,window.CustomEvent=nn,window.MouseEvent=rn,function(){for(var t in Ke)window.addEventListener(t,(function(t){t.__target||(tn(t),Je(t))}),!0)}(),!Be&&Object.getOwnPropertyDescriptor(Event.prototype,"isTrusted")){var t=function(){var t=new MouseEvent("click",{bubbles:!0,cancelable:!0,composed:!0});this.dispatchEvent(t)};Element.prototype.click?Element.prototype.click=t:HTMLElement.prototype.click&&(HTMLElement.prototype.click=t)}}();var Hn=window.customElements&&window.customElements.nativeHTMLElement||HTMLElement;Bn(fn.prototype,Fn),Bn(window.Node.prototype,Nn),Bn(window.Window.prototype,Sn),Bn(window.Text.prototype,Cn),Bn(window.DocumentFragment.prototype,In),Bn(window.Element.prototype,kn),Bn(window.Document.prototype,Ln),window.HTMLSlotElement&&Bn(window.HTMLSlotElement.prototype,Rn),Bn(Hn.prototype,Pn),rt.K&&(xe(window.Node.prototype),xe(window.Text.prototype),xe(window.DocumentFragment.prototype),xe(window.Element.prototype),xe(Hn.prototype),xe(window.Document.prototype),window.HTMLSlotElement&&xe(window.HTMLSlotElement.prototype)),function(){var t=fn.prototype;t.__proto__=DocumentFragment.prototype,Oe(t,ge,!0),Oe(t,be,!0),Oe(t,Ee,!0),Object.defineProperties(t,{nodeType:{value:Node.DOCUMENT_FRAGMENT_NODE,configurable:!0},nodeName:{value:"#document-fragment",configurable:!0},nodeValue:{value:null,configurable:!0}}),["localName","namespaceURI","prefix"].forEach((function(e){Object.defineProperty(t,e,{value:void 0,configurable:!0})})),["ownerDocument","baseURI","isConnected"].forEach((function(e){Object.defineProperty(t,e,{get:function(){return this.host[e]},configurable:!0})}))}(),window.ShadowRoot=fn}var qn=new Set("annotation-xml color-profile font-face font-face-src font-face-uri font-face-format font-face-name missing-glyph".split(" "));function Wn(t){var e=qn.has(t);return t=/^[a-z][.0-9_a-z]*-[\-.0-9_a-z]*$/.test(t),!e&&t}function Vn(t){var e=t.isConnected;if(void 0!==e)return e;for(;t&&!(t.__CE_isImportDocument||t instanceof Document);)t=t.parentNode||(window.ShadowRoot&&t instanceof ShadowRoot?t.host:void 0);return!(!t||!(t.__CE_isImportDocument||t instanceof Document))}function Gn(t,e){for(;e&&e!==t&&!e.nextSibling;)e=e.parentNode;return e&&e!==t?e.nextSibling:null}function Kn(t,e,n){n=void 0===n?new Set:n;for(var r=t;r;){if(r.nodeType===Node.ELEMENT_NODE){var o=r;e(o);var i=o.localName;if("link"===i&&"import"===o.getAttribute("rel")){if((r=o.import)instanceof Node&&!n.has(r))for(n.add(r),r=r.firstChild;r;r=r.nextSibling)Kn(r,e,n);r=Gn(t,o);continue}if("template"===i){r=Gn(t,o);continue}if(o=o.__CE_shadowRoot)for(o=o.firstChild;o;o=o.nextSibling)Kn(o,e,n)}r=r.firstChild?r.firstChild:Gn(t,r)}}function Yn(t,e,n){t[e]=n}function Xn(){this.a=new Map,this.m=new Map,this.f=[],this.c=!1}function Jn(t,e){t.c=!0,t.f.push(e)}function $n(t,e){t.c&&Kn(e,(function(e){return t.b(e)}))}function Zn(t,e){var n=[];for(Kn(e,(function(t){return n.push(t)})),e=0;e<n.length;e++){var r=n[e];1===r.__CE_state?t.connectedCallback(r):er(t,r)}}function Qn(t,e){var n=[];for(Kn(e,(function(t){return n.push(t)})),e=0;e<n.length;e++){var r=n[e];1===r.__CE_state&&t.disconnectedCallback(r)}}function tr(t,e,n){var r=(n=void 0===n?{}:n).cb||new Set,o=n.ha||function(e){return er(t,e)},i=[];if(Kn(e,(function(e){if("link"===e.localName&&"import"===e.getAttribute("rel")){var n=e.import;n instanceof Node&&(n.__CE_isImportDocument=!0,n.__CE_hasRegistry=!0),n&&"complete"===n.readyState?n.__CE_documentLoadHandled=!0:e.addEventListener("load",(function(){var n=e.import;if(!n.__CE_documentLoadHandled){n.__CE_documentLoadHandled=!0;var i=new Set(r);i.delete(n),tr(t,n,{cb:i,ha:o})}}))}else i.push(e)}),r),t.c)for(e=0;e<i.length;e++)t.b(i[e]);for(e=0;e<i.length;e++)o(i[e])}function er(t,e){if(void 0===e.__CE_state){var n=e.ownerDocument;if((n.defaultView||n.__CE_isImportDocument&&n.__CE_hasRegistry)&&(n=t.a.get(e.localName))){n.constructionStack.push(e);var r=n.constructor;try{try{if(new r!==e)throw Error("The custom element constructor did not produce the element being upgraded.")}finally{n.constructionStack.pop()}}catch(t){throw e.__CE_state=2,t}if(e.__CE_state=1,e.__CE_definition=n,n.attributeChangedCallback)for(n=n.observedAttributes,r=0;r<n.length;r++){var o=n[r],i=e.getAttribute(o);null!==i&&t.attributeChangedCallback(e,o,null,i,null)}Vn(e)&&t.connectedCallback(e)}}}function nr(t){var e=document;this.b=t,this.a=e,this.P=void 0,tr(this.b,this.a),"loading"===this.a.readyState&&(this.P=new MutationObserver(this.c.bind(this)),this.P.observe(this.a,{childList:!0,subtree:!0}))}function rr(t){t.P&&t.P.disconnect()}function or(){var t=this;this.a=this.A=void 0,this.b=new Promise((function(e){t.a=e,t.A&&e(t.A)}))}function ir(t){this.c=!1,this.a=t,this.G=new Map,this.f=function(t){return t()},this.b=!1,this.m=[],this.fa=new nr(t)}Xn.prototype.b=function(t){if(this.c&&!t.__CE_patched){t.__CE_patched=!0;for(var e=0;e<this.f.length;e++)this.f[e](t)}},Xn.prototype.connectedCallback=function(t){var e=t.__CE_definition;e.connectedCallback&&e.connectedCallback.call(t)},Xn.prototype.disconnectedCallback=function(t){var e=t.__CE_definition;e.disconnectedCallback&&e.disconnectedCallback.call(t)},Xn.prototype.attributeChangedCallback=function(t,e,n,r,o){var i=t.__CE_definition;i.attributeChangedCallback&&-1<i.observedAttributes.indexOf(e)&&i.attributeChangedCallback.call(t,e,n,r,o)},nr.prototype.c=function(t){var e=this.a.readyState;for("interactive"!==e&&"complete"!==e||rr(this),e=0;e<t.length;e++)for(var n=t[e].addedNodes,r=0;r<n.length;r++)tr(this.b,n[r])},or.prototype.resolve=function(t){if(this.A)throw Error("Already resolved.");this.A=t,this.a&&this.a(t)},(n=ir.prototype).define=function(t,e){var n=this;if(!(e instanceof Function))throw new TypeError("Custom element constructors must be functions.");if(!Wn(t))throw new SyntaxError("The element name '"+t+"' is not valid.");if(this.a.a.get(t))throw Error("A custom element with name '"+t+"' has already been defined.");if(this.c)throw Error("A custom element is already being defined.");this.c=!0;try{var r=function(t){var e=o[t];if(void 0!==e&&!(e instanceof Function))throw Error("The '"+t+"' callback must be a function.");return e},o=e.prototype;if(!(o instanceof Object))throw new TypeError("The custom element constructor's prototype is not an object.");var i=r("connectedCallback"),s=r("disconnectedCallback"),a=r("adoptedCallback"),c=r("attributeChangedCallback"),u=e.observedAttributes||[]}catch(t){return}finally{this.c=!1}e={localName:t,constructor:e,connectedCallback:i,disconnectedCallback:s,adoptedCallback:a,attributeChangedCallback:c,observedAttributes:u,constructionStack:[]},function(t,e,n){t.a.set(e,n),t.m.set(n.constructor,n)}(this.a,t,e),this.m.push(e),this.b||(this.b=!0,this.f((function(){return function(t){if(!1!==t.b){t.b=!1;for(var e=t.m,n=[],r=new Map,o=0;o<e.length;o++)r.set(e[o].localName,[]);for(tr(t.a,document,{ha:function(e){if(void 0===e.__CE_state){var o=e.localName,i=r.get(o);i?i.push(e):t.a.a.get(o)&&n.push(e)}}}),o=0;o<n.length;o++)er(t.a,n[o]);for(;0<e.length;){var i=e.shift();o=i.localName,i=r.get(i.localName);for(var s=0;s<i.length;s++)er(t.a,i[s]);(o=t.G.get(o))&&o.resolve(void 0)}}}(n)})))},n.ha=function(t){tr(this.a,t)},n.get=function(t){if(t=this.a.a.get(t))return t.constructor},n.Da=function(t){if(!Wn(t))return Promise.reject(new SyntaxError("'"+t+"' is not a valid custom element name."));var e=this.G.get(t);return e?e.b:(e=new or,this.G.set(t,e),this.a.a.get(t)&&!this.m.some((function(e){return e.localName===t}))&&e.resolve(void 0),e.b)},n.Za=function(t){rr(this.fa);var e=this.f;this.f=function(n){return t((function(){return e(n)}))}},window.CustomElementRegistry=ir,ir.prototype.define=ir.prototype.define,ir.prototype.upgrade=ir.prototype.ha,ir.prototype.get=ir.prototype.get,ir.prototype.whenDefined=ir.prototype.Da,ir.prototype.polyfillWrapFlushCallback=ir.prototype.Za;var sr=window.Document.prototype.createElement,ar=window.Document.prototype.createElementNS,cr=window.Document.prototype.importNode,ur=window.Document.prototype.prepend,lr=window.Document.prototype.append,hr=window.DocumentFragment.prototype.prepend,pr=window.DocumentFragment.prototype.append,dr=window.Node.prototype.cloneNode,fr=window.Node.prototype.appendChild,_r=window.Node.prototype.insertBefore,mr=window.Node.prototype.removeChild,vr=window.Node.prototype.replaceChild,gr=Object.getOwnPropertyDescriptor(window.Node.prototype,"textContent"),yr=window.Element.prototype.attachShadow,br=Object.getOwnPropertyDescriptor(window.Element.prototype,"innerHTML"),wr=window.Element.prototype.getAttribute,Er=window.Element.prototype.setAttribute,Or=window.Element.prototype.removeAttribute,xr=window.Element.prototype.getAttributeNS,Tr=window.Element.prototype.setAttributeNS,Ar=window.Element.prototype.removeAttributeNS,Sr=window.Element.prototype.insertAdjacentElement,Nr=window.Element.prototype.insertAdjacentHTML,Cr=window.Element.prototype.prepend,Ir=window.Element.prototype.append,Rr=window.Element.prototype.before,kr=window.Element.prototype.after,Lr=window.Element.prototype.replaceWith,jr=window.Element.prototype.remove,Pr=window.HTMLElement,Mr=Object.getOwnPropertyDescriptor(window.HTMLElement.prototype,"innerHTML"),Dr=window.HTMLElement.prototype.insertAdjacentElement,Ur=window.HTMLElement.prototype.insertAdjacentHTML,Fr=new function(){};function Br(t,e,n){function r(e){return function(n){for(var r=[],o=0;o<arguments.length;++o)r[o]=arguments[o];o=[];for(var i=[],s=0;s<r.length;s++){var a=r[s];if(a instanceof Element&&Vn(a)&&i.push(a),a instanceof DocumentFragment)for(a=a.firstChild;a;a=a.nextSibling)o.push(a);else o.push(a)}for(e.apply(this,r),r=0;r<i.length;r++)Qn(t,i[r]);if(Vn(this))for(r=0;r<o.length;r++)(i=o[r])instanceof Element&&Zn(t,i)}}void 0!==n.ga&&(e.prepend=r(n.ga)),void 0!==n.append&&(e.append=r(n.append))}var zr=window.customElements;if(!zr||zr.forcePolyfill||"function"!=typeof zr.define||"function"!=typeof zr.get){var Hr=new Xn;!function(){var t=Hr;window.HTMLElement=function(){function e(){var e=this.constructor,n=t.m.get(e);if(!n)throw Error("The custom element being constructed was not registered with `customElements`.");var r=n.constructionStack;if(0===r.length)return r=sr.call(document,n.localName),Object.setPrototypeOf(r,e.prototype),r.__CE_state=1,r.__CE_definition=n,t.b(r),r;var o=r[n=r.length-1];if(o===Fr)throw Error("The HTMLElement constructor was either called reentrantly for this constructor or called multiple times.");return r[n]=Fr,Object.setPrototypeOf(o,e.prototype),t.b(o),o}return e.prototype=Pr.prototype,Object.defineProperty(e.prototype,"constructor",{writable:!0,configurable:!0,enumerable:!1,value:e}),e}()}(),function(){var t=Hr;Yn(Document.prototype,"createElement",(function(e){if(this.__CE_hasRegistry){var n=t.a.get(e);if(n)return new n.constructor}return e=sr.call(this,e),t.b(e),e})),Yn(Document.prototype,"importNode",(function(e,n){return e=cr.call(this,e,n),this.__CE_hasRegistry?tr(t,e):$n(t,e),e})),Yn(Document.prototype,"createElementNS",(function(e,n){if(this.__CE_hasRegistry&&(null===e||"http://www.w3.org/1999/xhtml"===e)){var r=t.a.get(n);if(r)return new r.constructor}return e=ar.call(this,e,n),t.b(e),e})),Br(t,Document.prototype,{ga:ur,append:lr})}(),Br(Hr,DocumentFragment.prototype,{ga:hr,append:pr}),function(){function t(t,n){Object.defineProperty(t,"textContent",{enumerable:n.enumerable,configurable:!0,get:n.get,set:function(t){if(this.nodeType===Node.TEXT_NODE)n.set.call(this,t);else{var r=void 0;if(this.firstChild){var o=this.childNodes,i=o.length;if(0<i&&Vn(this)){r=Array(i);for(var s=0;s<i;s++)r[s]=o[s]}}if(n.set.call(this,t),r)for(t=0;t<r.length;t++)Qn(e,r[t])}}})}var e=Hr;Yn(Node.prototype,"insertBefore",(function(t,n){if(t instanceof DocumentFragment){var r=Array.prototype.slice.apply(t.childNodes);if(t=_r.call(this,t,n),Vn(this))for(n=0;n<r.length;n++)Zn(e,r[n]);return t}return r=Vn(t),n=_r.call(this,t,n),r&&Qn(e,t),Vn(this)&&Zn(e,t),n})),Yn(Node.prototype,"appendChild",(function(t){if(t instanceof DocumentFragment){var n=Array.prototype.slice.apply(t.childNodes);if(t=fr.call(this,t),Vn(this))for(var r=0;r<n.length;r++)Zn(e,n[r]);return t}return n=Vn(t),r=fr.call(this,t),n&&Qn(e,t),Vn(this)&&Zn(e,t),r})),Yn(Node.prototype,"cloneNode",(function(t){return t=dr.call(this,t),this.ownerDocument.__CE_hasRegistry?tr(e,t):$n(e,t),t})),Yn(Node.prototype,"removeChild",(function(t){var n=Vn(t),r=mr.call(this,t);return n&&Qn(e,t),r})),Yn(Node.prototype,"replaceChild",(function(t,n){if(t instanceof DocumentFragment){var r=Array.prototype.slice.apply(t.childNodes);if(t=vr.call(this,t,n),Vn(this))for(Qn(e,n),n=0;n<r.length;n++)Zn(e,r[n]);return t}r=Vn(t);var o=vr.call(this,t,n),i=Vn(this);return i&&Qn(e,n),r&&Qn(e,t),i&&Zn(e,t),o})),gr&&gr.get?t(Node.prototype,gr):Jn(e,(function(e){t(e,{enumerable:!0,configurable:!0,get:function(){for(var t=[],e=0;e<this.childNodes.length;e++)t.push(this.childNodes[e].textContent);return t.join("")},set:function(t){for(;this.firstChild;)mr.call(this,this.firstChild);fr.call(this,document.createTextNode(t))}})}))}(),function(){function t(t,e){Object.defineProperty(t,"innerHTML",{enumerable:e.enumerable,configurable:!0,get:e.get,set:function(t){var n=this,o=void 0;if(Vn(this)&&(o=[],Kn(this,(function(t){t!==n&&o.push(t)}))),e.set.call(this,t),o)for(var i=0;i<o.length;i++){var s=o[i];1===s.__CE_state&&r.disconnectedCallback(s)}return this.ownerDocument.__CE_hasRegistry?tr(r,this):$n(r,this),t}})}function e(t,e){Yn(t,"insertAdjacentElement",(function(t,n){var o=Vn(n);return t=e.call(this,t,n),o&&Qn(r,n),Vn(t)&&Zn(r,n),t}))}function n(t,e){function n(t,e){for(var n=[];t!==e;t=t.nextSibling)n.push(t);for(e=0;e<n.length;e++)tr(r,n[e])}Yn(t,"insertAdjacentHTML",(function(t,r){if("beforebegin"===(t=t.toLowerCase())){var o=this.previousSibling;e.call(this,t,r),n(o||this.parentNode.firstChild,this)}else if("afterbegin"===t)o=this.firstChild,e.call(this,t,r),n(this.firstChild,o);else if("beforeend"===t)o=this.lastChild,e.call(this,t,r),n(o||this.firstChild,null);else{if("afterend"!==t)throw new SyntaxError("The value provided ("+String(t)+") is not one of 'beforebegin', 'afterbegin', 'beforeend', or 'afterend'.");o=this.nextSibling,e.call(this,t,r),n(this.nextSibling,o)}}))}var r=Hr;yr&&Yn(Element.prototype,"attachShadow",(function(t){return this.__CE_shadowRoot=yr.call(this,t)})),br&&br.get?t(Element.prototype,br):Mr&&Mr.get?t(HTMLElement.prototype,Mr):Jn(r,(function(e){t(e,{enumerable:!0,configurable:!0,get:function(){return dr.call(this,!0).innerHTML},set:function(t){var e="template"===this.localName,n=e?this.content:this,r=ar.call(document,this.namespaceURI,this.localName);for(r.innerHTML=t;0<n.childNodes.length;)mr.call(n,n.childNodes[0]);for(t=e?r.content:r;0<t.childNodes.length;)fr.call(n,t.childNodes[0])}})})),Yn(Element.prototype,"setAttribute",(function(t,e){if(1!==this.__CE_state)return Er.call(this,t,e);var n=wr.call(this,t);Er.call(this,t,e),e=wr.call(this,t),r.attributeChangedCallback(this,t,n,e,null)})),Yn(Element.prototype,"setAttributeNS",(function(t,e,n){if(1!==this.__CE_state)return Tr.call(this,t,e,n);var o=xr.call(this,t,e);Tr.call(this,t,e,n),n=xr.call(this,t,e),r.attributeChangedCallback(this,e,o,n,t)})),Yn(Element.prototype,"removeAttribute",(function(t){if(1!==this.__CE_state)return Or.call(this,t);var e=wr.call(this,t);Or.call(this,t),null!==e&&r.attributeChangedCallback(this,t,e,null,null)})),Yn(Element.prototype,"removeAttributeNS",(function(t,e){if(1!==this.__CE_state)return Ar.call(this,t,e);var n=xr.call(this,t,e);Ar.call(this,t,e);var o=xr.call(this,t,e);n!==o&&r.attributeChangedCallback(this,e,n,o,t)})),Dr?e(HTMLElement.prototype,Dr):Sr?e(Element.prototype,Sr):console.warn("Custom Elements: `Element#insertAdjacentElement` was not patched."),Ur?n(HTMLElement.prototype,Ur):Nr?n(Element.prototype,Nr):console.warn("Custom Elements: `Element#insertAdjacentHTML` was not patched."),Br(r,Element.prototype,{ga:Cr,append:Ir}),function(t){function e(e){return function(n){for(var r=[],o=0;o<arguments.length;++o)r[o]=arguments[o];o=[];for(var i=[],s=0;s<r.length;s++){var a=r[s];if(a instanceof Element&&Vn(a)&&i.push(a),a instanceof DocumentFragment)for(a=a.firstChild;a;a=a.nextSibling)o.push(a);else o.push(a)}for(e.apply(this,r),r=0;r<i.length;r++)Qn(t,i[r]);if(Vn(this))for(r=0;r<o.length;r++)(i=o[r])instanceof Element&&Zn(t,i)}}var n=Element.prototype;void 0!==Rr&&(n.before=e(Rr)),void 0!==Rr&&(n.after=e(kr)),void 0!==Lr&&Yn(n,"replaceWith",(function(e){for(var n=[],r=0;r<arguments.length;++r)n[r]=arguments[r];r=[];for(var o=[],i=0;i<n.length;i++){var s=n[i];if(s instanceof Element&&Vn(s)&&o.push(s),s instanceof DocumentFragment)for(s=s.firstChild;s;s=s.nextSibling)r.push(s);else r.push(s)}for(i=Vn(this),Lr.apply(this,n),n=0;n<o.length;n++)Qn(t,o[n]);if(i)for(Qn(t,this),n=0;n<r.length;n++)(o=r[n])instanceof Element&&Zn(t,o)})),void 0!==jr&&Yn(n,"remove",(function(){var e=Vn(this);jr.call(this),e&&Qn(t,this)}))}(r)}(),document.__CE_hasRegistry=!0;var qr=new ir(Hr);Object.defineProperty(window,"customElements",{configurable:!0,enumerable:!0,value:qr})}function Wr(){this.end=this.start=0,this.rules=this.parent=this.previous=null,this.cssText=this.parsedCssText="",this.atRule=!1,this.type=0,this.parsedSelector=this.selector=this.keyframesName=""}function Vr(t){var e=Gr,n=t=t.replace(Zr,"").replace(Qr,""),r=new Wr;r.start=0,r.end=n.length;for(var o=r,i=0,s=n.length;i<s;i++)if("{"===n[i]){o.rules||(o.rules=[]);var a=o,c=a.rules[a.rules.length-1]||null;(o=new Wr).start=i+1,o.parent=a,o.previous=c,a.rules.push(o)}else"}"===n[i]&&(o.end=i+1,o=o.parent||r);return e(r,t)}function Gr(t,e){var n=e.substring(t.start,t.end-1);if(t.parsedCssText=t.cssText=n.trim(),t.parent&&(n=(n=(n=function(t){return t.replace(/\\([0-9a-f]{1,6})\s/gi,(function(t,e){for(e=6-(t=e).length;e--;)t="0"+t;return"\\"+t}))}(n=e.substring(t.previous?t.previous.end:t.parent.start,t.start-1))).replace(io," ")).substring(n.lastIndexOf(";")+1),n=t.parsedSelector=t.selector=n.trim(),t.atRule=0===n.indexOf("@"),t.atRule?0===n.indexOf("@media")?t.type=Jr:n.match(oo)&&(t.type=Xr,t.keyframesName=t.selector.split(io).pop()):t.type=0===n.indexOf("--")?$r:Yr),n=t.rules)for(var r,o=0,i=n.length;o<i&&(r=n[o]);o++)Gr(r,e);return t}var Kr,Yr=1,Xr=7,Jr=4,$r=1e3,Zr=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//gim,Qr=/@import[^;]*;/gim,to=/(?:^[^;\-\s}]+)?--[^;{}]*?:[^{};]*?(?:[;\n]|$)/gim,eo=/(?:^[^;\-\s}]+)?--[^;{}]*?:[^{};]*?{[^}]*?}(?:[;\n]|$)?/gim,no=/@apply\s*\(?[^);]*\)?\s*(?:[;\n]|$)?/gim,ro=/[^;:]*?:[^;]*?var\([^;]*\)(?:[;\n]|$)?/gim,oo=/^@[^\s]*keyframes/,io=/\s+/g,so=!(window.ShadyDOM&&window.ShadyDOM.inUse);function ao(t){Kr=(!t||!t.shimcssproperties)&&(so||!(navigator.userAgent.match(/AppleWebKit\/601|Edge\/15/)||!window.CSS||!CSS.supports||!CSS.supports("box-shadow","0 0 0 var(--foo)")))}window.ShadyCSS&&void 0!==window.ShadyCSS.nativeCss?Kr=window.ShadyCSS.nativeCss:window.ShadyCSS?(ao(window.ShadyCSS),window.ShadyCSS=void 0):ao(window.WebComponents&&window.WebComponents.flags);var co=Kr,uo=/(?:^|[;\s{]\s*)(--[\w-]*?)\s*:\s*(?:((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};{])+)|\{([^}]*)\}(?:(?=[;\s}])|$))/gi,lo=/(?:^|\W+)@apply\s*\(?([^);\n]*)\)?/gi,ho=/(--[\w-]+)\s*([:,;)]|$)/gi,po=/(animation\s*:)|(animation-name\s*:)/,fo=/@media\s(.*)/,_o=/\{[^}]*\}/g,mo=new Set;function vo(t,e){return t?("string"==typeof t&&(t=Vr(t)),e&&bo(t,e),function t(e,n,r){r=void 0===r?"":r;var o="";if(e.cssText||e.rules){var i,s=e.rules;if((i=s)&&(i=!((i=s[0])&&i.selector&&0===i.selector.indexOf("--"))),i){i=0;for(var a,c=s.length;i<c&&(a=s[i]);i++)o=t(a,n,o)}else n?n=e.cssText:n=(n=(n=e.cssText).replace(to,"").replace(eo,"")).replace(no,"").replace(ro,""),(o=n.trim())&&(o="  "+o+"\n")}return o&&(e.selector&&(r+=e.selector+" {\n"),r+=o,e.selector&&(r+="}\n\n")),r}(t,co)):""}function go(t){return!t.__cssRules&&t.textContent&&(t.__cssRules=Vr(t.textContent)),t.__cssRules||null}function yo(t){return!!t.parent&&t.parent.type===Xr}function bo(t,e,n,r){if(t){var o=!1,i=t.type;if(r&&i===Jr){var s=t.selector.match(fo);s&&(window.matchMedia(s[1]).matches||(o=!0))}if(i===Yr?e(t):n&&i===Xr?n(t):i===$r&&(o=!0),(t=t.rules)&&!o){o=0,i=t.length;for(var a;o<i&&(a=t[o]);o++)bo(a,e,n,r)}}}function wo(t,e,n,r){var o=document.createElement("style");return e&&o.setAttribute("scope",e),o.textContent=t,xo(o,n,r),o}var Eo=null;function Oo(t){t=document.createComment(" Shady DOM styles for "+t+" ");var e=document.head;return e.insertBefore(t,(Eo?Eo.nextSibling:null)||e.firstChild),Eo=t}function xo(t,e,n){(e=e||document.head).insertBefore(t,n&&n.nextSibling||e.firstChild),Eo?t.compareDocumentPosition(Eo)===Node.DOCUMENT_POSITION_PRECEDING&&(Eo=t):Eo=t}function To(t,e){for(var n=0,r=t.length;e<r;e++)if("("===t[e])n++;else if(")"===t[e]&&0==--n)return e;return-1}function Ao(t,e){so?t.setAttribute("class",e):window.ShadyDOM.nativeMethods.setAttribute.call(t,"class",e)}function So(t){var e=t.localName,n="";return e?-1<e.indexOf("-")||(n=e,e=t.getAttribute&&t.getAttribute("is")||""):(e=t.is,n=t.extends),{is:e,X:n}}function No(t){for(var e=[],n="",r=0;0<=r&&r<t.length;r++)if("("===t[r]){var o=To(t,r);n+=t.slice(r,o+1),r=o}else","===t[r]?(e.push(n),n=""):n+=t[r];return n&&e.push(n),e}function Co(){}function Io(t,e,n){if(e.nodeType===Node.ELEMENT_NODE&&n(e),e="template"===e.localName?(e.content||e.kb||e).childNodes:e.children||e.childNodes)for(var r=0;r<e.length;r++)Io(t,e[r],n)}function Ro(t,e,n){if(e)if(t.classList)n?(t.classList.remove("style-scope"),t.classList.remove(e)):(t.classList.add("style-scope"),t.classList.add(e));else if(t.getAttribute){var r=t.getAttribute(ti);n?r&&Ao(t,e=r.replace("style-scope","").replace(e,"")):Ao(t,(r?r+" ":"")+"style-scope "+e)}}function ko(t,e,n){var r=ri;t.__styleScoped?t.__styleScoped=null:Io(r,t,(function(t){Ro(t,e,!0),Ro(t,n)}))}function Lo(t,e){var n=ri;t.__styleScoped?t.__styleScoped=null:Io(n,t,(function(t){Ro(t,e||"",!0)}))}function jo(t,e,n){var r=ri,o=t.__cssBuild;return so||"shady"===o?e=vo(e,n):e=function(t,e,n,r,o){var i=Po(n,r);return n=n?Zo+n:"",vo(e,(function(e){e.c||(e.selector=e.F=Mo(t,e,t.b,n,i),e.c=!0),o&&o(e,n,i)}))}(r,e,(t=So(t)).is,t.X,n)+"\n\n",e.trim()}function Po(t,e){return e?"[is="+t+"]":t}function Mo(t,e,n,r,o){var i=No(e.selector);if(!yo(e)){e=0;for(var s,a=i.length;e<a&&(s=i[e]);e++)i[e]=n.call(t,s,r,o)}return i.filter((function(t){return!!t})).join(Ho)}function Do(t){return t.replace(Bo,(function(t,e,n){return-1<n.indexOf("+")?n=n.replace(/\+/g,"___"):-1<n.indexOf("___")&&(n=n.replace(/___/g,"+")),":"+e+"("+n+")"}))}function Uo(t,e){return(t=t.split(Qo))[0]+=e,t.join(Qo)}function Fo(t){t.selector===Go&&(t.selector="html")}Co.prototype.b=function(t,e,n){var r=!1;t=t.trim();var o=Bo.test(t);o&&(t=Do(t=t.replace(Bo,(function(t,e,n){return":"+e+"("+n.replace(/\s/g,"")+")"}))));var i=ni.test(t);if(i){var s=function(t){for(var e,n=[];e=t.match(ni);){var r=e.index,o=To(t,r);if(-1===o)throw Error(e.input+" selector missing ')'");e=t.slice(r,o+1),t=t.replace(e,"\ue000"),n.push(e)}return{ra:t,matches:n}}(t);t=s.ra,s=s.matches}return t=(t=t.replace(Yo,Vo+" $1")).replace(qo,(function(t,o,i){return r||(t=function(t,e,n,r){var o=t.indexOf(Ko);if(0<=t.indexOf(Vo)?t=function(t,e){var n=t.match(Xo);return(n=n&&n[2].trim()||"")?n[0].match(Wo)?t.replace(Xo,(function(t,n,r){return e+r})):n.split(Wo)[0]===e?n:ei:t.replace(Vo,e)}(t,r):0!==o&&(t=n?Uo(t,n):t),n=!1,0<=o&&(e="",n=!0),n){var i=!0;n&&(t=t.replace(Jo,(function(t,e){return" > "+e})))}return{value:t=t.replace($o,(function(t,e,n){return'[dir="'+n+'"] '+e+", "+e+'[dir="'+n+'"]'})),Qa:e,stop:i}}(i,o,e,n),r=r||t.stop,o=t.Qa,i=t.value),o+i})),i&&(t=function(t,e){var n=t.split("\ue000");return e.reduce((function(t,e,r){return t+e+n[r+1]}),n[0])}(t,s)),o&&(t=Do(t)),t},Co.prototype.c=function(t){return t.match(Vo)?"":t.match(Ko)?this.b(t,zo):Uo(t.trim(),zo)},o.Object.defineProperties(Co.prototype,{a:{configurable:!0,enumerable:!0,get:function(){return"style-scope"}}});var Bo=/:(nth[-\w]+)\(([^)]+)\)/,zo=":not(.style-scope)",Ho=",",qo=/(^|[\s>+~]+)((?:\[.+?\]|[^\s>+~=[])+)/g,Wo=/[[.:#*]/,Vo=":host",Go=":root",Ko="::slotted",Yo=new RegExp("^("+Ko+")"),Xo=/(:host)(?:\(((?:\([^)(]*\)|[^)(]*)+?)\))/,Jo=/(?:::slotted)(?:\(((?:\([^)(]*\)|[^)(]*)+?)\))/,$o=/(.*):dir\((?:(ltr|rtl))\)/,Zo=".",Qo=":",ti="class",ei="should_not_match",ni=/:(?:matches|any|-(?:webkit|moz)-any)/,ri=new Co;function oi(t,e,n,r){this.M=t||null,this.b=e||null,this.pa=n||[],this.T=null,this.X=r||"",this.a=this.I=this.O=null}function ii(t){return t?t.__styleInfo:null}function si(t,e){return t.__styleInfo=e}function ai(t){var e=this.matches||this.matchesSelector||this.mozMatchesSelector||this.msMatchesSelector||this.oMatchesSelector||this.webkitMatchesSelector;return e&&e.call(this,t)}oi.prototype.c=function(){return this.M},oi.prototype._getStyleRules=oi.prototype.c;var ci=navigator.userAgent.match("Trident");function ui(){}function li(t){if(!t.B){var e={},n={};hi(t,n)&&(e.L=n,t.rules=null),e.cssText=t.parsedCssText.replace(_o,"").replace(uo,""),t.B=e}}function hi(t,e){var n=t.B;if(!n){n=t.parsedCssText;for(var r;t=uo.exec(n);)"inherit"===(r=(t[2]||t[3]).trim())&&"unset"===r||(e[t[1].trim()]=r),r=!0;return r}if(n.L)return Object.assign(e,n.L),!0}function pi(t,e,n){return e&&(e=0<=e.indexOf(";")?di(t,e,n):function t(e,n){var r=e.indexOf("var(");if(-1===r)return n(e,"","","");var o=To(e,r+3),i=e.substring(r+4,o);return r=e.substring(0,r),e=t(e.substring(o+1),n),-1===(o=i.indexOf(","))?n(r,i.trim(),"",e):n(r,i.substring(0,o).trim(),i.substring(o+1).trim(),e)}(e,(function(e,r,o,i){return r?((r=pi(t,n[r],n))&&"initial"!==r?"apply-shim-inherit"===r&&(r="inherit"):r=pi(t,n[o]||o,n)||o,e+(r||"")+i):e+i}))),e&&e.trim()||""}function di(t,e,n){e=e.split(";");for(var r,o,i=0;i<e.length;i++)if(r=e[i]){if(lo.lastIndex=0,o=lo.exec(r))r=pi(t,n[o[1]],n);else if(-1!==(o=r.indexOf(":"))){var s=r.substring(o);s=pi(t,s=s.trim(),n)||s,r=r.substring(0,o)+s}e[i]=r&&r.lastIndexOf(";")===r.length-1?r.slice(0,-1):r||""}return e.join(";")}function fi(t,e){var n={},r={},o=e&&e.__cssBuild;return bo(e,(function(e){!function(t,e,n,r){if(e.B||li(e),e.B.L){var o=So(t);t=o.is,o=o.X,o=t?Po(t,o):"html";var i=e.parsedSelector,s=":host > *"===i||"html"===i,a=0===i.indexOf(":host")&&!s;"shady"===n&&(a=!(s=i===o+" > *."+o||-1!==i.indexOf("html"))&&0===i.indexOf(o)),"shadow"===n&&(s=":host > *"===i||"html"===i,a=a&&!s),(s||a)&&(n=o,a&&(e.F||(e.F=Mo(ri,e,ri.b,t?Zo+t:"",o)),n=e.F||o),r({ra:n,Wa:a,xb:s}))}}(t,e,o,(function(o){ai.call(t.lb||t,o.ra)&&(o.Wa?hi(e,n):hi(e,r))}))}),null,!0),{$a:r,Ua:n}}function _i(t,e,n,r){var o=So(e),i=Po(o.is,o.X),s=new RegExp("(?:^|[^.#[:])"+(e.extends?"\\"+i.slice(0,-1)+"\\]":i)+"($|[.:[\\s>+~])"),a=function(t,e){t=t.b;var n={};if(!so&&t)for(var r=0,o=t[r];r<t.length;o=t[++r]){var i=o,s=e;i.f=new RegExp("\\b"+i.keyframesName+"(?!\\B|-)","g"),i.a=i.keyframesName+"-"+s,i.F=i.F||i.selector,i.selector=i.F.replace(i.keyframesName,i.a),n[o.keyframesName]=mi(o)}return n}(o=ii(e).M,r);return jo(e,o,(function(e){var o="";if(e.B||li(e),e.B.cssText&&(o=di(t,e.B.cssText,n)),e.cssText=o,!so&&!yo(e)&&e.cssText){var c=o=e.cssText;if(null==e.ya&&(e.ya=po.test(o)),e.ya)if(null==e.ea)for(var u in e.ea=[],a)o!==(c=(c=a[u])(o))&&(o=c,e.ea.push(u));else{for(u=0;u<e.ea.length;++u)o=(c=a[e.ea[u]])(o);c=o}e.cssText=c,e.F=e.F||e.selector,o="."+r,c=0;for(var l,h=(u=No(e.F)).length;c<h&&(l=u[c]);c++)u[c]=l.match(s)?l.replace(i,o):o+" "+l;e.selector=u.join(",")}}))}function mi(t){return function(e){return e.replace(t.f,t.a)}}function vi(t,e){var n=gi,r=go(t);t.textContent=vo(r,(function(t){var r=t.cssText=t.parsedCssText;t.B&&t.B.cssText&&(r=r.replace(to,"").replace(eo,""),t.cssText=di(n,r,e))}))}o.Object.defineProperties(ui.prototype,{a:{configurable:!0,enumerable:!0,get:function(){return"x-scope"}}});var gi=new ui,yi={},bi=window.customElements;if(bi&&!so){var wi=bi.define;bi.define=function(t,e,n){yi[t]||(yi[t]=Oo(t)),wi.call(bi,t,e,n)}}function Ei(){this.cache={}}function Oi(){}function xi(t){for(var e=0;e<t.length;e++){var n=t[e];if(n.target!==document.documentElement&&n.target!==document.head)for(var r=0;r<n.addedNodes.length;r++){var o=n.addedNodes[r];if(o.nodeType===Node.ELEMENT_NODE){var i=o.getRootNode(),s=o,a=[];if(s.classList?a=Array.from(s.classList):s instanceof window.SVGElement&&s.hasAttribute("class")&&(a=s.getAttribute("class").split(/\s+/)),a=(s=a).indexOf(ri.a),(s=-1<a?s[a+1]:"")&&i===o.ownerDocument)Lo(o,s);else if(i.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&(i=i.host))for((i=So(i).is)!==s&&ko(o,s,i),o=window.ShadyDOM.nativeMethods.querySelectorAll.call(o,":not(."+ri.a+")"),i=0;i<o.length;i++)(a=(s=o[i]).getRootNode().host)&&Ro(s,a=So(a).is)}}}}if(Ei.prototype.store=function(t,e,n,r){var o=this.cache[t]||[];o.push({L:e,styleElement:n,I:r}),100<o.length&&o.shift(),this.cache[t]=o},Ei.prototype.fetch=function(t,e,n){if(t=this.cache[t])for(var r=t.length-1;0<=r;r--){var o,i=t[r];t:{for(o=0;o<n.length;o++){var s=n[o];if(i.L[s]!==e[s]){o=!1;break t}}o=!0}if(o)return i}},!so){var Ti=new MutationObserver(xi),Ai=function(t){Ti.observe(t,{childList:!0,subtree:!0})};if(window.customElements&&!window.customElements.polyfillWrapFlushCallback)Ai(document);else{var Si=function(){Ai(document.body)};window.HTMLImports?window.HTMLImports.whenReady(Si):requestAnimationFrame((function(){if("loading"===document.readyState){var t=function(){Si(),document.removeEventListener("readystatechange",t)};document.addEventListener("readystatechange",t)}else Si()}))}Oi=function(){xi(Ti.takeRecords())}}var Ni=Oi,Ci={},Ii=Promise.resolve();function Ri(t){(t=Ci[t])&&(t._applyShimCurrentVersion=t._applyShimCurrentVersion||0,t._applyShimValidatingVersion=t._applyShimValidatingVersion||0,t._applyShimNextVersion=(t._applyShimNextVersion||0)+1)}function ki(t){return t._applyShimCurrentVersion===t._applyShimNextVersion}var Li=new Ei;function ji(){this.G={},this.c=document.documentElement;var t=new Wr;t.rules=[],this.f=si(this.c,new oi(t)),this.m=!1,this.b=this.a=null}function Pi(t){!t.a&&window.ShadyCSS&&window.ShadyCSS.ApplyShim&&(t.a=window.ShadyCSS.ApplyShim,t.a.invalidCallback=Ri),function(t){!t.b&&window.ShadyCSS&&window.ShadyCSS.CustomStyleInterface&&(t.b=window.ShadyCSS.CustomStyleInterface,t.b.transformCallback=function(e){t.Ba(e)},t.b.validateCallback=function(){requestAnimationFrame((function(){(t.b.enqueued||t.m)&&t.flushCustomStyles()}))})}(t)}function Mi(t,e){return(e=e.getRootNode().host)?ii(e)?e:Mi(t,e):t.c}function Di(t,e,n){var r=ii(t=Mi(t,e));t=Object.create(r.O||null);var o=fi(e,n.M);for(var i in e=function(t,e){var n={},r=[];return bo(t,(function(t){t.B||li(t);var o=t.F||t.parsedSelector;e&&t.B.L&&o&&ai.call(e,o)&&(hi(t,n),t=t.index,o=parseInt(t/32,10),r[o]=(r[o]||0)|1<<t%32)}),null,!0),{L:n,key:r}}(r.M,e).L,Object.assign(t,o.Ua,e,o.$a),e=n.T)((o=e[i])||0===o)&&(t[i]=o);for(i=gi,e=Object.getOwnPropertyNames(t),o=0;o<e.length;o++)t[r=e[o]]=pi(i,t[r],t);n.O=t}(n=ji.prototype).flush=function(){Ni()},n.Sa=function(t){return go(t)},n.bb=function(t){return vo(t)},n.prepareTemplate=function(t,e,n){this.prepareTemplateDom(t,e),this.prepareTemplateStyles(t,e,n)},n.prepareTemplateStyles=function(t,e,n){if(!t.m){so||yi[e]||(yi[e]=Oo(e)),t.m=!0,t.name=e,t.extends=n,Ci[e]=t;for(var r=(r=t.content.querySelector("style"))&&r.getAttribute("css-build")||"",o=[],i=t.content.querySelectorAll("style"),s=0;s<i.length;s++){var a=i[s];if(a.hasAttribute("shady-unscoped")){if(!so){var c=a.textContent;mo.has(c)||(mo.add(c),c=a.cloneNode(!0),document.head.appendChild(c)),a.parentNode.removeChild(a)}}else o.push(a.textContent),a.parentNode.removeChild(a)}o=o.join("").trim(),n={is:e,extends:n,ib:r},Pi(this),i=lo.test(o)||uo.test(o),lo.lastIndex=0,uo.lastIndex=0,o=Vr(o),i&&co&&this.a&&this.a.transformRules(o,e),t._styleAst=o,t.G=r,r=[],co||(r=function(t){var e={},n=[],r=0;for(var o in bo(t,(function(t){li(t),t.index=r++,t=t.B.cssText;for(var n;n=ho.exec(t);){var o=n[1];":"!==n[2]&&(e[o]=!0)}}),(function(t){n.push(t)})),t.b=n,t=[],e)t.push(o);return t}(t._styleAst)),r.length&&!co||(o=so?t.content:null,e=yi[e]||null,e=(i=jo(n,t._styleAst)).length?wo(i,n.is,o,e):void 0,t.a=e),t.f=r}},n.prepareTemplateDom=function(t,e){so||t.c||(t.c=!0,function(t,e){var n=ri;t.__styleScoped?t.__styleScoped=null:Io(n,t,(function(t){Ro(t,e||"")}))}(t.content,e))},n.flushCustomStyles=function(){if(Pi(this),this.b){var t=this.b.processStyles();if(this.b.enqueued){if(co)for(var e=0;e<t.length;e++){var n=this.b.getStyleForCustomStyle(t[e]);if(n&&co&&this.a){var r=go(n);Pi(this),this.a.transformRules(r),n.textContent=vo(r)}}else for(Di(this,this.c,this.f),e=0;e<t.length;e++)(n=this.b.getStyleForCustomStyle(t[e]))&&vi(n,this.f.O);this.b.enqueued=!1,this.m&&!co&&this.styleDocument()}}},n.styleElement=function(t,e){var n=So(t).is,r=ii(t);if(!r){var o=So(t);r=o.is,o=o.X;var i=yi[r]||null;if(r=Ci[r])var s=r._styleAst,a=r.f;s=new oi(s,i,a,o),r&&si(t,s),r=s}if(t!==this.c&&(this.m=!0),e&&(r.T=r.T||{},Object.assign(r.T,e)),co){if(r.T)for(var c in e=r.T)null===c?t.style.removeProperty(c):t.style.setProperty(c,e[c]);((c=Ci[n])||t===this.c)&&c&&c.a&&!ki(c)&&((ki(c)||c._applyShimValidatingVersion!==c._applyShimNextVersion)&&(Pi(this),this.a&&this.a.transformRules(c._styleAst,n),c.a.textContent=jo(t,r.M),function(t){t._applyShimValidatingVersion=t._applyShimNextVersion,t.b||(t.b=!0,Ii.then((function(){t._applyShimCurrentVersion=t._applyShimNextVersion,t.b=!1})))}(c)),so&&(n=t.shadowRoot)&&(n.querySelector("style").textContent=jo(t,r.M)),r.M=c._styleAst)}else if(this.flush(),Di(this,t,r),r.pa&&r.pa.length){n=r,c=So(t).is,r=(e=Li.fetch(c,n.O,n.pa))?e.styleElement:null,s=n.I,(a=e&&e.I)||(a=c+"-"+(a=this.G[c]=(this.G[c]||0)+1)),n.I=a,a=n.I,o=gi,o=r?r.textContent||"":_i(o,t,n.O,a);var u=(i=ii(t)).a;u&&!so&&u!==r&&(u._useCount--,0>=u._useCount&&u.parentNode&&u.parentNode.removeChild(u)),so?i.a?(i.a.textContent=o,r=i.a):o&&(r=wo(o,a,t.shadowRoot,i.b)):r?r.parentNode||(ci&&-1<o.indexOf("@media")&&(r.textContent=o),xo(r,null,i.b)):o&&(r=wo(o,a,null,i.b)),r&&(r._useCount=r._useCount||0,i.a!=r&&r._useCount++,i.a=r),a=r,so||(r=n.I,i=o=t.getAttribute("class")||"",s&&(i=o.replace(new RegExp("\\s*x-scope\\s*"+s+"\\s*","g")," ")),o!==(i+=(i?" ":"")+"x-scope "+r)&&Ao(t,i)),e||Li.store(c,n.O,a,n.I)}},n.styleDocument=function(t){this.styleSubtree(this.c,t)},n.styleSubtree=function(t,e){var n=t.shadowRoot;if((n||t===this.c)&&this.styleElement(t,e),e=n&&(n.children||n.childNodes))for(t=0;t<e.length;t++)this.styleSubtree(e[t]);else if(t=t.children||t.childNodes)for(e=0;e<t.length;e++)this.styleSubtree(t[e])},n.Ba=function(t){var e=this,n=go(t);bo(n,(function(t){if(so)Fo(t);else{var n=ri;t.selector=t.parsedSelector,Fo(t),t.selector=t.F=Mo(n,t,n.c,void 0,void 0)}co&&(Pi(e),e.a&&e.a.transformRule(t))})),co?t.textContent=vo(n):this.f.M.rules.push(n)},n.getComputedStyleValue=function(t,e){var n;return co||(n=(ii(t)||ii(Mi(this,t))).O[e]),(n=n||window.getComputedStyle(t).getPropertyValue(e))?n.trim():""},n.ab=function(t,e){var n=t.getRootNode();if(e=e?e.split(/\s/):[],!(n=n.host&&n.host.localName)){var r=t.getAttribute("class");if(r){r=r.split(/\s/);for(var o=0;o<r.length;o++)if(r[o]===ri.a){n=r[o+1];break}}}n&&e.push(ri.a,n),co||(n=ii(t))&&n.I&&e.push(gi.a,n.I),Ao(t,e.join(" "))},n.Na=function(t){return ii(t)},ji.prototype.flush=ji.prototype.flush,ji.prototype.prepareTemplate=ji.prototype.prepareTemplate,ji.prototype.styleElement=ji.prototype.styleElement,ji.prototype.styleDocument=ji.prototype.styleDocument,ji.prototype.styleSubtree=ji.prototype.styleSubtree,ji.prototype.getComputedStyleValue=ji.prototype.getComputedStyleValue,ji.prototype.setElementClass=ji.prototype.ab,ji.prototype._styleInfoForNode=ji.prototype.Na,ji.prototype.transformCustomStyleForDocument=ji.prototype.Ba,ji.prototype.getStyleAst=ji.prototype.Sa,ji.prototype.styleAstToString=ji.prototype.bb,ji.prototype.flushCustomStyles=ji.prototype.flushCustomStyles,Object.defineProperties(ji.prototype,{nativeShadow:{get:function(){return so}},nativeCss:{get:function(){return co}}});var Ui,Fi,Bi=new ji;window.ShadyCSS&&(Ui=window.ShadyCSS.ApplyShim,Fi=window.ShadyCSS.CustomStyleInterface),window.ShadyCSS={ScopingShim:Bi,prepareTemplate:function(t,e,n){Bi.flushCustomStyles(),Bi.prepareTemplate(t,e,n)},prepareTemplateDom:function(t,e){Bi.prepareTemplateDom(t,e)},prepareTemplateStyles:function(t,e,n){Bi.flushCustomStyles(),Bi.prepareTemplateStyles(t,e,n)},styleSubtree:function(t,e){Bi.flushCustomStyles(),Bi.styleSubtree(t,e)},styleElement:function(t){Bi.flushCustomStyles(),Bi.styleElement(t)},styleDocument:function(t){Bi.flushCustomStyles(),Bi.styleDocument(t)},flushCustomStyles:function(){Bi.flushCustomStyles()},getComputedStyleValue:function(t,e){return Bi.getComputedStyleValue(t,e)},nativeCss:co,nativeShadow:so},Ui&&(window.ShadyCSS.ApplyShim=Ui),Fi&&(window.ShadyCSS.CustomStyleInterface=Fi),function(t){function e(t){return""==t&&(i.call(this),this.i=!0),t.toLowerCase()}function n(t){var e=t.charCodeAt(0);return 32<e&&127>e&&-1==[34,35,60,62,63,96].indexOf(e)?t:encodeURIComponent(t)}function r(t){var e=t.charCodeAt(0);return 32<e&&127>e&&-1==[34,35,60,62,96].indexOf(e)?t:encodeURIComponent(t)}function o(t,o,s){function a(t){v.push(t)}var c=o||"scheme start",d=0,f="",_=!1,m=!1,v=[];t:for(;(null!=t[d-1]||0==d)&&!this.i;){var g=t[d];switch(c){case"scheme start":if(!g||!h.test(g)){if(o){a("Invalid scheme.");break t}f="",c="no scheme";continue}f+=g.toLowerCase(),c="scheme";break;case"scheme":if(g&&p.test(g))f+=g.toLowerCase();else{if(":"!=g){if(o){null!=g&&a("Code point not allowed in scheme: "+g);break t}f="",d=0,c="no scheme";continue}if(this.h=f,f="",o)break t;void 0!==u[this.h]&&(this.D=!0),c="file"==this.h?"relative":this.D&&s&&s.h==this.h?"relative or authority":this.D?"authority first slash":"scheme data"}break;case"scheme data":"?"==g?(this.u="?",c="query"):"#"==g?(this.C="#",c="fragment"):null!=g&&"\t"!=g&&"\n"!=g&&"\r"!=g&&(this.na+=n(g));break;case"no scheme":if(s&&void 0!==u[s.h]){c="relative";continue}a("Missing scheme."),i.call(this),this.i=!0;break;case"relative or authority":if("/"!=g||"/"!=t[d+1]){a("Expected /, got: "+g),c="relative";continue}c="authority ignore slashes";break;case"relative":if(this.D=!0,"file"!=this.h&&(this.h=s.h),null==g){this.j=s.j,this.s=s.s,this.l=s.l.slice(),this.u=s.u,this.v=s.v,this.g=s.g;break t}if("/"==g||"\\"==g)"\\"==g&&a("\\ is an invalid code point."),c="relative slash";else if("?"==g)this.j=s.j,this.s=s.s,this.l=s.l.slice(),this.u="?",this.v=s.v,this.g=s.g,c="query";else{if("#"!=g){c=t[d+1];var y=t[d+2];("file"!=this.h||!h.test(g)||":"!=c&&"|"!=c||null!=y&&"/"!=y&&"\\"!=y&&"?"!=y&&"#"!=y)&&(this.j=s.j,this.s=s.s,this.v=s.v,this.g=s.g,this.l=s.l.slice(),this.l.pop()),c="relative path";continue}this.j=s.j,this.s=s.s,this.l=s.l.slice(),this.u=s.u,this.C="#",this.v=s.v,this.g=s.g,c="fragment"}break;case"relative slash":if("/"!=g&&"\\"!=g){"file"!=this.h&&(this.j=s.j,this.s=s.s,this.v=s.v,this.g=s.g),c="relative path";continue}"\\"==g&&a("\\ is an invalid code point."),c="file"==this.h?"file host":"authority ignore slashes";break;case"authority first slash":if("/"!=g){a("Expected '/', got: "+g),c="authority ignore slashes";continue}c="authority second slash";break;case"authority second slash":if(c="authority ignore slashes","/"!=g){a("Expected '/', got: "+g);continue}break;case"authority ignore slashes":if("/"!=g&&"\\"!=g){c="authority";continue}a("Expected authority, got: "+g);break;case"authority":if("@"==g){for(_&&(a("@ already seen."),f+="%40"),_=!0,g=0;g<f.length;g++)"\t"==(y=f[g])||"\n"==y||"\r"==y?a("Invalid whitespace in authority."):":"==y&&null===this.g?this.g="":(y=n(y),null!==this.g?this.g+=y:this.v+=y);f=""}else{if(null==g||"/"==g||"\\"==g||"?"==g||"#"==g){d-=f.length,f="",c="host";continue}f+=g}break;case"file host":if(null==g||"/"==g||"\\"==g||"?"==g||"#"==g){2!=f.length||!h.test(f[0])||":"!=f[1]&&"|"!=f[1]?(0!=f.length&&(this.j=e.call(this,f),f=""),c="relative path start"):c="relative path";continue}"\t"==g||"\n"==g||"\r"==g?a("Invalid whitespace in file host."):f+=g;break;case"host":case"hostname":if(":"!=g||m){if(null==g||"/"==g||"\\"==g||"?"==g||"#"==g){if(this.j=e.call(this,f),f="",c="relative path start",o)break t;continue}"\t"!=g&&"\n"!=g&&"\r"!=g?("["==g?m=!0:"]"==g&&(m=!1),f+=g):a("Invalid code point in host/hostname: "+g)}else if(this.j=e.call(this,f),f="",c="port","hostname"==o)break t;break;case"port":if(/[0-9]/.test(g))f+=g;else{if(null==g||"/"==g||"\\"==g||"?"==g||"#"==g||o){if(""!=f&&((f=parseInt(f,10))!=u[this.h]&&(this.s=f+""),f=""),o)break t;c="relative path start";continue}"\t"==g||"\n"==g||"\r"==g?a("Invalid code point in port: "+g):(i.call(this),this.i=!0)}break;case"relative path start":if("\\"==g&&a("'\\' not allowed in path."),c="relative path","/"!=g&&"\\"!=g)continue;break;case"relative path":null!=g&&"/"!=g&&"\\"!=g&&(o||"?"!=g&&"#"!=g)?"\t"!=g&&"\n"!=g&&"\r"!=g&&(f+=n(g)):("\\"==g&&a("\\ not allowed in relative path."),(y=l[f.toLowerCase()])&&(f=y),".."==f?(this.l.pop(),"/"!=g&&"\\"!=g&&this.l.push("")):"."==f&&"/"!=g&&"\\"!=g?this.l.push(""):"."!=f&&("file"==this.h&&0==this.l.length&&2==f.length&&h.test(f[0])&&"|"==f[1]&&(f=f[0]+":"),this.l.push(f)),f="","?"==g?(this.u="?",c="query"):"#"==g&&(this.C="#",c="fragment"));break;case"query":o||"#"!=g?null!=g&&"\t"!=g&&"\n"!=g&&"\r"!=g&&(this.u+=r(g)):(this.C="#",c="fragment");break;case"fragment":null!=g&&"\t"!=g&&"\n"!=g&&"\r"!=g&&(this.C+=g)}d++}}function i(){this.v=this.na=this.h="",this.g=null,this.s=this.j="",this.l=[],this.C=this.u="",this.D=this.i=!1}function s(t,e){void 0===e||e instanceof s||(e=new s(String(e))),this.Oa=t,i.call(this),t=t.replace(/^[ \t\r\n\f]+|[ \t\r\n\f]+$/g,""),o.call(this,t,null,e)}var a=!1;if(!t.rb)try{var c=new URL("b","http://a");c.pathname="c%20d",a="http://a/c%20d"===c.href}catch(t){}if(!a){var u=Object.create(null);u.ftp=21,u.file=0,u.gopher=70,u.http=80,u.https=443,u.ws=80,u.wss=443;var l=Object.create(null);l["%2e"]=".",l[".%2e"]="..",l["%2e."]="..",l["%2e%2e"]="..";var h=/[a-zA-Z]/,p=/[a-zA-Z0-9\+\-\.]/;s.prototype={toString:function(){return this.href},get href(){if(this.i)return this.Oa;var t="";return""==this.v&&null==this.g||(t=this.v+(null!=this.g?":"+this.g:"")+"@"),this.protocol+(this.D?"//"+t+this.host:"")+this.pathname+this.u+this.C},set href(t){i.call(this),o.call(this,t)},get protocol(){return this.h+":"},set protocol(t){this.i||o.call(this,t+":","scheme start")},get host(){return this.i?"":this.s?this.j+":"+this.s:this.j},set host(t){!this.i&&this.D&&o.call(this,t,"host")},get hostname(){return this.j},set hostname(t){!this.i&&this.D&&o.call(this,t,"hostname")},get port(){return this.s},set port(t){!this.i&&this.D&&o.call(this,t,"port")},get pathname(){return this.i?"":this.D?"/"+this.l.join("/"):this.na},set pathname(t){!this.i&&this.D&&(this.l=[],o.call(this,t,"relative path start"))},get search(){return this.i||!this.u||"?"==this.u?"":this.u},set search(t){!this.i&&this.D&&(this.u="?","?"==t[0]&&(t=t.slice(1)),o.call(this,t,"query"))},get hash(){return this.i||!this.C||"#"==this.C?"":this.C},set hash(t){this.i||(this.C="#","#"==t[0]&&(t=t.slice(1)),o.call(this,t,"fragment"))},get origin(){var t;if(this.i||!this.h)return"";switch(this.h){case"data":case"file":case"javascript":case"mailto":return"null"}return(t=this.host)?this.h+"://"+t:""}};var d=t.URL;d&&(s.createObjectURL=function(t){return d.createObjectURL.apply(d,arguments)},s.revokeObjectURL=function(t){d.revokeObjectURL(t)}),t.URL=s}}(window),Object.getOwnPropertyDescriptor(Node.prototype,"baseURI")||Object.defineProperty(Node.prototype,"baseURI",{get:function(){var t=(this.ownerDocument||this).querySelector("base[href]");return t&&t.href||window.location.href},configurable:!0,enumerable:!0});var zi=document.createElement("style");zi.textContent="body {transition: opacity ease-in 0.2s; } \nbody[unresolved] {opacity: 0; display: block; overflow: hidden; position: relative; } \n";var Hi=document.querySelector("head");Hi.insertBefore(zi,Hi.firstChild);var qi=window.customElements,Wi=!1,Vi=null;function Gi(){window.HTMLTemplateElement.bootstrap&&window.HTMLTemplateElement.bootstrap(window.document),Vi&&Vi(),Wi=!0,window.WebComponents.ready=!0,document.dispatchEvent(new CustomEvent("WebComponentsReady",{bubbles:!0}))}qi.polyfillWrapFlushCallback&&qi.polyfillWrapFlushCallback((function(t){Vi=t,Wi&&t()})),"complete"!==document.readyState?(window.addEventListener("load",Gi),window.addEventListener("DOMContentLoaded",(function(){window.removeEventListener("load",Gi),Gi()}))):Gi()}).call(this)}).call(this,n(25),n(250).setImmediate)},function(t,e,n){(function(t){var r=void 0!==t&&t||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;function i(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new i(o.call(setTimeout,r,arguments),clearTimeout)},e.setInterval=function(){return new i(o.call(setInterval,r,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(r,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},n(251),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n(25))},function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var r,o,i,s,a,c=1,u={},l=!1,h=t.document,p=Object.getPrototypeOf&&Object.getPrototypeOf(t);p=p&&p.setTimeout?p:t,"[object process]"==={}.toString.call(t.process)?r=function(t){e.nextTick((function(){f(t)}))}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?t.MessageChannel?((i=new MessageChannel).port1.onmessage=function(t){f(t.data)},r=function(t){i.port2.postMessage(t)}):h&&"onreadystatechange"in h.createElement("script")?(o=h.documentElement,r=function(t){var e=h.createElement("script");e.onreadystatechange=function(){f(t),e.onreadystatechange=null,o.removeChild(e),e=null},o.appendChild(e)}):r=function(t){setTimeout(f,0,t)}:(s="setImmediate$"+Math.random()+"$",a=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(s)&&f(+e.data.slice(s.length))},t.addEventListener?t.addEventListener("message",a,!1):t.attachEvent("onmessage",a),r=function(e){t.postMessage(s+e,"*")}),p.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var o={callback:t,args:e};return u[c]=o,r(c),c++},p.clearImmediate=d}function d(t){delete u[t]}function f(t){if(l)setTimeout(f,0,t);else{var e=u[t];if(e){l=!0;try{!function(t){var e=t.callback,r=t.args;switch(r.length){case 0:e();break;case 1:e(r[0]);break;case 2:e(r[0],r[1]);break;case 3:e(r[0],r[1],r[2]);break;default:e.apply(n,r)}}(e)}finally{d(t),l=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,n(25),n(252))},function(t,e){var n,r,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(t){n=i}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(t){r=s}}();var c,u=[],l=!1,h=-1;function p(){l&&c&&(l=!1,c.length?u=c.concat(u):h=-1,u.length&&d())}function d(){if(!l){var t=a(p);l=!0;for(var e=u.length;e;){for(c=u,u=[];++h<e;)c&&c[h].run();h=-1,e=u.length}c=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function f(t,e){this.fun=t,this.array=e}function _(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new f(t,e)),1!==u.length||l||a(d)},f.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=_,o.addListener=_,o.once=_,o.off=_,o.removeListener=_,o.removeAllListeners=_,o.emit=_,o.prependListener=_,o.prependOnceListener=_,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e,n){"use strict";var r=n(70),o=n(75),i=n(4),s=n(19),a=n(66),c=n(72),u=n(6),l=n(74),h=n(46),p=n(3),d=[].push,f=Math.min,_=!p((function(){return!RegExp(4294967295,"y")}));r("split",2,(function(t,e,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var r=String(s(this)),i=void 0===n?4294967295:n>>>0;if(0===i)return[];if(void 0===t)return[r];if(!o(t))return e.call(r,t,i);for(var a,c,u,l=[],p=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),f=0,_=new RegExp(t.source,p+"g");(a=h.call(_,r))&&!((c=_.lastIndex)>f&&(l.push(r.slice(f,a.index)),a.length>1&&a.index<r.length&&d.apply(l,a.slice(1)),u=a[0].length,f=c,l.length>=i));)_.lastIndex===a.index&&_.lastIndex++;return f===r.length?!u&&_.test("")||l.push(""):l.push(r.slice(f)),l.length>i?l.slice(0,i):l}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:e.call(this,t,n)}:e,[function(e,n){var o=s(this),i=null==e?void 0:e[t];return void 0!==i?i.call(e,o,n):r.call(String(o),e,n)},function(t,o){var s=n(r,t,this,o,r!==e);if(s.done)return s.value;var h=i(t),p=String(this),d=a(h,RegExp),m=h.unicode,v=(h.ignoreCase?"i":"")+(h.multiline?"m":"")+(h.unicode?"u":"")+(_?"y":"g"),g=new d(_?h:"^(?:"+h.source+")",v),y=void 0===o?4294967295:o>>>0;if(0===y)return[];if(0===p.length)return null===l(g,p)?[p]:[];for(var b=0,w=0,E=[];w<p.length;){g.lastIndex=_?w:0;var O,x=l(g,_?p:p.slice(w));if(null===x||(O=f(u(g.lastIndex+(_?0:w)),p.length))===b)w=c(p,w,m);else{if(E.push(p.slice(b,w)),E.length===y)return E;for(var T=1;T<=x.length-1;T++)if(E.push(x[T]),E.length===y)return E;w=b=O}}return E.push(p.slice(b)),E}]}),!_)},function(t,e,n){n(255)("replace")},function(t,e,n){var r=n(89),o=n(5),i=n(256),s=n(10).f;t.exports=function(t){var e=r.Symbol||(r.Symbol={});o(e,t)||s(e,t,{value:i.f(t)})}},function(t,e,n){var r=n(2);e.f=r},function(t,e,n){var r=n(9),o=n(1),i=n(64),s=n(124),a=n(10).f,c=n(43).f,u=n(75),l=n(71),h=n(107),p=n(14),d=n(3),f=n(16).set,_=n(67),m=n(2)("match"),v=o.RegExp,g=v.prototype,y=/a/g,b=/a/g,w=new v(y)!==y,E=h.UNSUPPORTED_Y;if(r&&i("RegExp",!w||E||d((function(){return b[m]=!1,v(y)!=y||v(b)==b||"/a/i"!=v(y,"i")})))){for(var O=function(t,e){var n,r=this instanceof O,o=u(t),i=void 0===e;if(!r&&o&&t.constructor===O&&i)return t;w?o&&!i&&(t=t.source):t instanceof O&&(i&&(e=l.call(t)),t=t.source),E&&(n=!!e&&e.indexOf("y")>-1)&&(e=e.replace(/y/g,""));var a=s(w?new v(t,e):v(t,e),r?this:g,O);return E&&n&&f(a,{sticky:n}),a},x=function(t){t in O||a(O,t,{configurable:!0,get:function(){return v[t]},set:function(e){v[t]=e}})},T=c(v),A=0;T.length>A;)x(T[A++]);g.constructor=O,O.prototype=g,p(o,"RegExp",O)}_("RegExp")},function(t,e,n){"use strict";var r=n(8),o=n(259),i=n(17),s=n(6),a=n(29),c=n(123);r({target:"Array",proto:!0},{flatMap:function(t){var e,n=i(this),r=s(n.length);return a(t),(e=c(n,0)).length=o(e,n,n,r,0,1,t,arguments.length>1?arguments[1]:void 0),e}})},function(t,e,n){"use strict";var r=n(77),o=n(6),i=n(23),s=function(t,e,n,a,c,u,l,h){for(var p,d=c,f=0,_=!!l&&i(l,h,3);f<a;){if(f in n){if(p=_?_(n[f],f,e):n[f],u>0&&r(p))d=s(t,e,p,o(p.length),d,u-1)-1;else{if(d>=9007199254740991)throw TypeError("Exceed the acceptable array length");t[d]=p}d++}f++}return d};t.exports=s},function(t,e,n){"use strict";var r=n(8),o=n(29),i=n(17),s=n(3),a=n(261),c=[],u=c.sort,l=s((function(){c.sort(void 0)})),h=s((function(){c.sort(null)})),p=a("sort");r({target:"Array",proto:!0,forced:l||!h||!p},{sort:function(t){return void 0===t?u.call(i(this)):u.call(i(this),o(t))}})},function(t,e,n){"use strict";var r=n(3);t.exports=function(t,e){var n=[][t];return!!n&&r((function(){n.call(null,e||function(){throw 1},1)}))}},function(t,e,n){n(80)("flatMap")},,,,,,,function(t,e,n){"use strict";n.r(e);const r=new WeakMap,o=t=>(...e)=>{const n=t(...e);return r.set(n,!0),n},i=t=>"function"==typeof t&&r.has(t),s=void 0!==window.customElements&&void 0!==window.customElements.polyfillWrapFlushCallback,a=(t,e,n=null,r=null)=>{for(;e!==n;){const n=e.nextSibling;t.insertBefore(e,r),e=n}},c=(t,e,n=null)=>{for(;e!==n;){const n=e.nextSibling;t.removeChild(e),e=n}},u={},l={},h=`{{lit-${String(Math.random()).slice(2)}}}`,p=`\x3c!--${h}--\x3e`,d=new RegExp(`${h}|${p}`),f="$lit$";class _{constructor(t,e){this.parts=[],this.element=e;const n=[],r=[],o=document.createTreeWalker(e.content,133,null,!1);let i=0,s=-1,a=0;const{strings:c,values:{length:u}}=t;for(;a<u;){const t=o.nextNode();if(null!==t){if(s++,1===t.nodeType){if(t.hasAttributes()){const e=t.attributes,{length:n}=e;let r=0;for(let t=0;t<n;t++)m(e[t].name,f)&&r++;for(;r-- >0;){const e=c[a],n=y.exec(e)[2],r=n.toLowerCase()+f,o=t.getAttribute(r);t.removeAttribute(r);const i=o.split(d);this.parts.push({type:"attribute",index:s,name:n,strings:i}),a+=i.length-1}}"TEMPLATE"===t.tagName&&(r.push(t),o.currentNode=t.content)}else if(3===t.nodeType){const e=t.data;if(e.indexOf(h)>=0){const r=t.parentNode,o=e.split(d),i=o.length-1;for(let e=0;e<i;e++){let n,i=o[e];if(""===i)n=g();else{const t=y.exec(i);null!==t&&m(t[2],f)&&(i=i.slice(0,t.index)+t[1]+t[2].slice(0,-f.length)+t[3]),n=document.createTextNode(i)}r.insertBefore(n,t),this.parts.push({type:"node",index:++s})}""===o[i]?(r.insertBefore(g(),t),n.push(t)):t.data=o[i],a+=i}}else if(8===t.nodeType)if(t.data===h){const e=t.parentNode;null!==t.previousSibling&&s!==i||(s++,e.insertBefore(g(),t)),i=s,this.parts.push({type:"node",index:s}),null===t.nextSibling?t.data="":(n.push(t),s--),a++}else{let e=-1;for(;-1!==(e=t.data.indexOf(h,e+1));)this.parts.push({type:"node",index:-1}),a++}}else o.currentNode=r.pop()}for(const t of n)t.parentNode.removeChild(t)}}const m=(t,e)=>{const n=t.length-e.length;return n>=0&&t.slice(n)===e},v=t=>-1!==t.index,g=()=>document.createComment(""),y=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;class b{constructor(t,e,n){this.__parts=[],this.template=t,this.processor=e,this.options=n}update(t){let e=0;for(const n of this.__parts)void 0!==n&&n.setValue(t[e]),e++;for(const t of this.__parts)void 0!==t&&t.commit()}_clone(){const t=s?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),e=[],n=this.template.parts,r=document.createTreeWalker(t,133,null,!1);let o,i=0,a=0,c=r.nextNode();for(;i<n.length;)if(o=n[i],v(o)){for(;a<o.index;)a++,"TEMPLATE"===c.nodeName&&(e.push(c),r.currentNode=c.content),null===(c=r.nextNode())&&(r.currentNode=e.pop(),c=r.nextNode());if("node"===o.type){const t=this.processor.handleTextExpression(this.options);t.insertAfterNode(c.previousSibling),this.__parts.push(t)}else this.__parts.push(...this.processor.handleAttributeExpressions(c,o.name,o.strings,this.options));i++}else this.__parts.push(void 0),i++;return s&&(document.adoptNode(t),customElements.upgrade(t)),t}}const w=` ${h} `;class E{constructor(t,e,n,r){this.strings=t,this.values=e,this.type=n,this.processor=r}getHTML(){const t=this.strings.length-1;let e="",n=!1;for(let r=0;r<t;r++){const t=this.strings[r],o=t.lastIndexOf("\x3c!--");n=(o>-1||n)&&-1===t.indexOf("--\x3e",o+1);const i=y.exec(t);e+=null===i?t+(n?w:p):t.substr(0,i.index)+i[1]+i[2]+f+i[3]+h}return e+=this.strings[t],e}getTemplateElement(){const t=document.createElement("template");return t.innerHTML=this.getHTML(),t}}class O extends E{getHTML(){return`<svg>${super.getHTML()}</svg>`}getTemplateElement(){const t=super.getTemplateElement(),e=t.content,n=e.firstChild;return e.removeChild(n),a(e,n.firstChild),t}}const x=t=>null===t||!("object"==typeof t||"function"==typeof t),T=t=>Array.isArray(t)||!(!t||!t[Symbol.iterator]);class A{constructor(t,e,n){this.dirty=!0,this.element=t,this.name=e,this.strings=n,this.parts=[];for(let t=0;t<n.length-1;t++)this.parts[t]=this._createPart()}_createPart(){return new S(this)}_getValue(){const t=this.strings,e=t.length-1;let n="";for(let r=0;r<e;r++){n+=t[r];const e=this.parts[r];if(void 0!==e){const t=e.value;if(x(t)||!T(t))n+="string"==typeof t?t:String(t);else for(const e of t)n+="string"==typeof e?e:String(e)}}return n+=t[e],n}commit(){this.dirty&&(this.dirty=!1,this.element.setAttribute(this.name,this._getValue()))}}class S{constructor(t){this.value=void 0,this.committer=t}setValue(t){t===u||x(t)&&t===this.value||(this.value=t,i(t)||(this.committer.dirty=!0))}commit(){for(;i(this.value);){const t=this.value;this.value=u,t(this)}this.value!==u&&this.committer.commit()}}class N{constructor(t){this.value=void 0,this.__pendingValue=void 0,this.options=t}appendInto(t){this.startNode=t.appendChild(g()),this.endNode=t.appendChild(g())}insertAfterNode(t){this.startNode=t,this.endNode=t.nextSibling}appendIntoPart(t){t.__insert(this.startNode=g()),t.__insert(this.endNode=g())}insertAfterPart(t){t.__insert(this.startNode=g()),this.endNode=t.endNode,t.endNode=this.startNode}setValue(t){this.__pendingValue=t}commit(){for(;i(this.__pendingValue);){const t=this.__pendingValue;this.__pendingValue=u,t(this)}const t=this.__pendingValue;t!==u&&(x(t)?t!==this.value&&this.__commitText(t):t instanceof E?this.__commitTemplateResult(t):t instanceof Node?this.__commitNode(t):T(t)?this.__commitIterable(t):t===l?(this.value=l,this.clear()):this.__commitText(t))}__insert(t){this.endNode.parentNode.insertBefore(t,this.endNode)}__commitNode(t){this.value!==t&&(this.clear(),this.__insert(t),this.value=t)}__commitText(t){const e=this.startNode.nextSibling,n="string"==typeof(t=null==t?"":t)?t:String(t);e===this.endNode.previousSibling&&3===e.nodeType?e.data=n:this.__commitNode(document.createTextNode(n)),this.value=t}__commitTemplateResult(t){const e=this.options.templateFactory(t);if(this.value instanceof b&&this.value.template===e)this.value.update(t.values);else{const n=new b(e,t.processor,this.options),r=n._clone();n.update(t.values),this.__commitNode(r),this.value=n}}__commitIterable(t){Array.isArray(this.value)||(this.value=[],this.clear());const e=this.value;let n,r=0;for(const o of t)n=e[r],void 0===n&&(n=new N(this.options),e.push(n),0===r?n.appendIntoPart(this):n.insertAfterPart(e[r-1])),n.setValue(o),n.commit(),r++;r<e.length&&(e.length=r,this.clear(n&&n.endNode))}clear(t=this.startNode){c(this.startNode.parentNode,t.nextSibling,this.endNode)}}class C{constructor(t,e,n){if(this.value=void 0,this.__pendingValue=void 0,2!==n.length||""!==n[0]||""!==n[1])throw new Error("Boolean attributes can only contain a single expression");this.element=t,this.name=e,this.strings=n}setValue(t){this.__pendingValue=t}commit(){for(;i(this.__pendingValue);){const t=this.__pendingValue;this.__pendingValue=u,t(this)}if(this.__pendingValue===u)return;const t=!!this.__pendingValue;this.value!==t&&(t?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name),this.value=t),this.__pendingValue=u}}class I extends A{constructor(t,e,n){super(t,e,n),this.single=2===n.length&&""===n[0]&&""===n[1]}_createPart(){return new R(this)}_getValue(){return this.single?this.parts[0].value:super._getValue()}commit(){this.dirty&&(this.dirty=!1,this.element[this.name]=this._getValue())}}class R extends S{}let k=!1;try{const t={get capture(){return k=!0,!1}};window.addEventListener("test",t,t),window.removeEventListener("test",t,t)}catch(t){}class L{constructor(t,e,n){this.value=void 0,this.__pendingValue=void 0,this.element=t,this.eventName=e,this.eventContext=n,this.__boundHandleEvent=t=>this.handleEvent(t)}setValue(t){this.__pendingValue=t}commit(){for(;i(this.__pendingValue);){const t=this.__pendingValue;this.__pendingValue=u,t(this)}if(this.__pendingValue===u)return;const t=this.__pendingValue,e=this.value,n=null==t||null!=e&&(t.capture!==e.capture||t.once!==e.once||t.passive!==e.passive),r=null!=t&&(null==e||n);n&&this.element.removeEventListener(this.eventName,this.__boundHandleEvent,this.__options),r&&(this.__options=j(t),this.element.addEventListener(this.eventName,this.__boundHandleEvent,this.__options)),this.value=t,this.__pendingValue=u}handleEvent(t){"function"==typeof this.value?this.value.call(this.eventContext||this.element,t):this.value.handleEvent(t)}}const j=t=>t&&(k?{capture:t.capture,passive:t.passive,once:t.once}:t.capture);class P{handleAttributeExpressions(t,e,n,r){const o=e[0];if("."===o){return new I(t,e.slice(1),n).parts}return"@"===o?[new L(t,e.slice(1),r.eventContext)]:"?"===o?[new C(t,e.slice(1),n)]:new A(t,e,n).parts}handleTextExpression(t){return new N(t)}}const M=new P;function D(t){let e=U.get(t.type);void 0===e&&(e={stringsArray:new WeakMap,keyString:new Map},U.set(t.type,e));let n=e.stringsArray.get(t.strings);if(void 0!==n)return n;const r=t.strings.join(h);return n=e.keyString.get(r),void 0===n&&(n=new _(t,t.getTemplateElement()),e.keyString.set(r,n)),e.stringsArray.set(t.strings,n),n}const U=new Map,F=new WeakMap,B=(t,e,n)=>{let r=F.get(e);void 0===r&&(c(e,e.firstChild),F.set(e,r=new N(Object.assign({templateFactory:D},n))),r.appendInto(e)),r.setValue(t),r.commit()};n.d(e,"html",(function(){return z})),n.d(e,"svg",(function(){return H})),n.d(e,"DefaultTemplateProcessor",(function(){return P})),n.d(e,"defaultTemplateProcessor",(function(){return M})),n.d(e,"directive",(function(){return o})),n.d(e,"isDirective",(function(){return i})),n.d(e,"removeNodes",(function(){return c})),n.d(e,"reparentNodes",(function(){return a})),n.d(e,"noChange",(function(){return u})),n.d(e,"nothing",(function(){return l})),n.d(e,"AttributeCommitter",(function(){return A})),n.d(e,"AttributePart",(function(){return S})),n.d(e,"BooleanAttributePart",(function(){return C})),n.d(e,"EventPart",(function(){return L})),n.d(e,"isIterable",(function(){return T})),n.d(e,"isPrimitive",(function(){return x})),n.d(e,"NodePart",(function(){return N})),n.d(e,"PropertyCommitter",(function(){return I})),n.d(e,"PropertyPart",(function(){return R})),n.d(e,"parts",(function(){return F})),n.d(e,"render",(function(){return B})),n.d(e,"templateCaches",(function(){return U})),n.d(e,"templateFactory",(function(){return D})),n.d(e,"TemplateInstance",(function(){return b})),n.d(e,"SVGTemplateResult",(function(){return O})),n.d(e,"TemplateResult",(function(){return E})),n.d(e,"createMarker",(function(){return g})),n.d(e,"isTemplatePartActive",(function(){return v})),n.d(e,"Template",(function(){return _})),(window.litHtmlVersions||(window.litHtmlVersions=[])).push("1.1.2");const z=(t,...e)=>new E(t,e,"html",M),H=(t,...e)=>new O(t,e,"svg",M)},function(t,e,n){"use strict";n.r(e);var r={};n.r(r),n.d(r,"CONFIG_ALIASES",(function(){return o})),n.d(r,"CONFIG_VALID_KEYS",(function(){return i})),n.d(r,"SORT_ORDERS",(function(){return c})),n.d(r,"SORT_ORDER_IDS",(function(){return u})),n.d(r,"TYPE_AGGREGATES",(function(){return l})),n.d(r,"FILTER_OPERATORS",(function(){return h})),n.d(r,"COLUMN_SEPARATOR_STRING",(function(){return m})),n.d(r,"TYPE_FILTERS",(function(){return v}));n(13),n(97),n(30),n(69),n(20);const o={row_pivot:"row_pivots","row-pivot":"row_pivots","row-pivots":"row_pivots",col_pivot:"column_pivots",col_pivots:"column_pivots",column_pivot:"column_pivots","column-pivot":"column_pivots","column-pivots":"column_pivots",filters:"filter",sorts:"sort"},i=["viewport","row_pivots","column_pivots","aggregates","columns","filter","sort","computed_columns","row_pivot_depth","filter_op"],s=["any","avg","count","distinct count","dominant","first by index","last by index","last","high","low","mean","median","pct sum parent","pct sum grand total","sum","sum abs","sum not null","unique"],a=["any","count","distinct count","distinct leaf","dominant","first by index","last by index","last","unique"],c=["none","asc","desc","col asc","col desc","asc abs","desc abs","col asc abs","col desc abs"],u=[2,0,1,0,1,3,4,3,4],l={string:a,float:s,integer:s,boolean:["any","count","distinct count","distinct leaf","dominant","first by index","last by index","last","unique","and","or"],datetime:a,date:a},h={lessThan:"<",greaterThan:">",equals:"==",lessThanOrEquals:"<=",greaterThanOrEquals:">=",doesNotEqual:"!=",isNull:"is null",isNotNull:"is not null",isIn:"in",isNotIn:"not in",contains:"contains",bitwiseAnd:"&",bitwiseOr:"|",and:"and",or:"or",beginsWith:"begins with",endsWith:"ends with"},p=[h.bitwiseAnd,h.bitwiseOr,h.equals,h.doesNotEqual,h.or,h.and,h.isNull,h.isNotNull],d=[h.lessThan,h.greaterThan,h.equals,h.lessThanOrEquals,h.greaterThanOrEquals,h.doesNotEqual,h.isNull,h.isNotNull],f=[h.equals,h.contains,h.doesNotEqual,h.isIn,h.isNotIn,h.beginsWith,h.endsWith,h.isNull,h.isNotNull],_=[h.lessThan,h.greaterThan,h.equals,h.lessThanOrEquals,h.greaterThanOrEquals,h.doesNotEqual,h.isNull,h.isNotNull],m="|",v={string:f,float:d,integer:d,boolean:p,datetime:_,date:_};var g=n(24),y=n(53),b=n(128),w=n.n(b),E=n(54),O=n.n(E);const{WebSocketClient:x}=n(155),T=new class{_fetch(t){return new Promise(e=>{let n=new XMLHttpRequest;n.open("GET",t,!0),n.responseType="arraybuffer",n.onload=()=>{e(n.response)},n.send(null)})}worker(){return w()()}async wasm(){return O.a instanceof ArrayBuffer?(console.warn('Perspective has been compiled in INLINE mode.  While Perspective\'s runtime performance is not affected, you may see smaller assets size and faster engine initial load time using "@finos/perspective-webpack-plugin" to build your application.\n\nhttps://perspective.finos.org/docs/md/installation.html#-an-important-note-about-hosting'),this._wasm=O.a):this._wasm=await this._fetch(O.a),this._wasm}};class A extends y.a{constructor(t){t&&Object(g.override_config)(t),super(),this.register()}async register(){let t;const e={cmd:"init",config:Object(g.get_config)()};if("undefined"==typeof WebAssembly)throw new Error("WebAssembly not supported. Support for ASM.JS has been removed as of 0.3.1.");for(var n in[t,e.buffer]=await Promise.all([T.worker(),T.wasm()]),this._worker)t[n]=this._worker[n];this._worker=t,this._worker.addEventListener("message",this._handle.bind(this)),this._worker.postMessage(e),this._detect_transferable()}send(t){this._worker.transferable&&t.args&&t.args[0]instanceof ArrayBuffer?this._worker.postMessage(t,t.args):this._worker.postMessage(t)}terminate(){this._worker.terminate(),this._worker=void 0}_detect_transferable(){var t=new ArrayBuffer(1);this._worker.postMessage(t,[t]),this._worker.transferable=0===t.byteLength,this._worker.transferable?console.log("Transferable support detected"):console.warn("Transferable support not detected")}}const S=function(){let t,e;return{getInstance:function(n){void 0===t&&(t=new A(n));const r=JSON.stringify(n);if(e&&r!==e)throw new Error("Confiuration object for shared_worker() has changed - this is probably a bug in your application.");return e=r,t}}}();document.currentScript&&document.currentScript.hasAttribute("preload")&&S.getInstance();const N={override:t=>T.set(t),worker:t=>new A(t),websocket:(t=window.location.origin.replace("http","ws"))=>new x(new WebSocket(t)),shared_worker:t=>S.getInstance(t)};for(let t of Object.keys(r))N[t]=r[t];e.default=N}])}));
//# sourceMappingURL=perspective-viewer.js.map