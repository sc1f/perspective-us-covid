{"version":3,"sources":["../../src/js/utils.js"],"names":["val","console","obj","Object","value","self","key","detectIE","require","isChromium","window","winNav","vendorName","isOpera","isIEedge","isIOSChrome","navigator","String","start","search","Array","o","len","n","fromIndex","k","Math","x","isNaN","sameValueZero"],"mappings":"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","sourcesContent":["/******************************************************************************\n *\n * Copyright (c) 2017, the Perspective Authors.\n *\n * This file is part of the Perspective library, distributed under the terms of\n * the Apache License 2.0.  The full license can be found in the LICENSE file.\n *\n */\n\n/**\n * Gets human-readable types for a column\n * @private\n * @returns {string}\n */\nexport function get_column_type(val) {\n    if (val >= 1 && val <= 8) {\n        return \"integer\";\n    } else if (val === 19) {\n        return \"string\";\n    } else if (val === 10 || val === 9) {\n        return \"float\";\n    } else if (val === 11) {\n        return \"boolean\";\n    } else if (val === 12) {\n        return \"datetime\";\n    } else if (val === 13) {\n        return \"date\";\n    } else {\n        console.warn(`Unknown type for value ${val} with JS type ${typeof val}`);\n    }\n}\n\n/**\n * Bind all methods in a class to the class instance.  It is sad that this is\n * necessary.\n *\n * @export\n * @param {*} self\n */\nexport function bindall(self) {\n    let obj = self;\n    do {\n        for (const key of Object.getOwnPropertyNames(obj)) {\n            const value = self[key];\n            if (key !== \"constructor\" && typeof value === \"function\") {\n                self[key] = value.bind(self);\n            }\n        }\n    } while ((obj = obj !== Object && Object.getPrototypeOf(obj)));\n}\n\n/**\n * Detect Node.js.\n *\n * Returns\n * -------\n * True if the current script is running in Node.js.\n */\nexport function detectNode() {\n    return typeof window === \"undefined\";\n}\n\n/**\n * Detect Internet Explorer.\n *\n * Returns\n * -------\n * True if the current script is running in Internet Explorer.\n */\nexport const detectIE = require(\"detectie\");\n\n/**\n * Detect Chrome.\n *\n * Returns\n * -------\n * Detect if the current script is running in Chrome.\n */\nexport function detectChrome() {\n    var isChromium = window.chrome,\n        winNav = window.navigator,\n        vendorName = winNav.vendor,\n        isOpera = winNav.userAgent.indexOf(\"OPR\") > -1,\n        isIEedge = winNav.userAgent.indexOf(\"Edge\") > -1,\n        isIOSChrome = winNav.userAgent.match(\"CriOS\");\n\n    if (isIOSChrome) {\n        return true;\n    } else if (isChromium !== null && typeof isChromium !== \"undefined\" && vendorName === \"Google Inc.\" && isOpera === false && isIEedge === false) {\n        return true;\n    } else {\n        return false;\n    }\n}\n\n// https://github.com/kripken/emscripten/issues/6042\nexport function detect_iphone() {\n    return /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;\n}\n\n/**\n * String.includes() polyfill\n */\nif (!String.prototype.includes) {\n    String.prototype.includes = function(search, start) {\n        if (typeof start !== \"number\") {\n            start = 0;\n        }\n\n        if (start + search.length > this.length) {\n            return false;\n        } else {\n            return this.indexOf(search, start) !== -1;\n        }\n    };\n}\n\n/* eslint-disable-next-line max-len */\n// from https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/includes\nif (!Array.prototype.includes) {\n    Object.defineProperty(Array.prototype, \"includes\", {\n        value: function(searchElement, fromIndex) {\n            if (this == null) {\n                throw new TypeError('\"this\" is null or not defined');\n            }\n\n            // 1. Let O be ? ToObject(this value).\n            var o = Object(this);\n\n            // 2. Let len be ? ToLength(? Get(O, \"length\")).\n            var len = o.length >>> 0;\n\n            // 3. If len is 0, return false.\n            if (len === 0) {\n                return false;\n            }\n\n            // 4. Let n be ? ToInteger(fromIndex). (If fromIndex is undefined,\n            //    this step produces the value 0.)\n            var n = fromIndex | 0;\n\n            // 5. If n â‰¥ 0, then a. Let k be n.\n            // 6. Else n < 0, a. Let k be len + n. b. If k < 0, let k be 0.\n            var k = Math.max(n >= 0 ? n : len - Math.abs(n), 0);\n\n            function sameValueZero(x, y) {\n                return x === y || (typeof x === \"number\" && typeof y === \"number\" && isNaN(x) && isNaN(y));\n            }\n\n            // 7. Repeat, while k < len\n            while (k < len) {\n                // a. Let elementK be the result of ? Get(O, ! ToString(k)). b.\n                // If SameValueZero(searchElement, elementK) is true, return\n                // true.\n                if (sameValueZero(o[k], searchElement)) {\n                    return true;\n                }\n                // c. Increase k by 1.\n                k++;\n            }\n\n            // 8. Return false\n            return false;\n        }\n    });\n}\n"],"file":"utils.js"}