{"version":3,"sources":["../../src/js/utils.js"],"names":["get_column_type","val","console","warn","bindall","self","obj","key","Object","getOwnPropertyNames","value","bind","getPrototypeOf","detectNode","window","detectIE","require","detectChrome","isChromium","chrome","winNav","navigator","vendorName","vendor","isOpera","userAgent","indexOf","isIEedge","isIOSChrome","match","detect_iphone","test","MSStream","String","prototype","includes","search","start","length","Array","defineProperty","searchElement","fromIndex","TypeError","o","len","n","k","Math","max","abs","sameValueZero","x","y","isNaN"],"mappings":"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","sourcesContent":["/******************************************************************************\n *\n * Copyright (c) 2017, the Perspective Authors.\n *\n * This file is part of the Perspective library, distributed under the terms of\n * the Apache License 2.0.  The full license can be found in the LICENSE file.\n *\n */\n\n/**\n * Gets human-readable types for a column\n * @private\n * @returns {string}\n */\nexport function get_column_type(val) {\n    if (val >= 1 && val <= 8) {\n        return \"integer\";\n    } else if (val === 19) {\n        return \"string\";\n    } else if (val === 10 || val === 9) {\n        return \"float\";\n    } else if (val === 11) {\n        return \"boolean\";\n    } else if (val === 12) {\n        return \"datetime\";\n    } else if (val === 13) {\n        return \"date\";\n    } else {\n        console.warn(`Unknown type for value ${val} with JS type ${typeof val}`);\n    }\n}\n\n/**\n * Bind all methods in a class to the class instance.  It is sad that this is\n * necessary.\n *\n * @export\n * @param {*} self\n */\nexport function bindall(self) {\n    let obj = self;\n    do {\n        for (const key of Object.getOwnPropertyNames(obj)) {\n            const value = self[key];\n            if (key !== \"constructor\" && typeof value === \"function\") {\n                self[key] = value.bind(self);\n            }\n        }\n    } while ((obj = obj !== Object && Object.getPrototypeOf(obj)));\n}\n\n/**\n * Detect Node.js.\n *\n * Returns\n * -------\n * True if the current script is running in Node.js.\n */\nexport function detectNode() {\n    return typeof window === \"undefined\";\n}\n\n/**\n * Detect Internet Explorer.\n *\n * Returns\n * -------\n * True if the current script is running in Internet Explorer.\n */\nexport const detectIE = require(\"detectie\");\n\n/**\n * Detect Chrome.\n *\n * Returns\n * -------\n * Detect if the current script is running in Chrome.\n */\nexport function detectChrome() {\n    var isChromium = window.chrome,\n        winNav = window.navigator,\n        vendorName = winNav.vendor,\n        isOpera = winNav.userAgent.indexOf(\"OPR\") > -1,\n        isIEedge = winNav.userAgent.indexOf(\"Edge\") > -1,\n        isIOSChrome = winNav.userAgent.match(\"CriOS\");\n\n    if (isIOSChrome) {\n        return true;\n    } else if (isChromium !== null && typeof isChromium !== \"undefined\" && vendorName === \"Google Inc.\" && isOpera === false && isIEedge === false) {\n        return true;\n    } else {\n        return false;\n    }\n}\n\n// https://github.com/kripken/emscripten/issues/6042\nexport function detect_iphone() {\n    return /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;\n}\n\n/**\n * String.includes() polyfill\n */\nif (!String.prototype.includes) {\n    String.prototype.includes = function(search, start) {\n        if (typeof start !== \"number\") {\n            start = 0;\n        }\n\n        if (start + search.length > this.length) {\n            return false;\n        } else {\n            return this.indexOf(search, start) !== -1;\n        }\n    };\n}\n\n/* eslint-disable-next-line max-len */\n// from https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/includes\nif (!Array.prototype.includes) {\n    Object.defineProperty(Array.prototype, \"includes\", {\n        value: function(searchElement, fromIndex) {\n            if (this == null) {\n                throw new TypeError('\"this\" is null or not defined');\n            }\n\n            // 1. Let O be ? ToObject(this value).\n            var o = Object(this);\n\n            // 2. Let len be ? ToLength(? Get(O, \"length\")).\n            var len = o.length >>> 0;\n\n            // 3. If len is 0, return false.\n            if (len === 0) {\n                return false;\n            }\n\n            // 4. Let n be ? ToInteger(fromIndex). (If fromIndex is undefined,\n            //    this step produces the value 0.)\n            var n = fromIndex | 0;\n\n            // 5. If n â‰¥ 0, then a. Let k be n.\n            // 6. Else n < 0, a. Let k be len + n. b. If k < 0, let k be 0.\n            var k = Math.max(n >= 0 ? n : len - Math.abs(n), 0);\n\n            function sameValueZero(x, y) {\n                return x === y || (typeof x === \"number\" && typeof y === \"number\" && isNaN(x) && isNaN(y));\n            }\n\n            // 7. Repeat, while k < len\n            while (k < len) {\n                // a. Let elementK be the result of ? Get(O, ! ToString(k)). b.\n                // If SameValueZero(searchElement, elementK) is true, return\n                // true.\n                if (sameValueZero(o[k], searchElement)) {\n                    return true;\n                }\n                // c. Increase k by 1.\n                k++;\n            }\n\n            // 8. Return false\n            return false;\n        }\n    });\n}\n"],"file":"utils.js"}