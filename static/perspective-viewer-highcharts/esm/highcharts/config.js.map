{"version":3,"sources":["../../../src/js/highcharts/config.js"],"names":["tooltip","set_boost","config","series","types","count","data","length","Object","assign","boost","useGPUTranslations","indexOf","usePreAllocated","plotOptions","boostThreshold","turboThreshold","set_tick_size","new_radius","Math","min","max","floor","clientWidth","clientHeight","coloredScatter","marker","radius","scatter","set_both_axis","axis","name","type","tree_type","top","set_category_axis","set_axis","opts","undefined","startOnTick","endOnTick","title","style","color","fontSize","text","labels","overflow","categories","map","x","Date","toLocaleString","year","month","day","hour","minute","enabled","autoRotation","padding","hasOwnProperty","chart","tickWidth","reversed","default_config","aggregates","mode","hover_type","that","_config","pivot_titles","get_pivot_titles","row_pivots","column_pivots","is_empty","str","replace","inverted","slice","animation","zoomType","resetZoomButton","position","align","navigation","buttonOptions","credits","legend","verticalAlign","y","layout","itemStyle","fontWeight","area","stacking","line","column","states","hover","brightness","borderColor","heatmap","nullColor","borderWidth","connectNulls","lineWidth","lineWidthPlus","point","events","click","row_pivots_values","column_pivot_values","userOptions","split","get_pivot_values","category","console","log","row_filters","c","index","column_filters","filters","filter","concat","f","start_row","end_row","column_names","stack_name","stack","column_name","push","r","_view","to_json","dispatchEvent","CustomEvent","bubbles","composed","detail","row","backgroundColor","followPointer","valueDecimals","formatter","highcharts_tooltip","schema","then","tooltip_text","format_tooltip","label","attr","catch","err","error","positioner","labelWidth","labelHeight","tooltipX","tooltipY","plotX","plotWidth","plotLeft","plotY","plotHeight","plotTop"],"mappings":"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","sourcesContent":["/******************************************************************************\r\n *\r\n * Copyright (c) 2017, the Perspective Authors.\r\n *\r\n * This file is part of the Perspective library, distributed under the terms of\r\n * the Apache License 2.0.  The full license can be found in the LICENSE file.\r\n *\r\n */\r\n\r\nimport * as tooltip from \"./tooltip\";\r\n\r\nexport function set_boost(config, series, ...types) {\r\n    const count = config.series[0].data ? config.series[0].data.length * config.series.length : config.series.length;\r\n    if (count > 5000) {\r\n        Object.assign(config, {\r\n            boost: {\r\n                useGPUTranslations: types.indexOf(\"datetime\") === -1 && types.indexOf(\"date\") === -1,\r\n                usePreAllocated: types.indexOf(\"datetime\") === -1 && types.indexOf(\"date\") === -1\r\n            }\r\n        });\r\n        config.plotOptions.series.boostThreshold = 1;\r\n        config.plotOptions.series.turboThreshold = 0;\r\n        return true;\r\n    }\r\n}\r\n\r\nexport function set_tick_size(config) {\r\n    let new_radius = Math.min(6, Math.max(3, Math.floor((this.clientWidth + this.clientHeight) / Math.max(300, config.series[0].data.length / 3))));\r\n    config.plotOptions.coloredScatter = {marker: {radius: new_radius}};\r\n    config.plotOptions.scatter = {marker: {radius: new_radius}};\r\n}\r\n\r\nexport function set_both_axis(config, axis, name, type, tree_type, top) {\r\n    if (type === \"string\") {\r\n        set_category_axis(config, axis, tree_type, top);\r\n    } else {\r\n        set_axis(config, axis, name, type);\r\n    }\r\n}\r\n\r\nexport function set_axis(config, axis, name, type) {\r\n    let opts = {\r\n        type: [\"datetime\", \"date\"].indexOf(type) > -1 ? \"datetime\" : undefined,\r\n        startOnTick: false,\r\n        endOnTick: false,\r\n        title: {\r\n            style: {color: \"#666666\", fontSize: \"14px\"},\r\n            text: name\r\n        }\r\n    };\r\n    if (axis === \"yAxis\") {\r\n        Object.assign(opts, {labels: {overflow: \"justify\"}});\r\n    }\r\n    Object.assign(config, {[axis]: opts});\r\n}\r\n\r\nexport function set_category_axis(config, axis, type, top) {\r\n    if (type === \"datetime\") {\r\n        Object.assign(config, {\r\n            [axis]: {\r\n                categories: top.categories.map(x => new Date(x).toLocaleString(\"en-us\", {year: \"numeric\", month: \"numeric\", day: \"numeric\", hour: \"numeric\", minute: \"numeric\"})),\r\n                labels: {\r\n                    enabled: top.categories.length > 0,\r\n                    autoRotation: [-5]\r\n                }\r\n            }\r\n        });\r\n    } else if (type === \"date\") {\r\n        Object.assign(config, {\r\n            [axis]: {\r\n                categories: top.categories.map(x => new Date(x).toLocaleString(\"en-us\", {year: \"numeric\", month: \"numeric\", day: \"numeric\"})),\r\n                labels: {\r\n                    enabled: top.categories.length > 0,\r\n                    autoRotation: [-5]\r\n                }\r\n            }\r\n        });\r\n    } else {\r\n        let opts = {\r\n            categories: top.categories,\r\n            labels: {\r\n                enabled: top.categories.length > 0,\r\n                padding: 0,\r\n                autoRotation: [-10, -20, -30, -40, -50, -60, -70, -80, -90]\r\n            }\r\n        };\r\n        if (axis === \"yAxis\" && (!config.hasOwnProperty(\"boost\") || config.chart.type === \"heatmap\")) {\r\n            Object.assign(opts, {\r\n                title: null,\r\n                tickWidth: 1,\r\n                reversed: true\r\n            });\r\n        }\r\n        Object.assign(config, {[axis]: opts});\r\n    }\r\n}\r\n\r\nexport function default_config(aggregates, mode) {\r\n    let type = \"scatter\";\r\n    let hover_type = \"xy\";\r\n    if (mode === \"y_line\") {\r\n        hover_type = \"y\";\r\n        type = \"line\";\r\n    } else if (mode === \"y_area\") {\r\n        hover_type = \"y\";\r\n        type = \"area\";\r\n    } else if (mode === \"y_scatter\") {\r\n        hover_type = \"y\";\r\n        type = \"scatter\";\r\n    } else if (mode.indexOf(\"bar\") > -1) {\r\n        hover_type = \"y\";\r\n        type = \"column\";\r\n    } else if (mode == \"treemap\") {\r\n        hover_type = \"hierarchy\";\r\n        type = \"treemap\";\r\n    } else if (mode == \"sunburst\") {\r\n        hover_type = \"hierarchy\";\r\n        type = \"sunburst\";\r\n    } else if (mode === \"scatter\") {\r\n        hover_type = \"xy\";\r\n        if (aggregates.length <= 3 || aggregates[3] === null) {\r\n            type = \"scatter\";\r\n        } else {\r\n            type = \"bubble\";\r\n        }\r\n    } else if (mode === \"heatmap\") {\r\n        hover_type = \"xyz\";\r\n        type = \"heatmap\";\r\n    }\r\n\r\n    /* eslint-disable max-len */\r\n\r\n    // let new_radius = 0;\r\n    // if (mode === 'scatter') {\r\n    //     new_radius = Math.min(8, Math.max(4, Math.floor((this.clientWidth + this.clientHeight) / Math.max(300, series[0].data.length / 3))));\r\n    // }\r\n    //\r\n\r\n    // read this + define chart schema using _view()\r\n\r\n    /* eslint-enable max-len */\r\n\r\n    const that = this;\r\n    const config = this._config;\r\n    const pivot_titles = get_pivot_titles(config.row_pivots, config.column_pivots);\r\n\r\n    const is_empty = str => str.replace(/\\s/g, \"\") == \"\";\r\n\r\n    return {\r\n        chart: {\r\n            type: type,\r\n            inverted: mode.slice(0, 2) === \"x_\",\r\n            animation: false,\r\n            zoomType: mode === \"scatter\" ? \"xy\" : \"x\",\r\n            resetZoomButton: {\r\n                position: {\r\n                    align: \"left\"\r\n                }\r\n            }\r\n        },\r\n        navigation: {\r\n            buttonOptions: {\r\n                enabled: false\r\n            }\r\n        },\r\n        credits: {enabled: false},\r\n        title: {\r\n            text: null\r\n        },\r\n        legend: {\r\n            align: \"right\",\r\n            verticalAlign: \"top\",\r\n            y: 10,\r\n            layout: \"vertical\",\r\n            enabled: false,\r\n            itemStyle: {\r\n                fontWeight: \"normal\"\r\n            }\r\n        },\r\n        boost: {\r\n            enabled: false\r\n        },\r\n\r\n        plotOptions: {\r\n            area: {\r\n                stacking: \"normal\",\r\n                marker: {enabled: false, radius: 0}\r\n            },\r\n            line: {\r\n                marker: {enabled: false, radius: 0}\r\n            },\r\n            coloredScatter: {\r\n                // marker: {radius: new_radius},\r\n            },\r\n            scatter: {\r\n                // marker: {radius: new_radius},\r\n            },\r\n            column: {\r\n                stacking: \"normal\",\r\n                states: {\r\n                    hover: {\r\n                        // add ajax\r\n                        brightness: -0.1,\r\n                        borderColor: \"#000000\"\r\n                    }\r\n                }\r\n            },\r\n            heatmap: {\r\n                nullColor: \"rgba(0,0,0,0)\"\r\n            },\r\n            series: {\r\n                animation: false,\r\n                nullColor: \"rgba(0,0,0,0)\",\r\n                boostThreshold: 0,\r\n                turboThreshold: 60000,\r\n                borderWidth: 0,\r\n                connectNulls: true,\r\n                lineWidth: mode.indexOf(\"line\") === -1 ? 0 : 1.5,\r\n                states: {\r\n                    hover: {\r\n                        lineWidthPlus: 0\r\n                    }\r\n                },\r\n                point: {\r\n                    events: {\r\n                        click: async function() {\r\n                            let row_pivots_values = [];\r\n                            let column_pivot_values = [];\r\n                            if ((type === \"bubble\" && mode === \"scatter\") || (type === \"scatter\" && mode === \"scatter\") || (type === \"scatter\" && mode === \"line\")) {\r\n                                column_pivot_values = this.series.userOptions.name.split(\", \");\r\n                                row_pivots_values = this.name ? this.name.split(\", \") : [];\r\n                            } else if (type === \"column\" || type === \"line\" || type === \"scatter\" || type === \"area\") {\r\n                                column_pivot_values = this.series.userOptions.name.split(\", \");\r\n                                row_pivots_values = tooltip.get_pivot_values(this.category);\r\n                            } else {\r\n                                console.log(`Click dispatch for ${mode} ${type} not supported.`);\r\n                                return;\r\n                            }\r\n\r\n                            const row_filters = config.row_pivots.map((c, index) => [c, \"==\", row_pivots_values[index]]);\r\n                            const column_filters = config.column_pivots.map((c, index) => [c, \"==\", column_pivot_values[index]]);\r\n                            const filters = config.filter\r\n                                .concat(row_filters)\r\n                                .concat(column_filters)\r\n                                .filter(f => !!f[f.length - 1]);\r\n\r\n                            const start_row = this.index + 1;\r\n                            const end_row = start_row + 1;\r\n                            let column_names = [];\r\n                            if ((type === \"bubble\" && mode === \"scatter\") || (type === \"scatter\" && mode === \"scatter\") || (type === \"scatter\" && mode === \"line\")) {\r\n                                column_names = aggregates;\r\n                            } else {\r\n                                const stack_name = this.series.userOptions ? this.series.userOptions.stack : \"\";\r\n                                const column_name = column_pivot_values[column_pivot_values.length - 1];\r\n                                if (is_empty(column_name)) column_names.push(stack_name);\r\n                                else column_names.push(column_name);\r\n                            }\r\n\r\n                            const r = await that._view.to_json({start_row, end_row});\r\n                            that.dispatchEvent(\r\n                                new CustomEvent(\"perspective-click\", {\r\n                                    bubbles: true,\r\n                                    composed: true,\r\n                                    detail: {\r\n                                        column_names,\r\n                                        config: {filters},\r\n                                        row: r[0]\r\n                                    }\r\n                                })\r\n                            );\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        tooltip: {\r\n            animation: false,\r\n            backgroundColor: \"#FFFFFF\",\r\n            borderColor: \"#777777\",\r\n            followPointer: false,\r\n            valueDecimals: 2,\r\n            formatter: function(highcharts_tooltip) {\r\n                that._view\r\n                    .schema(false)\r\n                    .then(schema => {\r\n                        let tooltip_text = tooltip.format_tooltip(this, hover_type, schema, aggregates, pivot_titles);\r\n                        highcharts_tooltip.label.attr({\r\n                            text: tooltip_text\r\n                        });\r\n                    })\r\n                    .catch(err => console.error(err));\r\n\r\n                return \"Loading...\";\r\n            },\r\n            positioner: function(labelWidth, labelHeight, point) {\r\n                let chart = this.chart;\r\n                let tooltipX, tooltipY;\r\n\r\n                if (point.plotX + labelWidth > chart.plotWidth) {\r\n                    tooltipX = point.plotX + chart.plotLeft - labelWidth - 5;\r\n                } else {\r\n                    tooltipX = point.plotX + chart.plotLeft;\r\n                }\r\n\r\n                if (point.plotY + labelHeight > chart.plotHeight) {\r\n                    tooltipY = point.plotY + chart.plotTop - labelHeight;\r\n                } else {\r\n                    tooltipY = point.plotY + chart.plotTop;\r\n                }\r\n\r\n                return {\r\n                    x: tooltipX,\r\n                    y: tooltipY\r\n                };\r\n            }\r\n        }\r\n    };\r\n}\r\n\r\nfunction get_pivot_titles(row_pivots, column_pivots) {\r\n    return {\r\n        row: row_pivots,\r\n        column: column_pivots\r\n    };\r\n}\r\n"],"file":"config.js"}