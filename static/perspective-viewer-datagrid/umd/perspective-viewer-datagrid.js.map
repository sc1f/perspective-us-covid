{"version":3,"sources":["webpack:///packages/perspective-viewer-datagrid/webpack/universalModuleDefinition","webpack:///packages/perspective-viewer-datagrid/webpack/bootstrap","webpack:///node_modules/core-js/internals/global.js","webpack:///node_modules/core-js/modules/web.dom-collections.iterator.js","webpack:///node_modules/core-js/internals/has.js","webpack:///node_modules/lodash/_root.js","webpack:///node_modules/core-js/internals/create-non-enumerable-property.js","webpack:///node_modules/lodash/isEqual.js","webpack:///node_modules/core-js/internals/fails.js","webpack:///node_modules/lodash/_getNative.js","webpack:///src/js/utils.js","webpack:///node_modules/core-js/internals/well-known-symbol.js","webpack:///node_modules/core-js/internals/descriptors.js","webpack:///node_modules/core-js/internals/object-define-property.js","webpack:///node_modules/core-js/internals/is-object.js","webpack:///node_modules/core-js/internals/an-object.js","webpack:///node_modules/webpack/buildin/global.js","webpack:///node_modules/core-js/internals/to-indexed-object.js","webpack:///node_modules/lodash/_ListCache.js","webpack:///node_modules/lodash/_assocIndexOf.js","webpack:///node_modules/lodash/_baseGetTag.js","webpack:///node_modules/lodash/_nativeCreate.js","webpack:///node_modules/lodash/_getMapData.js","webpack:///node_modules/lodash/isObjectLike.js","webpack:///packages/perspective-viewer-datagrid/dist/less/material.less","webpack:///node_modules/core-js/internals/is-pure.js","webpack:///node_modules/core-js/internals/set-global.js","webpack:///node_modules/core-js/internals/create-property-descriptor.js","webpack:///node_modules/core-js/internals/hidden-keys.js","webpack:///node_modules/core-js/internals/enum-bug-keys.js","webpack:///node_modules/core-js/internals/shared-key.js","webpack:///node_modules/core-js/internals/iterators.js","webpack:///node_modules/lodash/_Map.js","webpack:///node_modules/lodash/_Symbol.js","webpack:///node_modules/lodash/isArray.js","webpack:///../src/js/config/index.js","webpack:///node_modules/core-js/internals/require-object-coercible.js","webpack:///node_modules/core-js/internals/add-to-unscopables.js","webpack:///node_modules/core-js/internals/shared.js","webpack:///node_modules/core-js/internals/shared-store.js","webpack:///node_modules/core-js/internals/ie8-dom-define.js","webpack:///node_modules/core-js/internals/document-create-element.js","webpack:///node_modules/core-js/internals/to-primitive.js","webpack:///node_modules/core-js/internals/uid.js","webpack:///node_modules/core-js/internals/native-symbol.js","webpack:///node_modules/core-js/internals/object-create.js","webpack:///node_modules/core-js/internals/object-keys-internal.js","webpack:///node_modules/core-js/internals/to-integer.js","webpack:///node_modules/core-js/internals/get-built-in.js","webpack:///node_modules/core-js/internals/internal-state.js","webpack:///node_modules/core-js/internals/inspect-source.js","webpack:///node_modules/core-js/internals/object-get-own-property-descriptor.js","webpack:///node_modules/core-js/internals/redefine.js","webpack:///node_modules/core-js/internals/iterators-core.js","webpack:///node_modules/core-js/internals/object-get-prototype-of.js","webpack:///node_modules/core-js/internals/set-to-string-tag.js","webpack:///node_modules/core-js/modules/es.array.unscopables.flat.js","webpack:///node_modules/lodash/eq.js","webpack:///node_modules/lodash/isFunction.js","webpack:///node_modules/lodash/_freeGlobal.js","webpack:///node_modules/lodash/isObject.js","webpack:///node_modules/lodash/_toSource.js","webpack:///node_modules/lodash/_MapCache.js","webpack:///node_modules/lodash/_equalArrays.js","webpack:///node_modules/lodash/isBuffer.js","webpack:///node_modules/webpack/buildin/module.js","webpack:///node_modules/lodash/isTypedArray.js","webpack:///node_modules/lodash/isLength.js","webpack:///node_modules/css-loader/lib/css-base.js","webpack:///packages/perspective-viewer-datagrid/dist/less/container.less","webpack:///node_modules/core-js/internals/dom-iterables.js","webpack:///node_modules/core-js/modules/es.array.iterator.js","webpack:///node_modules/core-js/internals/indexed-object.js","webpack:///node_modules/core-js/internals/classof-raw.js","webpack:///node_modules/core-js/internals/use-symbol-as-uid.js","webpack:///node_modules/core-js/internals/object-define-properties.js","webpack:///node_modules/core-js/internals/object-keys.js","webpack:///node_modules/core-js/internals/array-includes.js","webpack:///node_modules/core-js/internals/to-length.js","webpack:///node_modules/core-js/internals/to-absolute-index.js","webpack:///node_modules/core-js/internals/html.js","webpack:///node_modules/core-js/internals/path.js","webpack:///node_modules/core-js/internals/native-weak-map.js","webpack:///node_modules/core-js/internals/define-iterator.js","webpack:///node_modules/core-js/internals/export.js","webpack:///node_modules/core-js/internals/object-property-is-enumerable.js","webpack:///node_modules/core-js/internals/copy-constructor-properties.js","webpack:///node_modules/core-js/internals/own-keys.js","webpack:///node_modules/core-js/internals/object-get-own-property-names.js","webpack:///node_modules/core-js/internals/object-get-own-property-symbols.js","webpack:///node_modules/core-js/internals/is-forced.js","webpack:///node_modules/core-js/internals/create-iterator-constructor.js","webpack:///node_modules/core-js/internals/to-object.js","webpack:///node_modules/core-js/internals/correct-prototype-getter.js","webpack:///node_modules/core-js/internals/object-set-prototype-of.js","webpack:///node_modules/core-js/internals/a-possible-prototype.js","webpack:///../src/js/config/settings.js","webpack:///packages/perspective/dist/esm/config/__node.js","webpack:///node_modules/lodash/_baseIsEqual.js","webpack:///node_modules/lodash/_baseIsEqualDeep.js","webpack:///node_modules/lodash/_Stack.js","webpack:///node_modules/lodash/_listCacheClear.js","webpack:///node_modules/lodash/_listCacheDelete.js","webpack:///node_modules/lodash/_listCacheGet.js","webpack:///node_modules/lodash/_listCacheHas.js","webpack:///node_modules/lodash/_listCacheSet.js","webpack:///node_modules/lodash/_stackClear.js","webpack:///node_modules/lodash/_stackDelete.js","webpack:///node_modules/lodash/_stackGet.js","webpack:///node_modules/lodash/_stackHas.js","webpack:///node_modules/lodash/_stackSet.js","webpack:///node_modules/lodash/_baseIsNative.js","webpack:///node_modules/lodash/_getRawTag.js","webpack:///node_modules/lodash/_objectToString.js","webpack:///node_modules/lodash/_isMasked.js","webpack:///node_modules/lodash/_coreJsData.js","webpack:///node_modules/lodash/_getValue.js","webpack:///node_modules/lodash/_mapCacheClear.js","webpack:///node_modules/lodash/_Hash.js","webpack:///node_modules/lodash/_hashClear.js","webpack:///node_modules/lodash/_hashDelete.js","webpack:///node_modules/lodash/_hashGet.js","webpack:///node_modules/lodash/_hashHas.js","webpack:///node_modules/lodash/_hashSet.js","webpack:///node_modules/lodash/_mapCacheDelete.js","webpack:///node_modules/lodash/_isKeyable.js","webpack:///node_modules/lodash/_mapCacheGet.js","webpack:///node_modules/lodash/_mapCacheHas.js","webpack:///node_modules/lodash/_mapCacheSet.js","webpack:///node_modules/lodash/_SetCache.js","webpack:///node_modules/lodash/_setCacheAdd.js","webpack:///node_modules/lodash/_setCacheHas.js","webpack:///node_modules/lodash/_arraySome.js","webpack:///node_modules/lodash/_cacheHas.js","webpack:///node_modules/lodash/_equalByTag.js","webpack:///node_modules/lodash/_Uint8Array.js","webpack:///node_modules/lodash/_mapToArray.js","webpack:///node_modules/lodash/_setToArray.js","webpack:///node_modules/lodash/_equalObjects.js","webpack:///node_modules/lodash/_getAllKeys.js","webpack:///node_modules/lodash/_baseGetAllKeys.js","webpack:///node_modules/lodash/_arrayPush.js","webpack:///node_modules/lodash/_getSymbols.js","webpack:///node_modules/lodash/_arrayFilter.js","webpack:///node_modules/lodash/stubArray.js","webpack:///node_modules/lodash/keys.js","webpack:///node_modules/lodash/_arrayLikeKeys.js","webpack:///node_modules/lodash/_baseTimes.js","webpack:///node_modules/lodash/isArguments.js","webpack:///node_modules/lodash/_baseIsArguments.js","webpack:///node_modules/lodash/stubFalse.js","webpack:///node_modules/lodash/_isIndex.js","webpack:///node_modules/lodash/_baseIsTypedArray.js","webpack:///node_modules/lodash/_baseUnary.js","webpack:///node_modules/lodash/_nodeUtil.js","webpack:///node_modules/lodash/_baseKeys.js","webpack:///node_modules/lodash/_isPrototype.js","webpack:///node_modules/lodash/_nativeKeys.js","webpack:///node_modules/lodash/_overArg.js","webpack:///node_modules/lodash/isArrayLike.js","webpack:///node_modules/lodash/_getTag.js","webpack:///node_modules/lodash/_DataView.js","webpack:///node_modules/lodash/_Promise.js","webpack:///node_modules/lodash/_Set.js","webpack:///node_modules/lodash/_WeakMap.js","webpack:///src/js/constants.js","webpack:///src/js/tree_row_header.js","webpack:///src/js/view_model.js","webpack:///src/js/thead.js","webpack:///src/js/tbody.js","webpack:///src/js/table.js","webpack:///src/js/scroll_panel.js","webpack:///src/js/events.js","webpack:///src/js/index.js","webpack:///src/js/datagrid.js"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","it","Math","check","globalThis","self","global","Function","DOMIterables","ArrayIteratorMethods","createNonEnumerableProperty","wellKnownSymbol","ITERATOR","TO_STRING_TAG","ArrayValues","values","COLLECTION_NAME","Collection","CollectionPrototype","error","METHOD_NAME","freeGlobal","freeSelf","DESCRIPTORS","definePropertyModule","createPropertyDescriptor","f","baseIsEqual","other","exec","baseIsNative","getValue","undefined","_attribute","_default","cls","desc","old_set","set","x","attr","getAttribute","JSON","stringify","parse","e","console","warn","hasAttribute","invertPromise","resolve","promise","Promise","_resolve","throttlePromise","target","descriptor","lock","args","result","registerPlugin","plugin","__perspective_plugins__","push","shared","has","uid","NATIVE_SYMBOL","USE_SYMBOL_AS_UID","WellKnownSymbolsStore","createWellKnownSymbol","withoutSetter","fails","IE8_DOM_DEFINE","anObject","toPrimitive","nativeDefineProperty","O","P","Attributes","TypeError","isObject","String","g","this","IndexedObject","requireObjectCoercible","listCacheClear","listCacheDelete","listCacheGet","listCacheHas","listCacheSet","ListCache","entries","index","length","clear","entry","eq","array","getRawTag","objectToString","nullTag","undefinedTag","symToStringTag","nativeCreate","getNative","isKeyable","map","data","__data__","bitmap","configurable","writable","keys","Map","isArray","Array","DEFAULT_CONFIG","require","default","get_config_file","item","mergeDeep","sources","source","shift","assign","get_types","get_config","types","get_type_config","type","config","props","__PERSPECTIVE_CONFIG__","override_config","UNSCOPABLES","ArrayPrototype","IS_PURE","store","version","copyright","setGlobal","createElement","a","document","EXISTS","input","PREFERRED_STRING","fn","val","toString","valueOf","id","postfix","random","getOwnPropertySymbols","activeXDocument","defineProperties","enumBugKeys","hiddenKeys","html","documentCreateElement","sharedKey","IE_PROTO","EmptyConstructor","scriptTag","content","LT","NullProtoObject","domain","ActiveXObject","iframeDocument","iframe","write","close","temp","parentWindow","NullProtoObjectViaActiveX","style","display","appendChild","src","contentWindow","open","F","Properties","toIndexedObject","indexOf","names","ceil","floor","argument","isNaN","path","aFunction","variable","namespace","method","arguments","NATIVE_WEAK_MAP","objectHas","WeakMap","wmget","wmhas","wmset","metadata","STATE","enforce","getterFor","TYPE","state","functionToString","inspectSource","propertyIsEnumerableModule","nativeGetOwnPropertyDescriptor","getOwnPropertyDescriptor","InternalStateModule","getInternalState","enforceInternalState","TEMPLATE","split","options","unsafe","simple","noTargetGet","join","IteratorPrototype","PrototypeOfArrayIteratorPrototype","arrayIterator","getPrototypeOf","BUGGY_SAFARI_ITERATORS","toObject","CORRECT_PROTOTYPE_GETTER","ObjectPrototype","constructor","TAG","STATIC","addToUnscopables","baseGetTag","asyncTag","funcTag","genTag","proxyTag","tag","funcToString","func","mapCacheClear","mapCacheDelete","mapCacheGet","mapCacheHas","mapCacheSet","MapCache","SetCache","arraySome","cacheHas","COMPARE_PARTIAL_FLAG","COMPARE_UNORDERED_FLAG","bitmask","customizer","equalFunc","stack","isPartial","arrLength","othLength","stacked","seen","arrValue","othValue","compared","othIndex","stubFalse","freeExports","nodeType","freeModule","Buffer","isBuffer","webpackPolyfill","deprecate","paths","children","baseIsTypedArray","baseUnary","nodeUtil","nodeIsTypedArray","isTypedArray","MAX_SAFE_INTEGER","useSourceMap","list","cssMapping","btoa","sourceMapping","sourceMap","unescape","encodeURIComponent","sourceURLs","sourceRoot","concat","cssWithMappingToString","mediaQuery","alreadyImportedModules","CSSRuleList","CSSStyleDeclaration","CSSValueList","ClientRectList","DOMRectList","DOMStringList","DOMTokenList","DataTransferItemList","FileList","HTMLAllCollection","HTMLCollection","HTMLFormElement","HTMLSelectElement","MediaList","MimeTypeArray","NamedNodeMap","NodeList","PaintRequestList","Plugin","PluginArray","SVGLengthList","SVGNumberList","SVGPathSegList","SVGPointList","SVGStringList","SVGTransformList","SourceBufferList","StyleSheetList","TextTrackCueList","TextTrackList","TouchList","Iterators","defineIterator","setInternalState","iterated","kind","done","Arguments","classof","propertyIsEnumerable","slice","sham","iterator","objectKeys","internalObjectKeys","toLength","toAbsoluteIndex","createMethod","IS_INCLUDES","$this","el","fromIndex","includes","toInteger","min","max","integer","getBuiltIn","test","$","createIteratorConstructor","setPrototypeOf","setToStringTag","redefine","IteratorsCore","returnThis","Iterable","NAME","IteratorConstructor","next","DEFAULT","IS_SET","FORCED","CurrentIteratorPrototype","methods","KEY","getIterationMethod","KIND","defaultIterator","IterablePrototype","INCORRECT_VALUES_NAME","nativeIterator","anyNativeIterator","proto","forced","copyConstructorProperties","isForced","targetProperty","sourceProperty","TARGET","GLOBAL","stat","nativePropertyIsEnumerable","NASHORN_BUG","1","V","ownKeys","getOwnPropertyDescriptorModule","getOwnPropertyNamesModule","getOwnPropertySymbolsModule","getOwnPropertyNames","replacement","feature","detection","normalize","POLYFILL","NATIVE","string","replace","toLowerCase","aPossiblePrototype","setter","CORRECT_SETTER","__proto__","float","filter_operator","aggregate","format","minimumFractionDigits","maximumFractionDigits","boolean","datetime","week","year","month","day","hour","minute","second","null_value","date","baseIsEqualDeep","isObjectLike","Stack","equalArrays","equalByTag","equalObjects","getTag","argsTag","arrayTag","objectTag","objIsArr","othIsArr","objTag","othTag","objIsObj","othIsObj","isSameTag","objIsWrapped","othIsWrapped","objUnwrapped","othUnwrapped","stackClear","stackDelete","stackGet","stackHas","stackSet","size","assocIndexOf","splice","pop","LARGE_ARRAY_SIZE","pairs","isFunction","isMasked","toSource","reIsHostCtor","funcProto","objectProto","reIsNative","RegExp","nativeObjectToString","isOwn","unmasked","coreJsData","maskSrcKey","Hash","hashClear","hashDelete","hashGet","hashHas","hashSet","HASH_UNDEFINED","getMapData","setCacheAdd","setCacheHas","add","predicate","cache","Uint8Array","mapToArray","setToArray","boolTag","dateTag","errorTag","mapTag","numberTag","regexpTag","setTag","stringTag","symbolTag","arrayBufferTag","dataViewTag","symbolProto","symbolValueOf","byteLength","byteOffset","buffer","message","convert","forEach","getAllKeys","objProps","objLength","skipCtor","objValue","objCtor","othCtor","baseGetAllKeys","getSymbols","arrayPush","keysFunc","symbolsFunc","offset","arrayFilter","stubArray","nativeGetSymbols","symbol","resIndex","arrayLikeKeys","baseKeys","isArrayLike","baseTimes","isArguments","isIndex","inherited","isArr","isArg","isBuff","isType","skipIndexes","iteratee","baseIsArguments","reIsUint","isLength","typedArrayTags","freeProcess","process","binding","isPrototype","nativeKeys","Ctor","overArg","transform","arg","DataView","Set","dataViewCtorString","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","ArrayBuffer","ctorString","VIEWER_MAP","METADATA_MAP","DEBUG","ICON_MAP","asc","LOG","log_fps","avg","reduce","y","rfps","vfps","nframes","log","toFixed","memoize","_target","_property","res","column_path_2_type","schema","column","parts","strings","str","flat","filter","_tree_header_classes","is_leaf","_format_class","header_classes","tree_header","td","is_open","tree_levels","tree_button","_tree_header_levels","header_text","_format_text","classList","innerHTML","ViewModel","column_sizes","container","table","_column_sizes","_container","cells","rows","num_rows","_set_metadata","_get_or_create_metadata","real_type","format_function","Intl","NumberFormat","DateTimeFormat","_format","fmt","textContent","_get_cell","row_container","cidx","tr","_get_row","ridx","_clean_columns","idx","removeChild","_clean_rows","DatagridHeaderViewModel","_draw_group_th","offset_cache","sort_dir","th","className","removeAttribute","minWidth","sort_txt","icon","_redraw_previous","_draw_group","column_name","column_path","column_type","is_column_header","_draw_th","size_key","auto_width","auto","override_width","override","toggle","maxWidth","remove","get_column_header","draw","alias","header_levels","column_pivots","is_new_group","_offset_cache","_group_header_cache","setAttribute","vcidx","sort","group_meta","clean","DatagridBodyViewModel","_draw_td","selected_id","depth","ridx_offset","cidx_offset","is_selected","isEqual","is_sub_selected","formatter","row_path","container_height","column_state","view_state","column_data","id_column","row_height","obj","offsetHeight","DatagridTableViewModel","table_clip","element","thead","tbody","header","body","fragment","createDocumentFragment","num_columns","autosize_cells","last_cells","cell","offsetWidth","indices","is_override","container_size","view_cache","preserve_width","viewport","width","container_width","height","view","column_paths","table_schema","visible_columns","start_col","columns_data","to_columns","start_row","row_pivots","viewport_width","cont_body","cont_head","missing_cidx","end_col","new_col","DatagridVirtualTableViewModel","super","create_shadow_dom","attachShadow","slot","shadowRoot","CONTAINER_STYLE","MATERIAL_STYLE","_virtual_scrolling_disabled","stick_container","scroll_container","virtual_panel","table_staging","_sticky_container","_table_clip","_table_staging","_scroll_container","_virtual_panel","_calculate_viewport","nrows","reset_scroll_position","_view_cache","end_row","_calculate_row_range","_calculate_column_range","_nrows","_container_size","total_scroll_height","percent_scroll","scrollTop","virtual_panel_row_height","relative_nrows","scroll_rows","round","total_scroll_width","percent_left","scrollLeft","max_scroll_column","_max_scroll_column","table_model","psp_offset","_validate_viewport","invalid_column","_start_col","invalid_row","_start_row","_end_row","_end_col","_needs_swap","_invalid_schema","_swap_in","parentElement","replaceChild","cloneNode","_render_element","dispatchEvent","CustomEvent","bubbles","detail","_swap_out","_update_virtual_panel_width","invalid_schema","virtual_width","panel_width","_update_virtual_panel_height","virtual_panel_px_size","infer_options","old_config","__debug_start_time__","performance","now","invalid_viewport","reset_scroll","Infinity","swap_args","_selected_id","DatagridViewEventModel","register_listeners","addEventListener","_on_scroll","passive","_on_mousewheel","_on_click","_on_dblclick","event","stopPropagation","returnValue","preventDefault","deltaY","deltaX","tagName","contains","is_resize","setTimeout","row","button","is_button","_on_toggle","_on_resize_column","_on_sort","_on_select","start","pageX","move","_on_resize_column_move","up","async","removeEventListener","diff","is_deselect","filters","row_idx","col_idx","to_json","row_pivots_values","__ROW_PATH__","row_filters","pivot","pivot_value","column_index","column_filters","column_pivot_values","column_names","getCellConfig","composed","selected","shiftKey","set_depth","collapse","expand","current_idx","findIndex","new_sort","_increment_sort","altKey","DatagridPlugin","div","datagrid","set_element","isConnected","get_or_create_datagrid","set_view","_datavis","reset_size","customElements","get_meta","get_tds","get_ths","reset_viewport","setInterval","head","_register_global_styles"],"mappings":"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","file":"perspective-viewer-datagrid.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"perspective-viewer-datagrid\"] = factory();\n\telse\n\t\troot[\"perspective-viewer-datagrid\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 163);\n","var check = function (it) {\n  return it && it.Math == Math && it;\n};\n\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nmodule.exports =\n  // eslint-disable-next-line no-undef\n  check(typeof globalThis == 'object' && globalThis) ||\n  check(typeof window == 'object' && window) ||\n  check(typeof self == 'object' && self) ||\n  check(typeof global == 'object' && global) ||\n  // eslint-disable-next-line no-new-func\n  Function('return this')();\n","var global = require('../internals/global');\nvar DOMIterables = require('../internals/dom-iterables');\nvar ArrayIteratorMethods = require('../modules/es.array.iterator');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar ArrayValues = ArrayIteratorMethods.values;\n\nfor (var COLLECTION_NAME in DOMIterables) {\n  var Collection = global[COLLECTION_NAME];\n  var CollectionPrototype = Collection && Collection.prototype;\n  if (CollectionPrototype) {\n    // some Chrome versions have non-configurable methods on DOMTokenList\n    if (CollectionPrototype[ITERATOR] !== ArrayValues) try {\n      createNonEnumerableProperty(CollectionPrototype, ITERATOR, ArrayValues);\n    } catch (error) {\n      CollectionPrototype[ITERATOR] = ArrayValues;\n    }\n    if (!CollectionPrototype[TO_STRING_TAG]) {\n      createNonEnumerableProperty(CollectionPrototype, TO_STRING_TAG, COLLECTION_NAME);\n    }\n    if (DOMIterables[COLLECTION_NAME]) for (var METHOD_NAME in ArrayIteratorMethods) {\n      // some Chrome versions have non-configurable methods on DOMTokenList\n      if (CollectionPrototype[METHOD_NAME] !== ArrayIteratorMethods[METHOD_NAME]) try {\n        createNonEnumerableProperty(CollectionPrototype, METHOD_NAME, ArrayIteratorMethods[METHOD_NAME]);\n      } catch (error) {\n        CollectionPrototype[METHOD_NAME] = ArrayIteratorMethods[METHOD_NAME];\n      }\n    }\n  }\n}\n","var hasOwnProperty = {}.hasOwnProperty;\n\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = DESCRIPTORS ? function (object, key, value) {\n  return definePropertyModule.f(object, key, createPropertyDescriptor(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","var baseIsEqual = require('./_baseIsEqual');\n\n/**\n * Performs a deep comparison between two values to determine if they are\n * equivalent.\n *\n * **Note:** This method supports comparing arrays, array buffers, booleans,\n * date objects, error objects, maps, numbers, `Object` objects, regexes,\n * sets, strings, symbols, and typed arrays. `Object` objects are compared\n * by their own, not inherited, enumerable properties. Functions and DOM\n * nodes are compared by strict equality, i.e. `===`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.isEqual(object, other);\n * // => true\n *\n * object === other;\n * // => false\n */\nfunction isEqual(value, other) {\n  return baseIsEqual(value, other);\n}\n\nmodule.exports = isEqual;\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (error) {\n    return true;\n  }\n};\n","var baseIsNative = require('./_baseIsNative'),\n    getValue = require('./_getValue');\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\nmodule.exports = getNative;\n","/******************************************************************************\n *\n * Copyright (c) 2017, the Perspective Authors.\n *\n * This file is part of the Perspective library, distributed under the terms of\n * the Apache License 2.0.  The full license can be found in the LICENSE file.\n *\n */\n\nimport {DEBUG} from \"./constants\";\n\n/******************************************************************************\n *\n * Events\n *\n */\n\nexport async function getCellConfig({view, config}, row_idx, col_idx) {\n    const row_pivots = config.row_pivots;\n    const column_pivots = config.column_pivots;\n    const start_row = row_idx >= 0 ? row_idx : 0;\n    const end_row = start_row + 1;\n    const r = await view.to_json({start_row, end_row});\n    const row_paths = r.map(x => x.__ROW_PATH__);\n    const row_pivots_values = row_paths[0] || [];\n    const row_filters = row_pivots\n        .map((pivot, index) => {\n            const pivot_value = row_pivots_values[index];\n            return pivot_value ? [pivot, \"==\", pivot_value] : undefined;\n        })\n        .filter(x => x);\n    const column_index = row_pivots.length > 0 ? col_idx + 1 : col_idx;\n    const column_paths = Object.keys(r[0])[column_index];\n    const result = {row: r[0]};\n    let column_filters = [];\n    if (column_paths) {\n        const column_pivot_values = column_paths.split(\"|\");\n        result.column_names = [column_pivot_values[column_pivot_values.length - 1]];\n        column_filters = column_pivots\n            .map((pivot, index) => {\n                const pivot_value = column_pivot_values[index];\n                return pivot_value ? [pivot, \"==\", pivot_value] : undefined;\n            })\n            .filter(x => x)\n            .filter(([, , value]) => value !== \"__ROW_PATH__\");\n    }\n\n    const filters = config.filter.concat(row_filters).concat(column_filters);\n    result.config = {filters};\n    return result;\n}\n\n/******************************************************************************\n *\n * Profling\n *\n */\n\nlet LOG = [];\n\nfunction log_fps() {\n    const avg = LOG.reduce((x, y) => x + y, 0) / LOG.length;\n    const rfps = LOG.length / 5;\n    const vfps = 1000 / avg;\n    const nframes = LOG.length;\n    console.log(`${avg.toFixed(2)} ms/frame   ${rfps} rfps   ${vfps.toFixed(2)} vfps   (${nframes} frames in 5s)`);\n    LOG = [];\n}\n\nexport function log_perf(x) {\n    LOG.push(x);\n}\n\nexport function _start_profiling_loop() {\n    if (DEBUG) {\n        setInterval(log_fps, 5000);\n    }\n}\n\n/******************************************************************************\n *\n * Utils\n *\n */\n\n/**\n * A class method decorate for memoizing method results.  Only works on one\n * arg.\n */\nexport function memoize(_target, _property, descriptor) {\n    const cache = new Map();\n    const func = descriptor.value;\n    descriptor.value = new_func;\n    return descriptor;\n    function new_func(arg) {\n        if (cache.has(arg)) {\n            return cache.get(arg);\n        } else {\n            const res = func.call(this, arg);\n            cache.set(arg, res);\n            return res;\n        }\n    }\n}\n\nexport function column_path_2_type(schema, column) {\n    let parts = column.split(\"|\");\n    return schema[parts[parts.length - 1]];\n}\n\n/**\n * Identical to a non-tagger template literal, this is only used to indicate to\n * babel that this string should be HTML-minified on production builds.\n */\nexport const html = (strings, ...args) =>\n    strings\n        .map((str, i) => [str, args[i]])\n        .flat()\n        .filter(a => !!a)\n        .join(\"\");\n","var global = require('../internals/global');\nvar shared = require('../internals/shared');\nvar has = require('../internals/has');\nvar uid = require('../internals/uid');\nvar NATIVE_SYMBOL = require('../internals/native-symbol');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\n\nvar WellKnownSymbolsStore = shared('wks');\nvar Symbol = global.Symbol;\nvar createWellKnownSymbol = USE_SYMBOL_AS_UID ? Symbol : Symbol && Symbol.withoutSetter || uid;\n\nmodule.exports = function (name) {\n  if (!has(WellKnownSymbolsStore, name)) {\n    if (NATIVE_SYMBOL && has(Symbol, name)) WellKnownSymbolsStore[name] = Symbol[name];\n    else WellKnownSymbolsStore[name] = createWellKnownSymbol('Symbol.' + name);\n  } return WellKnownSymbolsStore[name];\n};\n","var fails = require('../internals/fails');\n\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !fails(function () {\n  return Object.defineProperty({}, 1, { get: function () { return 7; } })[1] != 7;\n});\n","var DESCRIPTORS = require('../internals/descriptors');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\nvar anObject = require('../internals/an-object');\nvar toPrimitive = require('../internals/to-primitive');\n\nvar nativeDefineProperty = Object.defineProperty;\n\n// `Object.defineProperty` method\n// https://tc39.github.io/ecma262/#sec-object.defineproperty\nexports.f = DESCRIPTORS ? nativeDefineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return nativeDefineProperty(O, P, Attributes);\n  } catch (error) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n","var isObject = require('../internals/is-object');\n\nmodule.exports = function (it) {\n  if (!isObject(it)) {\n    throw TypeError(String(it) + ' is not an object');\n  } return it;\n};\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","// toObject with fallback for non-array-like ES3 strings\nvar IndexedObject = require('../internals/indexed-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nmodule.exports = function (it) {\n  return IndexedObject(requireObjectCoercible(it));\n};\n","var listCacheClear = require('./_listCacheClear'),\n    listCacheDelete = require('./_listCacheDelete'),\n    listCacheGet = require('./_listCacheGet'),\n    listCacheHas = require('./_listCacheHas'),\n    listCacheSet = require('./_listCacheSet');\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\nmodule.exports = ListCache;\n","var eq = require('./eq');\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = assocIndexOf;\n","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n","var getNative = require('./_getNative');\n\n/* Built-in method references that are verified to be native. */\nvar nativeCreate = getNative(Object, 'create');\n\nmodule.exports = nativeCreate;\n","var isKeyable = require('./_isKeyable');\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\nmodule.exports = getMapData;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"perspective-viewer>div{position:absolute;overflow:hidden;top:12px;left:12px;right:12px;bottom:12px}:host th,perspective-viewer th{text-align:center;position:relative}:host thead tr:not(:last-child) th,perspective-viewer thead tr:not(:last-child) th{overflow:hidden;max-width:0}:host tbody .pd-float,:host thead tr:last-child .pd-float,perspective-viewer tbody .pd-float,perspective-viewer thead tr:last-child .pd-float{text-align:right}:host tbody .pd-integer,:host thead .pd-integer,perspective-viewer tbody .pd-integer,perspective-viewer thead .pd-integer{text-align:right}:host .pd-positive,perspective-viewer .pd-positive{color:#1078d1}:host .pd-negative,perspective-viewer .pd-negative{color:#de3838}:host span.pd-tree-container,perspective-viewer span.pd-tree-container{display:flex;align-items:center;height:100%}:host tbody .pd-date,:host tbody .pd-datetime,:host tbody .pd-string,:host thead .pd-date,:host thead .pd-datetime,:host thead .pd-string,perspective-viewer tbody .pd-date,perspective-viewer tbody .pd-datetime,perspective-viewer tbody .pd-string,perspective-viewer thead .pd-date,perspective-viewer thead .pd-datetime,perspective-viewer thead .pd-string{text-align:left}:host tr td.pd-group-header,:host tr th,perspective-viewer tr td.pd-group-header,perspective-viewer tr th{border-right:1px solid #ddd}:host tr th:last-child,:host tr:last-child th:not(.pd-group-header),perspective-viewer tr th:last-child,perspective-viewer tr:last-child th:not(.pd-group-header){border-right:none}:host tr:last-child th,perspective-viewer tr:last-child th{border-bottom:1px solid #ddd}:host tr td span.pd-tree-group,perspective-viewer tr td span.pd-tree-group{margin-left:5px;margin-right:15px;border-left:1px solid #eee;height:100%}:host td,:host th,perspective-viewer td,perspective-viewer th{white-space:nowrap;font-size:12px;height:19px;padding:0 5px}:host tbody,perspective-viewer tbody{transition:opacity .2s ease-in}:host tbody:hover tr:hover td,perspective-viewer tbody:hover tr:hover td{background:#eee;opacity:1}:host table tr:hover,perspective-viewer table tr:hover{color:#333}:host tr,perspective-viewer tr{transition:background-color .2s ease-in,color .2s ease-in}:host table *,perspective-viewer table *{box-sizing:border-box}:host table,perspective-viewer table{position:absolute;overflow:hidden;color:#666}:host span.pd-row-header-icon,perspective-viewer span.pd-row-header-icon{color:#aaa;padding-right:4px;font-family:\\\"Material Icons\\\"}:host span.pd-column-header-icon,perspective-viewer span.pd-column-header-icon{font-size:10px;padding-left:3px;display:inline-block;width:10px;font-family:\\\"Material Icons\\\"}:host span.pd-row-header-icon:hover,perspective-viewer span.pd-row-header-icon:hover{color:#1a7da1;text-shadow:0 0 3px #1a7da1}:host .pd-selected td,perspective-viewer .pd-selected td{background-color:#eee}:host .pd-cell-clip,perspective-viewer .pd-cell-clip{overflow:hidden;text-overflow:ellipsis}:host td span.pd-group-name,:host th span.pd-group-name,perspective-viewer td span.pd-group-name,perspective-viewer th span.pd-group-name{margin-right:-5px;padding-right:5px;padding-left:8px;flex:1;height:100%}:host td span.pd-group-leaf,perspective-viewer td span.pd-group-leaf{margin-left:12px;height:100%}:host .pd-column-resize,perspective-viewer .pd-column-resize{height:100%;width:10px;position:absolute;top:0;right:0;cursor:col-resize}\", \"\"]);\n\n// exports\n","module.exports = false;\n","var global = require('../internals/global');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nmodule.exports = function (key, value) {\n  try {\n    createNonEnumerableProperty(global, key, value);\n  } catch (error) {\n    global[key] = value;\n  } return value;\n};\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","module.exports = {};\n","// IE8- don't enum bug keys\nmodule.exports = [\n  'constructor',\n  'hasOwnProperty',\n  'isPrototypeOf',\n  'propertyIsEnumerable',\n  'toLocaleString',\n  'toString',\n  'valueOf'\n];\n","var shared = require('../internals/shared');\nvar uid = require('../internals/uid');\n\nvar keys = shared('keys');\n\nmodule.exports = function (key) {\n  return keys[key] || (keys[key] = uid(key));\n};\n","module.exports = {};\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map');\n\nmodule.exports = Map;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nmodule.exports = isArray;\n","/******************************************************************************\n *\n * Copyright (c) 2017, the Perspective Authors.\n *\n * This file is part of the Perspective library, distributed under the terms of\n * the Apache License 2.0.  The full license can be found in the LICENSE file.\n *\n */\n\nconst DEFAULT_CONFIG = require(\"./settings.js\").default;\nconst get_config_file = require(\"./__node.js\").default;\n\nmodule.exports.get_types = function() {\n    return Object.keys(module.exports.get_config().types);\n};\n\nmodule.exports.get_type_config = function(type) {\n    const config = {};\n    if (module.exports.get_config().types[type]) {\n        Object.assign(config, module.exports.get_config().types[type]);\n    }\n    if (config.type) {\n        const props = module.exports.get_type_config(config.type);\n        Object.assign(props, config);\n        return props;\n    } else {\n        return config;\n    }\n};\n\nfunction isObject(item) {\n    return item && typeof item === \"object\" && !Array.isArray(item);\n}\n\nfunction mergeDeep(target, ...sources) {\n    if (!sources.length) return target;\n    const source = sources.shift();\n\n    if (isObject(target) && isObject(source)) {\n        for (const key in source) {\n            if (isObject(source[key])) {\n                if (!target[key]) Object.assign(target, {[key]: {}});\n                mergeDeep(target[key], source[key]);\n            } else {\n                Object.assign(target, {[key]: source[key]});\n            }\n        }\n    }\n\n    return mergeDeep(target, ...sources);\n}\n\nglobal.__PERSPECTIVE_CONFIG__ = undefined;\n\nmodule.exports.override_config = function(config) {\n    if (global.__PERSPECTIVE_CONFIG__) {\n        console.warn(\"Config already initialized!\");\n    }\n    global.__PERSPECTIVE_CONFIG__ = mergeDeep(DEFAULT_CONFIG, config);\n};\n\nmodule.exports.get_config = function get_config() {\n    if (!global.__PERSPECTIVE_CONFIG__) {\n        global.__PERSPECTIVE_CONFIG__ = mergeDeep(DEFAULT_CONFIG, typeof window === \"undefined\" ? get_config_file() : global.__TEMPLATE_CONFIG__ || {});\n    }\n    return global.__PERSPECTIVE_CONFIG__;\n};\n","// `RequireObjectCoercible` abstract operation\n// https://tc39.github.io/ecma262/#sec-requireobjectcoercible\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on \" + it);\n  return it;\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\nvar create = require('../internals/object-create');\nvar definePropertyModule = require('../internals/object-define-property');\n\nvar UNSCOPABLES = wellKnownSymbol('unscopables');\nvar ArrayPrototype = Array.prototype;\n\n// Array.prototype[@@unscopables]\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\nif (ArrayPrototype[UNSCOPABLES] == undefined) {\n  definePropertyModule.f(ArrayPrototype, UNSCOPABLES, {\n    configurable: true,\n    value: create(null)\n  });\n}\n\n// add a key to Array.prototype[@@unscopables]\nmodule.exports = function (key) {\n  ArrayPrototype[UNSCOPABLES][key] = true;\n};\n","var IS_PURE = require('../internals/is-pure');\nvar store = require('../internals/shared-store');\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: '3.6.4',\n  mode: IS_PURE ? 'pure' : 'global',\n  copyright: '© 2020 Denis Pushkarev (zloirock.ru)'\n});\n","var global = require('../internals/global');\nvar setGlobal = require('../internals/set-global');\n\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || setGlobal(SHARED, {});\n\nmodule.exports = store;\n","var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar createElement = require('../internals/document-create-element');\n\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !DESCRIPTORS && !fails(function () {\n  return Object.defineProperty(createElement('div'), 'a', {\n    get: function () { return 7; }\n  }).a != 7;\n});\n","var global = require('../internals/global');\nvar isObject = require('../internals/is-object');\n\nvar document = global.document;\n// typeof document.createElement is 'object' in old IE\nvar EXISTS = isObject(document) && isObject(document.createElement);\n\nmodule.exports = function (it) {\n  return EXISTS ? document.createElement(it) : {};\n};\n","var isObject = require('../internals/is-object');\n\n// `ToPrimitive` abstract operation\n// https://tc39.github.io/ecma262/#sec-toprimitive\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (input, PREFERRED_STRING) {\n  if (!isObject(input)) return input;\n  var fn, val;\n  if (PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (typeof (fn = input.valueOf) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (!PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","var id = 0;\nvar postfix = Math.random();\n\nmodule.exports = function (key) {\n  return 'Symbol(' + String(key === undefined ? '' : key) + ')_' + (++id + postfix).toString(36);\n};\n","var fails = require('../internals/fails');\n\nmodule.exports = !!Object.getOwnPropertySymbols && !fails(function () {\n  // Chrome 38 Symbol has incorrect toString conversion\n  // eslint-disable-next-line no-undef\n  return !String(Symbol());\n});\n","var anObject = require('../internals/an-object');\nvar defineProperties = require('../internals/object-define-properties');\nvar enumBugKeys = require('../internals/enum-bug-keys');\nvar hiddenKeys = require('../internals/hidden-keys');\nvar html = require('../internals/html');\nvar documentCreateElement = require('../internals/document-create-element');\nvar sharedKey = require('../internals/shared-key');\n\nvar GT = '>';\nvar LT = '<';\nvar PROTOTYPE = 'prototype';\nvar SCRIPT = 'script';\nvar IE_PROTO = sharedKey('IE_PROTO');\n\nvar EmptyConstructor = function () { /* empty */ };\n\nvar scriptTag = function (content) {\n  return LT + SCRIPT + GT + content + LT + '/' + SCRIPT + GT;\n};\n\n// Create object with fake `null` prototype: use ActiveX Object with cleared prototype\nvar NullProtoObjectViaActiveX = function (activeXDocument) {\n  activeXDocument.write(scriptTag(''));\n  activeXDocument.close();\n  var temp = activeXDocument.parentWindow.Object;\n  activeXDocument = null; // avoid memory leak\n  return temp;\n};\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar NullProtoObjectViaIFrame = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = documentCreateElement('iframe');\n  var JS = 'java' + SCRIPT + ':';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  html.appendChild(iframe);\n  // https://github.com/zloirock/core-js/issues/475\n  iframe.src = String(JS);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(scriptTag('document.F=Object'));\n  iframeDocument.close();\n  return iframeDocument.F;\n};\n\n// Check for document.domain and active x support\n// No need to use active x approach when document.domain is not set\n// see https://github.com/es-shims/es5-shim/issues/150\n// variation of https://github.com/kitcambridge/es5-shim/commit/4f738ac066346\n// avoid IE GC bug\nvar activeXDocument;\nvar NullProtoObject = function () {\n  try {\n    /* global ActiveXObject */\n    activeXDocument = document.domain && new ActiveXObject('htmlfile');\n  } catch (error) { /* ignore */ }\n  NullProtoObject = activeXDocument ? NullProtoObjectViaActiveX(activeXDocument) : NullProtoObjectViaIFrame();\n  var length = enumBugKeys.length;\n  while (length--) delete NullProtoObject[PROTOTYPE][enumBugKeys[length]];\n  return NullProtoObject();\n};\n\nhiddenKeys[IE_PROTO] = true;\n\n// `Object.create` method\n// https://tc39.github.io/ecma262/#sec-object.create\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    EmptyConstructor[PROTOTYPE] = anObject(O);\n    result = new EmptyConstructor();\n    EmptyConstructor[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = NullProtoObject();\n  return Properties === undefined ? result : defineProperties(result, Properties);\n};\n","var has = require('../internals/has');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar indexOf = require('../internals/array-includes').indexOf;\nvar hiddenKeys = require('../internals/hidden-keys');\n\nmodule.exports = function (object, names) {\n  var O = toIndexedObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) !has(hiddenKeys, key) && has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~indexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n","var ceil = Math.ceil;\nvar floor = Math.floor;\n\n// `ToInteger` abstract operation\n// https://tc39.github.io/ecma262/#sec-tointeger\nmodule.exports = function (argument) {\n  return isNaN(argument = +argument) ? 0 : (argument > 0 ? floor : ceil)(argument);\n};\n","var path = require('../internals/path');\nvar global = require('../internals/global');\n\nvar aFunction = function (variable) {\n  return typeof variable == 'function' ? variable : undefined;\n};\n\nmodule.exports = function (namespace, method) {\n  return arguments.length < 2 ? aFunction(path[namespace]) || aFunction(global[namespace])\n    : path[namespace] && path[namespace][method] || global[namespace] && global[namespace][method];\n};\n","var NATIVE_WEAK_MAP = require('../internals/native-weak-map');\nvar global = require('../internals/global');\nvar isObject = require('../internals/is-object');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar objectHas = require('../internals/has');\nvar sharedKey = require('../internals/shared-key');\nvar hiddenKeys = require('../internals/hidden-keys');\n\nvar WeakMap = global.WeakMap;\nvar set, get, has;\n\nvar enforce = function (it) {\n  return has(it) ? get(it) : set(it, {});\n};\n\nvar getterFor = function (TYPE) {\n  return function (it) {\n    var state;\n    if (!isObject(it) || (state = get(it)).type !== TYPE) {\n      throw TypeError('Incompatible receiver, ' + TYPE + ' required');\n    } return state;\n  };\n};\n\nif (NATIVE_WEAK_MAP) {\n  var store = new WeakMap();\n  var wmget = store.get;\n  var wmhas = store.has;\n  var wmset = store.set;\n  set = function (it, metadata) {\n    wmset.call(store, it, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return wmget.call(store, it) || {};\n  };\n  has = function (it) {\n    return wmhas.call(store, it);\n  };\n} else {\n  var STATE = sharedKey('state');\n  hiddenKeys[STATE] = true;\n  set = function (it, metadata) {\n    createNonEnumerableProperty(it, STATE, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return objectHas(it, STATE) ? it[STATE] : {};\n  };\n  has = function (it) {\n    return objectHas(it, STATE);\n  };\n}\n\nmodule.exports = {\n  set: set,\n  get: get,\n  has: has,\n  enforce: enforce,\n  getterFor: getterFor\n};\n","var store = require('../internals/shared-store');\n\nvar functionToString = Function.toString;\n\n// this helper broken in `3.4.1-3.4.4`, so we can't use `shared` helper\nif (typeof store.inspectSource != 'function') {\n  store.inspectSource = function (it) {\n    return functionToString.call(it);\n  };\n}\n\nmodule.exports = store.inspectSource;\n","var DESCRIPTORS = require('../internals/descriptors');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toPrimitive = require('../internals/to-primitive');\nvar has = require('../internals/has');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\n\nvar nativeGetOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertydescriptor\nexports.f = DESCRIPTORS ? nativeGetOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {\n  O = toIndexedObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return nativeGetOwnPropertyDescriptor(O, P);\n  } catch (error) { /* empty */ }\n  if (has(O, P)) return createPropertyDescriptor(!propertyIsEnumerableModule.f.call(O, P), O[P]);\n};\n","var global = require('../internals/global');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar has = require('../internals/has');\nvar setGlobal = require('../internals/set-global');\nvar inspectSource = require('../internals/inspect-source');\nvar InternalStateModule = require('../internals/internal-state');\n\nvar getInternalState = InternalStateModule.get;\nvar enforceInternalState = InternalStateModule.enforce;\nvar TEMPLATE = String(String).split('String');\n\n(module.exports = function (O, key, value, options) {\n  var unsafe = options ? !!options.unsafe : false;\n  var simple = options ? !!options.enumerable : false;\n  var noTargetGet = options ? !!options.noTargetGet : false;\n  if (typeof value == 'function') {\n    if (typeof key == 'string' && !has(value, 'name')) createNonEnumerableProperty(value, 'name', key);\n    enforceInternalState(value).source = TEMPLATE.join(typeof key == 'string' ? key : '');\n  }\n  if (O === global) {\n    if (simple) O[key] = value;\n    else setGlobal(key, value);\n    return;\n  } else if (!unsafe) {\n    delete O[key];\n  } else if (!noTargetGet && O[key]) {\n    simple = true;\n  }\n  if (simple) O[key] = value;\n  else createNonEnumerableProperty(O, key, value);\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n})(Function.prototype, 'toString', function toString() {\n  return typeof this == 'function' && getInternalState(this).source || inspectSource(this);\n});\n","'use strict';\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar has = require('../internals/has');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar IS_PURE = require('../internals/is-pure');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar BUGGY_SAFARI_ITERATORS = false;\n\nvar returnThis = function () { return this; };\n\n// `%IteratorPrototype%` object\n// https://tc39.github.io/ecma262/#sec-%iteratorprototype%-object\nvar IteratorPrototype, PrototypeOfArrayIteratorPrototype, arrayIterator;\n\nif ([].keys) {\n  arrayIterator = [].keys();\n  // Safari 8 has buggy iterators w/o `next`\n  if (!('next' in arrayIterator)) BUGGY_SAFARI_ITERATORS = true;\n  else {\n    PrototypeOfArrayIteratorPrototype = getPrototypeOf(getPrototypeOf(arrayIterator));\n    if (PrototypeOfArrayIteratorPrototype !== Object.prototype) IteratorPrototype = PrototypeOfArrayIteratorPrototype;\n  }\n}\n\nif (IteratorPrototype == undefined) IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nif (!IS_PURE && !has(IteratorPrototype, ITERATOR)) {\n  createNonEnumerableProperty(IteratorPrototype, ITERATOR, returnThis);\n}\n\nmodule.exports = {\n  IteratorPrototype: IteratorPrototype,\n  BUGGY_SAFARI_ITERATORS: BUGGY_SAFARI_ITERATORS\n};\n","var has = require('../internals/has');\nvar toObject = require('../internals/to-object');\nvar sharedKey = require('../internals/shared-key');\nvar CORRECT_PROTOTYPE_GETTER = require('../internals/correct-prototype-getter');\n\nvar IE_PROTO = sharedKey('IE_PROTO');\nvar ObjectPrototype = Object.prototype;\n\n// `Object.getPrototypeOf` method\n// https://tc39.github.io/ecma262/#sec-object.getprototypeof\nmodule.exports = CORRECT_PROTOTYPE_GETTER ? Object.getPrototypeOf : function (O) {\n  O = toObject(O);\n  if (has(O, IE_PROTO)) return O[IE_PROTO];\n  if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectPrototype : null;\n};\n","var defineProperty = require('../internals/object-define-property').f;\nvar has = require('../internals/has');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\n\nmodule.exports = function (it, TAG, STATIC) {\n  if (it && !has(it = STATIC ? it : it.prototype, TO_STRING_TAG)) {\n    defineProperty(it, TO_STRING_TAG, { configurable: true, value: TAG });\n  }\n};\n","// this method was added to unscopables after implementation\n// in popular engines, so it's moved to a separate module\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\naddToUnscopables('flat');\n","/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nmodule.exports = eq;\n","var baseGetTag = require('./_baseGetTag'),\n    isObject = require('./isObject');\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nmodule.exports = isFunction;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n","/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nmodule.exports = toSource;\n","var mapCacheClear = require('./_mapCacheClear'),\n    mapCacheDelete = require('./_mapCacheDelete'),\n    mapCacheGet = require('./_mapCacheGet'),\n    mapCacheHas = require('./_mapCacheHas'),\n    mapCacheSet = require('./_mapCacheSet');\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\nmodule.exports = MapCache;\n","var SetCache = require('./_SetCache'),\n    arraySome = require('./_arraySome'),\n    cacheHas = require('./_cacheHas');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(array);\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n  var index = -1,\n      result = true,\n      seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n  stack.set(array, other);\n  stack.set(other, array);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, arrValue, index, other, array, stack)\n        : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (seen) {\n      if (!arraySome(other, function(othValue, othIndex) {\n            if (!cacheHas(seen, othIndex) &&\n                (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n              return seen.push(othIndex);\n            }\n          })) {\n        result = false;\n        break;\n      }\n    } else if (!(\n          arrValue === othValue ||\n            equalFunc(arrValue, othValue, bitmask, customizer, stack)\n        )) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\n\nmodule.exports = equalArrays;\n","var root = require('./_root'),\n    stubFalse = require('./stubFalse');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\nmodule.exports = isBuffer;\n","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","var baseIsTypedArray = require('./_baseIsTypedArray'),\n    baseUnary = require('./_baseUnary'),\n    nodeUtil = require('./_nodeUtil');\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\nmodule.exports = isTypedArray;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nmodule.exports = isLength;\n","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function(useSourceMap) {\n\tvar list = [];\n\n\t// return the list of modules as css string\n\tlist.toString = function toString() {\n\t\treturn this.map(function (item) {\n\t\t\tvar content = cssWithMappingToString(item, useSourceMap);\n\t\t\tif(item[2]) {\n\t\t\t\treturn \"@media \" + item[2] + \"{\" + content + \"}\";\n\t\t\t} else {\n\t\t\t\treturn content;\n\t\t\t}\n\t\t}).join(\"\");\n\t};\n\n\t// import a list of modules into the list\n\tlist.i = function(modules, mediaQuery) {\n\t\tif(typeof modules === \"string\")\n\t\t\tmodules = [[null, modules, \"\"]];\n\t\tvar alreadyImportedModules = {};\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar id = this[i][0];\n\t\t\tif(typeof id === \"number\")\n\t\t\t\talreadyImportedModules[id] = true;\n\t\t}\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar item = modules[i];\n\t\t\t// skip already imported module\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\n\t\t\t\tif(mediaQuery && !item[2]) {\n\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t} else if(mediaQuery) {\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\n\t\t\t\t}\n\t\t\t\tlist.push(item);\n\t\t\t}\n\t\t}\n\t};\n\treturn list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n\tvar content = item[1] || '';\n\tvar cssMapping = item[3];\n\tif (!cssMapping) {\n\t\treturn content;\n\t}\n\n\tif (useSourceMap && typeof btoa === 'function') {\n\t\tvar sourceMapping = toComment(cssMapping);\n\t\tvar sourceURLs = cssMapping.sources.map(function (source) {\n\t\t\treturn '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */'\n\t\t});\n\n\t\treturn [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n\t}\n\n\treturn [content].join('\\n');\n}\n\n// Adapted from convert-source-map (MIT)\nfunction toComment(sourceMap) {\n\t// eslint-disable-next-line no-undef\n\tvar base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n\tvar data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;\n\n\treturn '/*# ' + data + ' */';\n}\n","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"div.pd-scroll-container{position:absolute;top:0;left:0;right:0;bottom:0;overflow:auto;-webkit-overflow-scrolling:auto}div.pd-virtual-panel{position:absolute;top:0;left:0;right:0;pointer-events:none}div.pd-scroll-table-clip{position:sticky;position:-webkit-sticky;top:0;left:0;overflow:hidden;width:100%;height:100%}div.pd-tree-container{display:flex;align-items:center;height:100%}slot{position:absolute;overflow:hidden}\", \"\"]);\n\n// exports\n","// iterable DOM collections\n// flag - `iterable` interface - 'entries', 'keys', 'values', 'forEach' methods\nmodule.exports = {\n  CSSRuleList: 0,\n  CSSStyleDeclaration: 0,\n  CSSValueList: 0,\n  ClientRectList: 0,\n  DOMRectList: 0,\n  DOMStringList: 0,\n  DOMTokenList: 1,\n  DataTransferItemList: 0,\n  FileList: 0,\n  HTMLAllCollection: 0,\n  HTMLCollection: 0,\n  HTMLFormElement: 0,\n  HTMLSelectElement: 0,\n  MediaList: 0,\n  MimeTypeArray: 0,\n  NamedNodeMap: 0,\n  NodeList: 1,\n  PaintRequestList: 0,\n  Plugin: 0,\n  PluginArray: 0,\n  SVGLengthList: 0,\n  SVGNumberList: 0,\n  SVGPathSegList: 0,\n  SVGPointList: 0,\n  SVGStringList: 0,\n  SVGTransformList: 0,\n  SourceBufferList: 0,\n  StyleSheetList: 0,\n  TextTrackCueList: 0,\n  TextTrackList: 0,\n  TouchList: 0\n};\n","'use strict';\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar addToUnscopables = require('../internals/add-to-unscopables');\nvar Iterators = require('../internals/iterators');\nvar InternalStateModule = require('../internals/internal-state');\nvar defineIterator = require('../internals/define-iterator');\n\nvar ARRAY_ITERATOR = 'Array Iterator';\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(ARRAY_ITERATOR);\n\n// `Array.prototype.entries` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.entries\n// `Array.prototype.keys` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.keys\n// `Array.prototype.values` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.values\n// `Array.prototype[@@iterator]` method\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@iterator\n// `CreateArrayIterator` internal method\n// https://tc39.github.io/ecma262/#sec-createarrayiterator\nmodule.exports = defineIterator(Array, 'Array', function (iterated, kind) {\n  setInternalState(this, {\n    type: ARRAY_ITERATOR,\n    target: toIndexedObject(iterated), // target\n    index: 0,                          // next index\n    kind: kind                         // kind\n  });\n// `%ArrayIteratorPrototype%.next` method\n// https://tc39.github.io/ecma262/#sec-%arrayiteratorprototype%.next\n}, function () {\n  var state = getInternalState(this);\n  var target = state.target;\n  var kind = state.kind;\n  var index = state.index++;\n  if (!target || index >= target.length) {\n    state.target = undefined;\n    return { value: undefined, done: true };\n  }\n  if (kind == 'keys') return { value: index, done: false };\n  if (kind == 'values') return { value: target[index], done: false };\n  return { value: [index, target[index]], done: false };\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values%\n// https://tc39.github.io/ecma262/#sec-createunmappedargumentsobject\n// https://tc39.github.io/ecma262/#sec-createmappedargumentsobject\nIterators.Arguments = Iterators.Array;\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n","var fails = require('../internals/fails');\nvar classof = require('../internals/classof-raw');\n\nvar split = ''.split;\n\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nmodule.exports = fails(function () {\n  // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346\n  // eslint-disable-next-line no-prototype-builtins\n  return !Object('z').propertyIsEnumerable(0);\n}) ? function (it) {\n  return classof(it) == 'String' ? split.call(it, '') : Object(it);\n} : Object;\n","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n","var NATIVE_SYMBOL = require('../internals/native-symbol');\n\nmodule.exports = NATIVE_SYMBOL\n  // eslint-disable-next-line no-undef\n  && !Symbol.sham\n  // eslint-disable-next-line no-undef\n  && typeof Symbol.iterator == 'symbol';\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar anObject = require('../internals/an-object');\nvar objectKeys = require('../internals/object-keys');\n\n// `Object.defineProperties` method\n// https://tc39.github.io/ecma262/#sec-object.defineproperties\nmodule.exports = DESCRIPTORS ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = objectKeys(Properties);\n  var length = keys.length;\n  var index = 0;\n  var key;\n  while (length > index) definePropertyModule.f(O, key = keys[index++], Properties[key]);\n  return O;\n};\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\n// `Object.keys` method\n// https://tc39.github.io/ecma262/#sec-object.keys\nmodule.exports = Object.keys || function keys(O) {\n  return internalObjectKeys(O, enumBugKeys);\n};\n","var toIndexedObject = require('../internals/to-indexed-object');\nvar toLength = require('../internals/to-length');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\n\n// `Array.prototype.{ indexOf, includes }` methods implementation\nvar createMethod = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIndexedObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) {\n      if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.includes` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.includes\n  includes: createMethod(true),\n  // `Array.prototype.indexOf` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.indexof\n  indexOf: createMethod(false)\n};\n","var toInteger = require('../internals/to-integer');\n\nvar min = Math.min;\n\n// `ToLength` abstract operation\n// https://tc39.github.io/ecma262/#sec-tolength\nmodule.exports = function (argument) {\n  return argument > 0 ? min(toInteger(argument), 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991\n};\n","var toInteger = require('../internals/to-integer');\n\nvar max = Math.max;\nvar min = Math.min;\n\n// Helper for a popular repeating case of the spec:\n// Let integer be ? ToInteger(index).\n// If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).\nmodule.exports = function (index, length) {\n  var integer = toInteger(index);\n  return integer < 0 ? max(integer + length, 0) : min(integer, length);\n};\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('document', 'documentElement');\n","var global = require('../internals/global');\n\nmodule.exports = global;\n","var global = require('../internals/global');\nvar inspectSource = require('../internals/inspect-source');\n\nvar WeakMap = global.WeakMap;\n\nmodule.exports = typeof WeakMap === 'function' && /native code/.test(inspectSource(WeakMap));\n","'use strict';\nvar $ = require('../internals/export');\nvar createIteratorConstructor = require('../internals/create-iterator-constructor');\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar IS_PURE = require('../internals/is-pure');\nvar Iterators = require('../internals/iterators');\nvar IteratorsCore = require('../internals/iterators-core');\n\nvar IteratorPrototype = IteratorsCore.IteratorPrototype;\nvar BUGGY_SAFARI_ITERATORS = IteratorsCore.BUGGY_SAFARI_ITERATORS;\nvar ITERATOR = wellKnownSymbol('iterator');\nvar KEYS = 'keys';\nvar VALUES = 'values';\nvar ENTRIES = 'entries';\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (Iterable, NAME, IteratorConstructor, next, DEFAULT, IS_SET, FORCED) {\n  createIteratorConstructor(IteratorConstructor, NAME, next);\n\n  var getIterationMethod = function (KIND) {\n    if (KIND === DEFAULT && defaultIterator) return defaultIterator;\n    if (!BUGGY_SAFARI_ITERATORS && KIND in IterablePrototype) return IterablePrototype[KIND];\n    switch (KIND) {\n      case KEYS: return function keys() { return new IteratorConstructor(this, KIND); };\n      case VALUES: return function values() { return new IteratorConstructor(this, KIND); };\n      case ENTRIES: return function entries() { return new IteratorConstructor(this, KIND); };\n    } return function () { return new IteratorConstructor(this); };\n  };\n\n  var TO_STRING_TAG = NAME + ' Iterator';\n  var INCORRECT_VALUES_NAME = false;\n  var IterablePrototype = Iterable.prototype;\n  var nativeIterator = IterablePrototype[ITERATOR]\n    || IterablePrototype['@@iterator']\n    || DEFAULT && IterablePrototype[DEFAULT];\n  var defaultIterator = !BUGGY_SAFARI_ITERATORS && nativeIterator || getIterationMethod(DEFAULT);\n  var anyNativeIterator = NAME == 'Array' ? IterablePrototype.entries || nativeIterator : nativeIterator;\n  var CurrentIteratorPrototype, methods, KEY;\n\n  // fix native\n  if (anyNativeIterator) {\n    CurrentIteratorPrototype = getPrototypeOf(anyNativeIterator.call(new Iterable()));\n    if (IteratorPrototype !== Object.prototype && CurrentIteratorPrototype.next) {\n      if (!IS_PURE && getPrototypeOf(CurrentIteratorPrototype) !== IteratorPrototype) {\n        if (setPrototypeOf) {\n          setPrototypeOf(CurrentIteratorPrototype, IteratorPrototype);\n        } else if (typeof CurrentIteratorPrototype[ITERATOR] != 'function') {\n          createNonEnumerableProperty(CurrentIteratorPrototype, ITERATOR, returnThis);\n        }\n      }\n      // Set @@toStringTag to native iterators\n      setToStringTag(CurrentIteratorPrototype, TO_STRING_TAG, true, true);\n      if (IS_PURE) Iterators[TO_STRING_TAG] = returnThis;\n    }\n  }\n\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if (DEFAULT == VALUES && nativeIterator && nativeIterator.name !== VALUES) {\n    INCORRECT_VALUES_NAME = true;\n    defaultIterator = function values() { return nativeIterator.call(this); };\n  }\n\n  // define iterator\n  if ((!IS_PURE || FORCED) && IterablePrototype[ITERATOR] !== defaultIterator) {\n    createNonEnumerableProperty(IterablePrototype, ITERATOR, defaultIterator);\n  }\n  Iterators[NAME] = defaultIterator;\n\n  // export additional methods\n  if (DEFAULT) {\n    methods = {\n      values: getIterationMethod(VALUES),\n      keys: IS_SET ? defaultIterator : getIterationMethod(KEYS),\n      entries: getIterationMethod(ENTRIES)\n    };\n    if (FORCED) for (KEY in methods) {\n      if (BUGGY_SAFARI_ITERATORS || INCORRECT_VALUES_NAME || !(KEY in IterablePrototype)) {\n        redefine(IterablePrototype, KEY, methods[KEY]);\n      }\n    } else $({ target: NAME, proto: true, forced: BUGGY_SAFARI_ITERATORS || INCORRECT_VALUES_NAME }, methods);\n  }\n\n  return methods;\n};\n","var global = require('../internals/global');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar setGlobal = require('../internals/set-global');\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\nvar isForced = require('../internals/is-forced');\n\n/*\n  options.target      - name of the target object\n  options.global      - target is the global object\n  options.stat        - export as static methods of target\n  options.proto       - export as prototype methods of target\n  options.real        - real prototype method for the `pure` version\n  options.forced      - export even if the native feature is available\n  options.bind        - bind methods to the target, required for the `pure` version\n  options.wrap        - wrap constructors to preventing global pollution, required for the `pure` version\n  options.unsafe      - use the simple assignment of property instead of delete + defineProperty\n  options.sham        - add a flag to not completely full polyfills\n  options.enumerable  - export as enumerable property\n  options.noTargetGet - prevent calling a getter on target\n*/\nmodule.exports = function (options, source) {\n  var TARGET = options.target;\n  var GLOBAL = options.global;\n  var STATIC = options.stat;\n  var FORCED, target, key, targetProperty, sourceProperty, descriptor;\n  if (GLOBAL) {\n    target = global;\n  } else if (STATIC) {\n    target = global[TARGET] || setGlobal(TARGET, {});\n  } else {\n    target = (global[TARGET] || {}).prototype;\n  }\n  if (target) for (key in source) {\n    sourceProperty = source[key];\n    if (options.noTargetGet) {\n      descriptor = getOwnPropertyDescriptor(target, key);\n      targetProperty = descriptor && descriptor.value;\n    } else targetProperty = target[key];\n    FORCED = isForced(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced);\n    // contained in target\n    if (!FORCED && targetProperty !== undefined) {\n      if (typeof sourceProperty === typeof targetProperty) continue;\n      copyConstructorProperties(sourceProperty, targetProperty);\n    }\n    // add a flag to not completely full polyfills\n    if (options.sham || (targetProperty && targetProperty.sham)) {\n      createNonEnumerableProperty(sourceProperty, 'sham', true);\n    }\n    // extend global\n    redefine(target, key, sourceProperty, options);\n  }\n};\n","'use strict';\nvar nativePropertyIsEnumerable = {}.propertyIsEnumerable;\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Nashorn ~ JDK8 bug\nvar NASHORN_BUG = getOwnPropertyDescriptor && !nativePropertyIsEnumerable.call({ 1: 2 }, 1);\n\n// `Object.prototype.propertyIsEnumerable` method implementation\n// https://tc39.github.io/ecma262/#sec-object.prototype.propertyisenumerable\nexports.f = NASHORN_BUG ? function propertyIsEnumerable(V) {\n  var descriptor = getOwnPropertyDescriptor(this, V);\n  return !!descriptor && descriptor.enumerable;\n} : nativePropertyIsEnumerable;\n","var has = require('../internals/has');\nvar ownKeys = require('../internals/own-keys');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar definePropertyModule = require('../internals/object-define-property');\n\nmodule.exports = function (target, source) {\n  var keys = ownKeys(source);\n  var defineProperty = definePropertyModule.f;\n  var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    if (!has(target, key)) defineProperty(target, key, getOwnPropertyDescriptor(source, key));\n  }\n};\n","var getBuiltIn = require('../internals/get-built-in');\nvar getOwnPropertyNamesModule = require('../internals/object-get-own-property-names');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar anObject = require('../internals/an-object');\n\n// all object keys, includes non-enumerable and symbols\nmodule.exports = getBuiltIn('Reflect', 'ownKeys') || function ownKeys(it) {\n  var keys = getOwnPropertyNamesModule.f(anObject(it));\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  return getOwnPropertySymbols ? keys.concat(getOwnPropertySymbols(it)) : keys;\n};\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\nvar hiddenKeys = enumBugKeys.concat('length', 'prototype');\n\n// `Object.getOwnPropertyNames` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertynames\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return internalObjectKeys(O, hiddenKeys);\n};\n","exports.f = Object.getOwnPropertySymbols;\n","var fails = require('../internals/fails');\n\nvar replacement = /#|\\.prototype\\./;\n\nvar isForced = function (feature, detection) {\n  var value = data[normalize(feature)];\n  return value == POLYFILL ? true\n    : value == NATIVE ? false\n    : typeof detection == 'function' ? fails(detection)\n    : !!detection;\n};\n\nvar normalize = isForced.normalize = function (string) {\n  return String(string).replace(replacement, '.').toLowerCase();\n};\n\nvar data = isForced.data = {};\nvar NATIVE = isForced.NATIVE = 'N';\nvar POLYFILL = isForced.POLYFILL = 'P';\n\nmodule.exports = isForced;\n","'use strict';\nvar IteratorPrototype = require('../internals/iterators-core').IteratorPrototype;\nvar create = require('../internals/object-create');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar Iterators = require('../internals/iterators');\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (IteratorConstructor, NAME, next) {\n  var TO_STRING_TAG = NAME + ' Iterator';\n  IteratorConstructor.prototype = create(IteratorPrototype, { next: createPropertyDescriptor(1, next) });\n  setToStringTag(IteratorConstructor, TO_STRING_TAG, false, true);\n  Iterators[TO_STRING_TAG] = returnThis;\n  return IteratorConstructor;\n};\n","var requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `ToObject` abstract operation\n// https://tc39.github.io/ecma262/#sec-toobject\nmodule.exports = function (argument) {\n  return Object(requireObjectCoercible(argument));\n};\n","var fails = require('../internals/fails');\n\nmodule.exports = !fails(function () {\n  function F() { /* empty */ }\n  F.prototype.constructor = null;\n  return Object.getPrototypeOf(new F()) !== F.prototype;\n});\n","var anObject = require('../internals/an-object');\nvar aPossiblePrototype = require('../internals/a-possible-prototype');\n\n// `Object.setPrototypeOf` method\n// https://tc39.github.io/ecma262/#sec-object.setprototypeof\n// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nmodule.exports = Object.setPrototypeOf || ('__proto__' in {} ? function () {\n  var CORRECT_SETTER = false;\n  var test = {};\n  var setter;\n  try {\n    setter = Object.getOwnPropertyDescriptor(Object.prototype, '__proto__').set;\n    setter.call(test, []);\n    CORRECT_SETTER = test instanceof Array;\n  } catch (error) { /* empty */ }\n  return function setPrototypeOf(O, proto) {\n    anObject(O);\n    aPossiblePrototype(proto);\n    if (CORRECT_SETTER) setter.call(O, proto);\n    else O.__proto__ = proto;\n    return O;\n  };\n}() : undefined);\n","var isObject = require('../internals/is-object');\n\nmodule.exports = function (it) {\n  if (!isObject(it) && it !== null) {\n    throw TypeError(\"Can't set \" + String(it) + ' as a prototype');\n  } return it;\n};\n","/******************************************************************************\n *\n * Copyright (c) 2017, the Perspective Authors.\n *\n * This file is part of the Perspective library, distributed under the terms of\n * the Apache License 2.0.  The full license can be found in the LICENSE file.\n *\n */\n\n/**\n * The default settings which populate `perspective.config.js`.\n */\nmodule.exports.default = {\n    /**\n     * `types` are the type-specific configuration options.  Each key is the\n     * name of a perspective type; their values are configuration objects for\n     * that type.\n     */\n    types: {\n        float: {\n            /**\n             * Which filter operator should be the default when a column of this\n             * type is pivotted.\n             */\n            filter_operator: \"==\",\n\n            /**\n             * Which aggregate should be the default when a column of this type\n             * is pivotted.\n             */\n            aggregate: \"sum\",\n\n            /**\n             * The format object for this type.  Can be either an\n             * `toLocaleString()` `options` object for this type (or supertype),\n             * or a function which returns the formatted string for this type.\n             */\n            format: {\n                style: \"decimal\",\n                minimumFractionDigits: 2,\n                maximumFractionDigits: 2\n            }\n        },\n        string: {\n            filter_operator: \"==\",\n            aggregate: \"count\"\n        },\n        integer: {\n            filter_operator: \"==\",\n            aggregate: \"sum\",\n            format: {}\n        },\n        boolean: {\n            filter_operator: \"==\",\n            aggregate: \"count\"\n        },\n        datetime: {\n            filter_operator: \"==\",\n            aggregate: \"count\",\n            format: {\n                week: \"numeric\",\n                year: \"numeric\",\n                month: \"numeric\",\n                day: \"numeric\",\n                hour: \"numeric\",\n                minute: \"numeric\",\n                second: \"numeric\"\n            },\n            null_value: -1\n        },\n        date: {\n            filter_operator: \"==\",\n            aggregate: \"count\",\n            format: {\n                week: \"numeric\",\n                year: \"numeric\",\n                month: \"numeric\",\n                day: \"numeric\"\n            },\n            null_value: -1\n        }\n    }\n};\n","module.exports.default = function() {}","var baseIsEqualDeep = require('./_baseIsEqualDeep'),\n    isObjectLike = require('./isObjectLike');\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Unordered comparison\n *  2 - Partial comparison\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, bitmask, customizer, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n}\n\nmodule.exports = baseIsEqual;\n","var Stack = require('./_Stack'),\n    equalArrays = require('./_equalArrays'),\n    equalByTag = require('./_equalByTag'),\n    equalObjects = require('./_equalObjects'),\n    getTag = require('./_getTag'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = objIsArr ? arrayTag : getTag(object),\n      othTag = othIsArr ? arrayTag : getTag(other);\n\n  objTag = objTag == argsTag ? objectTag : objTag;\n  othTag = othTag == argsTag ? objectTag : othTag;\n\n  var objIsObj = objTag == objectTag,\n      othIsObj = othTag == objectTag,\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && isBuffer(object)) {\n    if (!isBuffer(other)) {\n      return false;\n    }\n    objIsArr = true;\n    objIsObj = false;\n  }\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack);\n    return (objIsArr || isTypedArray(object))\n      ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n      : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n  }\n  if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n\n      stack || (stack = new Stack);\n      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new Stack);\n  return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n}\n\nmodule.exports = baseIsEqualDeep;\n","var ListCache = require('./_ListCache'),\n    stackClear = require('./_stackClear'),\n    stackDelete = require('./_stackDelete'),\n    stackGet = require('./_stackGet'),\n    stackHas = require('./_stackHas'),\n    stackSet = require('./_stackSet');\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\nmodule.exports = Stack;\n","/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\nmodule.exports = listCacheClear;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\nmodule.exports = listCacheDelete;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\nmodule.exports = listCacheGet;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\nmodule.exports = listCacheHas;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\nmodule.exports = listCacheSet;\n","var ListCache = require('./_ListCache');\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\nmodule.exports = stackClear;\n","/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\nmodule.exports = stackDelete;\n","/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\nmodule.exports = stackGet;\n","/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\nmodule.exports = stackHas;\n","var ListCache = require('./_ListCache'),\n    Map = require('./_Map'),\n    MapCache = require('./_MapCache');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\nmodule.exports = stackSet;\n","var isFunction = require('./isFunction'),\n    isMasked = require('./_isMasked'),\n    isObject = require('./isObject'),\n    toSource = require('./_toSource');\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\nmodule.exports = baseIsNative;\n","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","var coreJsData = require('./_coreJsData');\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nmodule.exports = isMasked;\n","var root = require('./_root');\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\nmodule.exports = coreJsData;\n","/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nmodule.exports = getValue;\n","var Hash = require('./_Hash'),\n    ListCache = require('./_ListCache'),\n    Map = require('./_Map');\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\nmodule.exports = mapCacheClear;\n","var hashClear = require('./_hashClear'),\n    hashDelete = require('./_hashDelete'),\n    hashGet = require('./_hashGet'),\n    hashHas = require('./_hashHas'),\n    hashSet = require('./_hashSet');\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\nmodule.exports = Hash;\n","var nativeCreate = require('./_nativeCreate');\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\nmodule.exports = hashClear;\n","/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = hashDelete;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\nmodule.exports = hashGet;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\nmodule.exports = hashHas;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\nmodule.exports = hashSet;\n","var getMapData = require('./_getMapData');\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = mapCacheDelete;\n","/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\nmodule.exports = isKeyable;\n","var getMapData = require('./_getMapData');\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\nmodule.exports = mapCacheGet;\n","var getMapData = require('./_getMapData');\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\nmodule.exports = mapCacheHas;\n","var getMapData = require('./_getMapData');\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\nmodule.exports = mapCacheSet;\n","var MapCache = require('./_MapCache'),\n    setCacheAdd = require('./_setCacheAdd'),\n    setCacheHas = require('./_setCacheHas');\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values == null ? 0 : values.length;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\nmodule.exports = SetCache;\n","/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\nmodule.exports = setCacheAdd;\n","/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\nmodule.exports = setCacheHas;\n","/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nmodule.exports = arraySome;\n","/**\n * Checks if a `cache` value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\nmodule.exports = cacheHas;\n","var Symbol = require('./_Symbol'),\n    Uint8Array = require('./_Uint8Array'),\n    eq = require('./eq'),\n    equalArrays = require('./_equalArrays'),\n    mapToArray = require('./_mapToArray'),\n    setToArray = require('./_setToArray');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]';\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n  switch (tag) {\n    case dataViewTag:\n      if ((object.byteLength != other.byteLength) ||\n          (object.byteOffset != other.byteOffset)) {\n        return false;\n      }\n      object = object.buffer;\n      other = other.buffer;\n\n    case arrayBufferTag:\n      if ((object.byteLength != other.byteLength) ||\n          !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n        return false;\n      }\n      return true;\n\n    case boolTag:\n    case dateTag:\n    case numberTag:\n      // Coerce booleans to `1` or `0` and dates to milliseconds.\n      // Invalid dates are coerced to `NaN`.\n      return eq(+object, +other);\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings, primitives and objects,\n      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n      // for more details.\n      return object == (other + '');\n\n    case mapTag:\n      var convert = mapToArray;\n\n    case setTag:\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n      convert || (convert = setToArray);\n\n      if (object.size != other.size && !isPartial) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked) {\n        return stacked == other;\n      }\n      bitmask |= COMPARE_UNORDERED_FLAG;\n\n      // Recursively compare objects (susceptible to call stack limits).\n      stack.set(object, other);\n      var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n      stack['delete'](object);\n      return result;\n\n    case symbolTag:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n  }\n  return false;\n}\n\nmodule.exports = equalByTag;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Uint8Array = root.Uint8Array;\n\nmodule.exports = Uint8Array;\n","/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\nmodule.exports = mapToArray;\n","/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\nmodule.exports = setToArray;\n","var getAllKeys = require('./_getAllKeys');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      objProps = getAllKeys(object),\n      objLength = objProps.length,\n      othProps = getAllKeys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n      return false;\n    }\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(object);\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\n\nmodule.exports = equalObjects;\n","var baseGetAllKeys = require('./_baseGetAllKeys'),\n    getSymbols = require('./_getSymbols'),\n    keys = require('./keys');\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\nmodule.exports = getAllKeys;\n","var arrayPush = require('./_arrayPush'),\n    isArray = require('./isArray');\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\nmodule.exports = baseGetAllKeys;\n","/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\nmodule.exports = arrayPush;\n","var arrayFilter = require('./_arrayFilter'),\n    stubArray = require('./stubArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols;\n\n/**\n * Creates an array of the own enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n  if (object == null) {\n    return [];\n  }\n  object = Object(object);\n  return arrayFilter(nativeGetSymbols(object), function(symbol) {\n    return propertyIsEnumerable.call(object, symbol);\n  });\n};\n\nmodule.exports = getSymbols;\n","/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayFilter;\n","/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\nmodule.exports = stubArray;\n","var arrayLikeKeys = require('./_arrayLikeKeys'),\n    baseKeys = require('./_baseKeys'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\nmodule.exports = keys;\n","var baseTimes = require('./_baseTimes'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isIndex = require('./_isIndex'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayLikeKeys;\n","/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\nmodule.exports = baseTimes;\n","var baseIsArguments = require('./_baseIsArguments'),\n    isObjectLike = require('./isObjectLike');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\nmodule.exports = isArguments;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\nmodule.exports = baseIsArguments;\n","/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = stubFalse;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\nmodule.exports = isIndex;\n","var baseGetTag = require('./_baseGetTag'),\n    isLength = require('./isLength'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\nmodule.exports = baseIsTypedArray;\n","/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\nmodule.exports = baseUnary;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    // Use `util.types` for Node.js 10+.\n    var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n    if (types) {\n      return types;\n    }\n\n    // Legacy `process.binding('util')` for Node.js < 10.\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\nmodule.exports = nodeUtil;\n","var isPrototype = require('./_isPrototype'),\n    nativeKeys = require('./_nativeKeys');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseKeys;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\nmodule.exports = isPrototype;\n","var overArg = require('./_overArg');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object);\n\nmodule.exports = nativeKeys;\n","/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nmodule.exports = overArg;\n","var isFunction = require('./isFunction'),\n    isLength = require('./isLength');\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\nmodule.exports = isArrayLike;\n","var DataView = require('./_DataView'),\n    Map = require('./_Map'),\n    Promise = require('./_Promise'),\n    Set = require('./_Set'),\n    WeakMap = require('./_WeakMap'),\n    baseGetTag = require('./_baseGetTag'),\n    toSource = require('./_toSource');\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    setTag = '[object Set]',\n    weakMapTag = '[object WeakMap]';\n\nvar dataViewTag = '[object DataView]';\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = baseGetTag(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\nmodule.exports = getTag;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView');\n\nmodule.exports = DataView;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Promise = getNative(root, 'Promise');\n\nmodule.exports = Promise;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Set = getNative(root, 'Set');\n\nmodule.exports = Set;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar WeakMap = getNative(root, 'WeakMap');\n\nmodule.exports = WeakMap;\n","/******************************************************************************\n *\n * Copyright (c) 2017, the Perspective Authors.\n *\n * This file is part of the Perspective library, distributed under the terms of\n * the Apache License 2.0.  The full license can be found in the LICENSE file.\n *\n */\n\n// Singleton `WeakMap`s to store metadata for td/th elements, as well as the\n// datagrids themselves for each `<perspective-viewer>`\nexport const VIEWER_MAP = new WeakMap();\nexport const METADATA_MAP = new WeakMap();\n\n// Output runtime debug info like FPS.\nexport const DEBUG = false;\n\n// Double buffer when the viewport scrolls columns, rows or when the\n// view is recreated.  Reduces render draw-in on some browsers, at the\n// expense of performance.\nexport const DOUBLE_BUFFER_COLUMN = false;\nexport const DOUBLE_BUFFER_ROW = false;\nexport const DOUBLE_BUFFER_RECREATE = true;\n\n// The largest size virtual <div> in (px) that Chrome can support without\n// glitching.\nexport const BROWSER_MAX_HEIGHT = 10000000;\n\n// Sort icons to use for Material UI.\n// TODO this should be CSS.\nexport const ICON_MAP = {\n    asc: \"arrow_upward\",\n    desc: \"arrow_downward\",\n    \"asc abs\": \"\\u21E7\",\n    \"desc abs\": \"\\u21E9\",\n    \"col asc\": \"arrow_back\",\n    \"col desc\": \"arrow_forward\",\n    \"col asc abs\": \"\\u21E8\",\n    \"col desc abs\": \"\\u21E6\"\n};\n","/******************************************************************************\n *\n * Copyright (c) 2017, the Perspective Authors.\n *\n * This file is part of the Perspective library, distributed under the terms of\n * the Apache License 2.0.  The full license can be found in the LICENSE file.\n *\n */\n\nimport {html} from \"./utils\";\n\nfunction _tree_header_classes(name, type, is_leaf) {\n    const cls = this._format_class(type)(name);\n    const header_classes = [\"pd-group-name\"];\n    if (is_leaf) {\n        header_classes.push(\"pd-group-leaf\");\n    }\n\n    if (cls) {\n        header_classes.push(cls);\n    }\n\n    return header_classes.join(\" \");\n}\n\nfunction _tree_header_levels(path, is_open, is_leaf) {\n    const tree_levels = path.map(() => `<span class=\"pd-tree-group\"></span>`);\n    if (!is_leaf) {\n        const group_icon = is_open ? \"remove\" : \"add\";\n        const tree_button = `<span class=\"pd-row-header-icon\">${group_icon}</span>`;\n        tree_levels.push(tree_button);\n    }\n\n    return tree_levels.join(\"\");\n}\n\nexport function tree_header(td, path, types, is_leaf, is_open) {\n    const type = types[path.length - 1];\n    const name = path.length === 0 ? \"TOTAL\" : path[path.length - 1];\n    const header_classes = _tree_header_classes.call(this, name, type, is_leaf);\n    const tree_levels = _tree_header_levels(path, is_open, is_leaf);\n    const header_text = this._format_text(type)(name);\n\n    td.classList.add(\"pd-group-header\");\n    td.innerHTML = html`\n        <span class=\"pd-tree-container\">\n            ${tree_levels}\n            <span class=\"${header_classes}\">${header_text}</span>\n        </span>\n    `;\n}\n","/******************************************************************************\n *\n * Copyright (c) 2017, the Perspective Authors.\n *\n * This file is part of the Perspective library, distributed under the terms of\n * the Apache License 2.0.  The full license can be found in the LICENSE file.\n *\n */\n\nimport {get_type_config} from \"@finos/perspective/dist/esm/config\";\nimport {METADATA_MAP} from \"./constants\";\nimport {memoize} from \"./utils\";\nimport {tree_header} from \"./tree_row_header\";\n\n/******************************************************************************\n *\n * View Model\n *\n */\n\nexport class ViewModel {\n    constructor(column_sizes, container, table) {\n        this._column_sizes = column_sizes;\n        this._container = container;\n        this.table = table;\n        this.cells = [];\n        this.rows = [];\n    }\n\n    num_rows() {\n        return this.cells.length;\n    }\n\n    _set_metadata(td, metadata) {\n        METADATA_MAP.set(td, metadata);\n    }\n\n    _get_or_create_metadata(td) {\n        if (METADATA_MAP.has(td)) {\n            return METADATA_MAP.get(td);\n        } else {\n            const metadata = {};\n            METADATA_MAP.set(td, metadata);\n            return metadata;\n        }\n    }\n\n    @memoize\n    _format_text(type) {\n        const config = get_type_config(type);\n        const real_type = config.type || type;\n        const format_function = {\n            float: Intl.NumberFormat,\n            integer: Intl.NumberFormat,\n            datetime: Intl.DateTimeFormat,\n            date: Intl.DateTimeFormat\n        }[real_type];\n        if (format_function) {\n            const func = new format_function(\"en-us\", config.format);\n            return path => func.format(path);\n        } else {\n            return path => path;\n        }\n    }\n\n    @memoize\n    _format_class(type) {\n        const config = get_type_config(type);\n        const real_type = config.type || type;\n        if (real_type === \"integer\" || real_type === \"float\") {\n            return path => {\n                if (path > 0) {\n                    return \"pd-positive\";\n                } else if (path < 0) {\n                    return \"pd-negative\";\n                }\n            };\n        } else {\n            return () => \"\";\n        }\n    }\n\n    @memoize\n    _format(type) {\n        if (Array.isArray(type)) {\n            return {format: tree_header.bind(this)};\n        }\n        const fmt = this._format_text(type);\n        const cls = this._format_class(type);\n        return {\n            format(td, path) {\n                td.textContent = fmt(path);\n                const c = cls(path);\n                if (c) {\n                    td.classList.add(c);\n                }\n            }\n        };\n    }\n\n    _get_cell(tag = \"td\", row_container, cidx, tr) {\n        let td = row_container[cidx];\n        if (!td) {\n            td = row_container[cidx] = document.createElement(tag);\n            tr.appendChild(td);\n        }\n        return td;\n    }\n\n    _get_row(ridx) {\n        let tr = this.rows[ridx];\n        if (!tr) {\n            tr = this.rows[ridx] = document.createElement(\"tr\");\n            this.table.appendChild(tr);\n        }\n\n        let row_container = this.cells[ridx];\n        if (!row_container) {\n            row_container = this.cells[ridx] = [];\n        }\n\n        return {tr, row_container};\n    }\n\n    _clean_columns(cidx) {\n        for (let i = 0; i < this.rows.length; i++) {\n            const tr = this.rows[i];\n            const row_container = this.cells[i];\n            let idx = cidx[i] || cidx;\n            while (tr.children[idx]) {\n                tr.removeChild(tr.children[idx]);\n            }\n            this.cells[i] = row_container.slice(0, idx);\n        }\n    }\n\n    _clean_rows(ridx) {\n        while (this.table.children[ridx]) {\n            this.table.removeChild(this.table.children[ridx]);\n        }\n        this.rows = this.rows.slice(0, ridx);\n        this.cells = this.cells.slice(0, ridx);\n    }\n}\n","/******************************************************************************\n *\n * Copyright (c) 2017, the Perspective Authors.\n *\n * This file is part of the Perspective library, distributed under the terms of\n * the Apache License 2.0.  The full license can be found in the LICENSE file.\n *\n */\n\nimport {ViewModel} from \"./view_model\";\nimport {ICON_MAP} from \"./constants\";\nimport {html} from \"./utils.js\";\n\n/**\n * <thead> view model.  This model accumulates state in the form of\n * column_sizes, which leverages <tables> autosize behavior across\n * virtual pages.\n *\n * @class DatagridHeaderViewModel\n */\nexport class DatagridHeaderViewModel extends ViewModel {\n    _draw_group_th(offset_cache, d, column, sort_dir) {\n        const {tr, row_container} = this._get_row(d);\n        const th = this._get_cell(\"th\", row_container, offset_cache[d], tr);\n        offset_cache[d] += 1;\n        th.className = \"\";\n        th.removeAttribute(\"colspan\");\n        th.style.minWidth = \"0\";\n        if (sort_dir?.length === 0) {\n            th.innerHTML = html`\n                <span>${column}</span>\n                <span class=\"pd-column-resize\"></span>\n            `;\n        } else {\n            const sort_txt = sort_dir\n                ?.map(x => {\n                    const icon = ICON_MAP[x];\n                    return html`\n                        <span class=\"pd-column-header-icon\">${icon}</span>\n                    `;\n                })\n                .join(\"\");\n            th.innerHTML = html`\n                <span>${column}</span>\n                ${sort_txt}\n                <span class=\"pd-column-resize\"></span>\n            `;\n        }\n\n        return th;\n    }\n\n    _redraw_previous(offset_cache, d) {\n        const {tr, row_container} = this._get_row(d);\n        const cidx = offset_cache[d] - 1;\n        if (cidx < 0) {\n            return;\n        }\n        const th = this._get_cell(\"th\", row_container, cidx, tr);\n        if (!th) return;\n        th.classList.add(\"pd-group-header\");\n        return th;\n    }\n\n    _draw_group(column, column_name, type, th) {\n        const metadata = this._get_or_create_metadata(th);\n        metadata.column_path = column;\n        metadata.column_name = column_name;\n        metadata.column_type = type;\n        metadata.is_column_header = false;\n        th.className = \"\";\n        return metadata;\n    }\n\n    _draw_th(column, column_name, type, th) {\n        const metadata = this._get_or_create_metadata(th);\n        metadata.column_path = column;\n        metadata.column_name = column_name;\n        metadata.column_type = type;\n        metadata.is_column_header = true;\n        metadata.size_key = `${column}|${type}`;\n        const auto_width = this._column_sizes.auto[metadata.size_key];\n        const override_width = this._column_sizes.override[metadata.size_key];\n        th.classList.add(`pd-${type}`);\n        if (override_width) {\n            th.classList.toggle(\"pd-cell-clip\", auto_width > override_width);\n            th.style.minWidth = override_width + \"px\";\n            th.style.maxWidth = override_width + \"px\";\n        } else if (auto_width) {\n            th.classList.remove(\"pd-cell-clip\");\n            th.style.maxWidth = \"\";\n            th.style.minWidth = auto_width + \"px\";\n        }\n        return metadata;\n    }\n\n    get_column_header(cidx) {\n        const {tr, row_container} = this._get_row(this.rows.length - 1);\n        return this._get_cell(\"th\", row_container, cidx, tr);\n    }\n\n    _group_header_cache = [];\n    _offset_cache = [];\n\n    draw(config, alias, column_path, type, cidx) {\n        const header_levels = config.column_pivots.length + 1;\n        let parts = column_path.split?.(\"|\");\n        let th,\n            column_name,\n            is_new_group = false;\n        for (let d = 0; d < header_levels; d++) {\n            column_name = parts[d] ? parts[d] : \"\";\n            this._offset_cache[d] = this._offset_cache[d] || 0;\n            if (d < header_levels - 1) {\n                if (this._group_header_cache?.[d]?.[0]?.column_name === column_name) {\n                    th = this._group_header_cache[d][1];\n                    this._group_header_cache[d][2] += 1;\n                    th.setAttribute(\"colspan\", this._group_header_cache[d][2]);\n                } else {\n                    th = this._draw_group_th(this._offset_cache, d, column_name, []);\n                    const metadata = this._draw_group(column_path, column_name, type, th);\n                    this._group_header_cache[d] = [metadata, th, 1];\n                    is_new_group = true;\n                }\n            } else {\n                if (is_new_group) {\n                    this._redraw_previous(this._offset_cache, d);\n                }\n                const vcidx = this._offset_cache[d];\n                const sort_dir = config.sort?.filter(x => x[0] === column_name).map(x => x[1]);\n                th = this._draw_group_th(this._offset_cache, d, column_name, sort_dir);\n\n                // Update the group header's metadata such that each group\n                // header has the same metadata coordinates of its rightmost column.\n                const metadata = this._draw_th(alias || column_path, column_name, type, th);\n                metadata.vcidx = vcidx;\n                metadata.cidx = cidx;\n                for (const [group_meta] of this._group_header_cache) {\n                    group_meta.cidx = cidx;\n                    group_meta.vcidx = vcidx;\n                    group_meta.size_key = metadata.size_key;\n                }\n            }\n        }\n\n        if (header_levels === 1 && Array.isArray(type)) {\n            th.classList.add(\"pd-group-header\");\n        }\n        const metadata = this._get_or_create_metadata(th);\n        this._clean_rows(this._offset_cache.length);\n        return {th, metadata};\n    }\n\n    clean() {\n        this._clean_columns(this._offset_cache);\n        this._offset_cache = [];\n        this._group_header_cache = [];\n    }\n}\n","/******************************************************************************\r\n *\r\n * Copyright (c) 2017, the Perspective Authors.\r\n *\r\n * This file is part of the Perspective library, distributed under the terms of\r\n * the Apache License 2.0.  The full license can be found in the LICENSE file.\r\n *\r\n */\r\n\r\nimport isEqual from \"lodash/isEqual\";\r\nimport {ViewModel} from \"./view_model\";\r\n\r\n/**\r\n * <tbody> view model.\r\n *\r\n * @class DatagridBodyViewModel\r\n */\r\nexport class DatagridBodyViewModel extends ViewModel {\r\n    _draw_td(ridx, val, id, is_open, {cidx, column_name, type}, {selected_id, depth, ridx_offset, cidx_offset}) {\r\n        const {tr, row_container} = this._get_row(ridx);\r\n        if (selected_id !== false) {\r\n            const is_selected = isEqual(id, selected_id);\r\n            const is_sub_selected = !is_selected && isEqual(id?.slice(0, selected_id?.length), selected_id);\r\n            tr.classList.toggle(\"pd-selected\", !!id && is_selected);\r\n            tr.classList.toggle(\"pd-sub-selected\", !!id && is_sub_selected);\r\n        }\r\n        const td = this._get_cell(\"td\", row_container, cidx, tr);\r\n        const metadata = this._get_or_create_metadata(td);\r\n        metadata.id = id;\r\n        metadata.cidx = cidx + cidx_offset;\r\n        metadata.type = type;\r\n        metadata.column = column_name;\r\n        metadata.size_key = `${column_name}|${type}`;\r\n        metadata.ridx = ridx + ridx_offset;\r\n        td.className = `pd-${type}`;\r\n        const override_width = this._column_sizes.override[metadata.size_key];\r\n        if (override_width) {\r\n            const auto_width = this._column_sizes.auto[metadata.size_key];\r\n            td.classList.toggle(\"pd-cell-clip\", auto_width > override_width);\r\n            td.style.minWidth = override_width + \"px\";\r\n            td.style.maxWidth = override_width + \"px\";\r\n        } else {\r\n            td.classList.remove(\"pd-cell-clip\");\r\n            td.style.minWidth = \"\";\r\n            td.style.maxWidth = \"\";\r\n        }\r\n        const formatter = this._format(type);\r\n        if (val === undefined || val === null) {\r\n            td.textContent = \"-\";\r\n            metadata.value = null;\r\n            metadata.row_path = null;\r\n        } else if (formatter) {\r\n            formatter.format(td, val, type, val.length === depth, is_open);\r\n            metadata.value = Array.isArray(val) ? val[val.length - 1] : val;\r\n            metadata.row_path = val;\r\n            metadata.is_open = is_open;\r\n        } else {\r\n            td.textContent = val;\r\n            metadata.value = val;\r\n        }\r\n\r\n        return {td, metadata};\r\n    }\r\n\r\n    draw(container_height, column_state, view_state) {\r\n        const {cidx, column_data, id_column} = column_state;\r\n        let {row_height} = view_state;\r\n        let ridx = 0;\r\n        let td, metadata;\r\n        for (const val of column_data) {\r\n            const next = column_data[ridx + 1];\r\n            const id = id_column?.[ridx];\r\n            const obj = this._draw_td(ridx++, val, id, next?.length > val?.length, column_state, view_state);\r\n            td = obj.td;\r\n            metadata = obj.metadata;\r\n            row_height = row_height || td.offsetHeight;\r\n            if (ridx * row_height > container_height) {\r\n                break;\r\n            }\r\n        }\r\n        this._clean_rows(ridx);\r\n        return {td, cidx, ridx, metadata, row_height};\r\n    }\r\n\r\n    clean({ridx, cidx}) {\r\n        this._clean_rows(ridx);\r\n        this._clean_columns(cidx);\r\n    }\r\n}\r\n","/******************************************************************************\r\n *\r\n * Copyright (c) 2017, the Perspective Authors.\r\n *\r\n * This file is part of the Perspective library, distributed under the terms of\r\n * the Apache License 2.0.  The full license can be found in the LICENSE file.\r\n *\r\n */\r\n\r\nimport {DatagridHeaderViewModel} from \"./thead\";\r\nimport {DatagridBodyViewModel} from \"./tbody\";\r\nimport {column_path_2_type, html} from \"./utils\";\r\n\r\n/**\r\n * <table> view model.  In order to handle unknown column width when `draw()`\r\n * is called, this model will iteratively fetch more data to fill in columns\r\n * until the page is complete, and makes some column viewport estimations\r\n * when this information is not availble.\r\n *\r\n * @class DatagridTableViewModel\r\n */\r\nexport class DatagridTableViewModel {\r\n    constructor(table_clip, column_sizes, element) {\r\n        element.innerHTML = html`\r\n            <table cellspacing=\"0\">\r\n                <thead></thead>\r\n                <tbody></tbody>\r\n            </table>\r\n        `;\r\n        const [table] = element.children;\r\n        const [thead, tbody] = table.children;\r\n        this.table = table;\r\n        this._column_sizes = column_sizes;\r\n        this.header = new DatagridHeaderViewModel(column_sizes, table_clip, thead);\r\n        this.body = new DatagridBodyViewModel(column_sizes, table_clip, tbody);\r\n        this.fragment = document.createDocumentFragment();\r\n    }\r\n\r\n    num_columns() {\r\n        return this.header._get_row(Math.max(0, this.header.rows?.length - 1 || 0)).row_container.length;\r\n    }\r\n\r\n    /**\r\n     * Calculate amendments to auto size from this render pass.\r\n     *\r\n     * @param {*} last_cells\r\n     * @param {*} {columns, column_pivots}\r\n     * @memberof DatagridTableViewModel\r\n     */\r\n    autosize_cells(last_cells) {\r\n        while (last_cells.length > 0) {\r\n            const [cell, metadata] = last_cells.shift();\r\n            const offsetWidth = cell.offsetWidth;\r\n            this._column_sizes.row_height = this._column_sizes.row_height || cell.offsetHeight;\r\n            this._column_sizes.indices[metadata.cidx] = offsetWidth;\r\n            const is_override = this._column_sizes.override.hasOwnProperty(metadata.size_key);\r\n            if (offsetWidth && !is_override) {\r\n                this._column_sizes.auto[metadata.size_key] = offsetWidth;\r\n            }\r\n        }\r\n    }\r\n\r\n    async draw(container_size, view_cache, selected_id, preserve_width, viewport) {\r\n        const {width: container_width, height: container_height} = container_size;\r\n        const {view, config, column_paths, schema, table_schema} = view_cache;\r\n        const visible_columns = column_paths.slice(viewport.start_col);\r\n        const columns_data = await view.to_columns(viewport);\r\n        const {start_row: ridx_offset, start_col: cidx_offset} = viewport;\r\n        const depth = config.row_pivots.length;\r\n        const id_column = columns_data[\"__ID__\"];\r\n        const view_state = {viewport_width: 0, selected_id, depth, ridx_offset, cidx_offset, row_height: this._column_sizes.row_height};\r\n\r\n        let cont_body,\r\n            cidx = 0,\r\n            last_cells = [];\r\n        if (column_paths[0] === \"__ROW_PATH__\") {\r\n            const column_name = config.row_pivots.join(\",\");\r\n            const type = config.row_pivots.map(x => table_schema[x]);\r\n            const column_data = columns_data[\"__ROW_PATH__\"];\r\n            const column_state = {column_name, cidx: 0, column_data, id_column, type};\r\n            const cont_head = this.header.draw(config, column_name, \"\", type, 0);\r\n            cont_body = this.body.draw(container_height, column_state, {...view_state, cidx_offset: 0});\r\n            view_state.selected_id = false;\r\n            view_state.viewport_width += this._column_sizes.indices[0] || cont_body.td?.offsetWidth || cont_head.th.offsetWidth;\r\n            view_state.row_height = view_state.row_height || cont_body.row_height;\r\n            cidx++;\r\n            if (!preserve_width) {\r\n                last_cells.push([cont_body.td || cont_head.th, cont_body.metadata || cont_head.metadata]);\r\n            }\r\n        }\r\n\r\n        try {\r\n            while (cidx < visible_columns.length) {\r\n                const column_name = visible_columns[cidx];\r\n                if (!columns_data[column_name]) {\r\n                    let missing_cidx = Math.max(viewport.end_col, 0);\r\n                    viewport.start_col = missing_cidx;\r\n                    viewport.end_col = missing_cidx + 1;\r\n                    const new_col = await view.to_columns(viewport);\r\n                    if (!(column_name in new_col)) {\r\n                        new_col[column_name] = [];\r\n                    }\r\n\r\n                    columns_data[column_name] = new_col[column_name];\r\n                }\r\n\r\n                const type = column_path_2_type(schema, column_name);\r\n                const column_data = columns_data[column_name];\r\n                const column_state = {column_name, cidx, column_data, id_column, type};\r\n                const cont_head = this.header.draw(config, undefined, column_name, type, cidx + cidx_offset);\r\n                cont_body = this.body.draw(container_height, column_state, view_state);\r\n                view_state.selected_id = false;\r\n                view_state.viewport_width += this._column_sizes.indices[cidx + cidx_offset] || cont_body.td?.offsetWidth || cont_head.th.offsetWidth;\r\n                view_state.row_height = view_state.row_height || cont_body.row_height;\r\n                cidx++;\r\n                if (!preserve_width) {\r\n                    last_cells.push([cont_body.td || cont_head.th, cont_body.metadata || cont_head.metadata]);\r\n                }\r\n\r\n                if (view_state.viewport_width > container_width) {\r\n                    break;\r\n                }\r\n            }\r\n\r\n            return last_cells;\r\n        } finally {\r\n            this.body.clean({ridx: cont_body?.ridx || 0, cidx});\r\n            this.header.clean();\r\n        }\r\n    }\r\n}\r\n","/******************************************************************************\r\n *\r\n * Copyright (c) 2017, the Perspective Authors.\r\n *\r\n * This file is part of the Perspective library, distributed under the terms of\r\n * the Apache License 2.0.  The full license can be found in the LICENSE file.\r\n *\r\n */\r\n\r\nimport {throttlePromise} from \"@finos/perspective-viewer/dist/esm/utils.js\";\r\n\r\nimport isEqual from \"lodash/isEqual\";\r\nimport CONTAINER_STYLE from \"../less/container.less\";\r\nimport MATERIAL_STYLE from \"../less/material.less\";\r\n\r\nimport {log_perf, html} from \"./utils\";\r\nimport {DEBUG, BROWSER_MAX_HEIGHT, DOUBLE_BUFFER_RECREATE, DOUBLE_BUFFER_ROW, DOUBLE_BUFFER_COLUMN} from \"./constants\";\r\n\r\n/**\r\n * Handles the virtual scroll pane, as well as the double buffering\r\n * of the underlying <table>. This DOM structure looks a little like\r\n * this:\r\n *\r\n *     +------------------------+      <- div.pd-scroll-container\r\n *     | +----------------------|------<- div.pd-virtual-panel\r\n *     | | +------------------+ |      <- div.pd-scroll-table-clip\r\n *     | | | +----------------|-|--+   <- table             |\r\n *     | | | | 1  A  Alabama  | |  |                        |\r\n *     | | | | 2  B  Arizona  | |  |                        |\r\n *     | | | | 3  C  Arkansas | |  |                        |\r\n *     | | | | 4  D  Californi| |  |                        |\r\n *     | | | | 5  E  Colorado | |  |                        |\r\n *     | | +------------------+ |  |                        |\r\n *     +------------------------+  |                        |\r\n *       |   | 8  H  District of C |                        |\r\n *       |   +---------------------+                        |\r\n *       |                                                  |\r\n *       |                                                  |\r\n *       |                                                  |\r\n *       |                                                  |\r\n *       |                                                  |\r\n *       +--------------------------------------------------+\r\n *\r\n * `overflow: auto` is applied to `.pd-scroll-container`, and `.pd-virtual-pane`\r\n * is sized to match the estimated \"virtual\" size of the `table`;  estimated,\r\n * because it's true size can't be known until all columns dimensions are known,\r\n * which may be deferred in the case of auto-sized tables.\r\n *\r\n * Double buffering can be enabled on \"column scroll\", \"row scroll\" and/or\r\n * \"column schema change\".  When enabled and a redraw is requested for the case,\r\n * the existing table is cloned with `cloneNode()` and swapped with the real\r\n * `table`, which is then updated offscreen and swapped back in.  While this is\r\n * much slower to render, it prevents draw-in.\r\n *\r\n * @class DatagridVirtualTableViewModel\r\n */\r\nexport class DatagridVirtualTableViewModel extends HTMLElement {\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    /**\r\n     * Create the DOM for this `shadowRoot`.\r\n     *\r\n     * `MATERIAL_STYLE` is needed both here, and in the document `<head>`, due\r\n     * to double buffering, which may read incorrect position/size values as the\r\n     * double buffered `<table>` is rendered in the shadow DOM before being\r\n     * swapped in.\r\n     *\r\n     * @memberof DatagridVirtualTableViewModel\r\n     */\r\n    create_shadow_dom() {\r\n        this.attachShadow({mode: \"open\"});\r\n        const slot = `<slot></slot>`;\r\n        this.shadowRoot.innerHTML = html`\r\n            <style>\r\n                ${CONTAINER_STYLE + MATERIAL_STYLE}\r\n            </style>\r\n            <div class=\"pd-scroll-container\">\r\n                <div class=\"pd-virtual-panel\">${this._virtual_scrolling_disabled && slot}</div>\r\n                <div class=\"pd-scroll-table-clip\">${this._virtual_scrolling_disabled || slot}</div>\r\n                <div style=\"position: absolute; visibility: hidden;\"></div>\r\n            </div>\r\n        `;\r\n\r\n        const stick_container = document.createElement(\"div\");\r\n        const [, scroll_container] = this.shadowRoot.children;\r\n        const [virtual_panel, table_clip, table_staging] = scroll_container.children;\r\n        this._sticky_container = stick_container;\r\n        this._table_clip = table_clip;\r\n        this._table_staging = table_staging;\r\n        this._scroll_container = scroll_container;\r\n        this._virtual_panel = virtual_panel;\r\n    }\r\n\r\n    /**\r\n     * Calculates the `viewport` argument for perspective's `to_columns` method.\r\n     *\r\n     * @param {*} nrows\r\n     * @param {*} reset_scroll_position\r\n     * @returns\r\n     * @memberof DatagridVirtualTableViewModel\r\n     */\r\n    _calculate_viewport(nrows, reset_scroll_position) {\r\n        const id = this._view_cache.config.row_pivots.length > 0;\r\n        if (this._virtual_scrolling_disabled) {\r\n            return {id};\r\n        }\r\n        const {start_row, end_row} = this._calculate_row_range(nrows, reset_scroll_position);\r\n        const {start_col, end_col} = this._calculate_column_range();\r\n        this._nrows = nrows;\r\n        return {start_col, end_col, start_row, end_row, id};\r\n    }\r\n\r\n    /**\r\n     * Calculate `start_row` and `end_row` for the viewport.  We do this by\r\n     * first calculating `total_scroll_height`, the px height of the\r\n     * scrollable page, from the `_virtual_panel.offsetHeight`.\r\n     *\r\n     *    0px +------------+-------------+  - virtual_panel.offsetHeight\r\n     *        |            |  .          |  . 600px\r\n     *        |  viewport  |  .          |  .\r\n     *        |            |  .          |  .\r\n     *  200px +------------+  - height   |  .  - total_scroll_height\r\n     *        |                 200px    |  .  . 400px\r\n     *        |                          |  .  .\r\n     *        |                          |  .  .\r\n     *        |                          |  .  .\r\n     *        |                          |  .  .\r\n     *  600px +--------------------------+  -  -\r\n     *\r\n     *  `percent_scroll` can be calculated from this value and `scrollTop`,\r\n     *  which we can then apply to the new calculated height to preserve scroll\r\n     *  position when the height has changed since previous render.\r\n     *\r\n     *    0px +--------------------------+  -\r\n     *        |                          |  .\r\n     *        |                          |  .\r\n     *        |                          |  . scrollable area\r\n     *  300px +------------+             |  .\r\n     *        |            |             |  .\r\n     *  - - - |  viewport  | - - - - - - |  - total_scroll_height\r\n     *        |            |             |    400px\r\n     *  500px +------------+             |\r\n     *        |                          |\r\n     *  600px +--------------------------+\r\n     *\r\n     * @param {*} nrows\r\n     * @param {*} reset_scroll_position\r\n     * @returns\r\n     * @memberof DatagridVirtualTableViewModel\r\n     */\r\n    _calculate_row_range(nrows, reset_scroll_position) {\r\n        const {height} = this._container_size;\r\n        const row_height = this._column_sizes.row_height || 19;\r\n        const header_levels = this._view_cache.config.column_pivots.length + 1;\r\n        const total_scroll_height = Math.max(1, this._virtual_panel.offsetHeight - this._scroll_container.offsetHeight);\r\n        const percent_scroll = this._scroll_container.scrollTop / total_scroll_height;\r\n        const virtual_panel_row_height = Math.floor(height / row_height);\r\n        const relative_nrows = !reset_scroll_position ? this._nrows || 0 : nrows;\r\n        const scroll_rows = Math.max(0, relative_nrows + (header_levels - virtual_panel_row_height));\r\n        let start_row = Math.round(scroll_rows * percent_scroll);\r\n        let end_row = start_row + virtual_panel_row_height;\r\n        return {start_row, end_row};\r\n    }\r\n\r\n    /**\r\n     * Calculates `start_col` and `end_col` for the viewport - most of the\r\n     * details of which are actually calculated in `_max_column`, the equivalent\r\n     * of `total_scroll_height` from `_calculate_row_range`.\r\n     *\r\n     * @returns\r\n     * @memberof DatagridVirtualTableViewModel\r\n     */\r\n    _calculate_column_range() {\r\n        const total_scroll_width = Math.max(1, this._virtual_panel.offsetWidth - this._container_size.width);\r\n        const percent_left = this._scroll_container.scrollLeft / total_scroll_width;\r\n        const max_scroll_column = this._max_scroll_column() + 0.5;\r\n        let start_col = Math.floor(max_scroll_column * percent_left);\r\n        let end_col = start_col + (this.table_model.num_columns() || 1) + 1;\r\n        return {start_col, end_col};\r\n    }\r\n\r\n    /**\r\n     * Calculates the minimum possible starting column index for which the last\r\n     * column is completely visible (e.g. not occluded by the container clip).\r\n     * This is assumed to be the # of columns unil the column widths are\r\n     * calculated as they are scrolled into view by the user, which requires\r\n     * special synchronization with _update_virtual_panel_width`\r\n     * as the scrollable width will changes as the user scrolls left to right.\r\n     *\r\n     * Once `_column_sizes.indices` has enough column widths populated from\r\n     * user scrolling, it calulates the cumulative sum of column widths from\r\n     * last visible column backwards, until the sum is larger than the viewport\r\n     * px width, which is 1 below the max scroll column\r\n     *\r\n     *               width = 290   = 210     = 100    = 0\r\n     *   0px               V       V         V        500px\r\n     *   +-----------------+-------+---------+--------+\r\n     *   | ..ol B) (Col C) | Col D | Col E   | Col F  |\r\n     *   |                 | 80px  | 110px   | 100px  |\r\n     *   |                 |       |         |        |\r\n     *\r\n     * @returns\r\n     * @memberof DatagridVirtualTableViewModel\r\n     */\r\n    _max_scroll_column() {\r\n        let width = 0;\r\n        if (this._view_cache.config.row_pivots.length > 0) {\r\n            width = this._column_sizes.indices[0];\r\n        }\r\n        let max_scroll_column = this._view_cache.column_paths.length;\r\n        while (width < this._container_size.width && max_scroll_column >= 0) {\r\n            max_scroll_column--;\r\n            width += this._column_sizes.indices[max_scroll_column] || 60;\r\n        }\r\n        const psp_offset = this._view_cache.config.row_pivots.length > 0;\r\n        return Math.min(this._view_cache.column_paths.length - (psp_offset ? 2 : 1), max_scroll_column + (psp_offset ? 0 : 1));\r\n    }\r\n\r\n    /**\r\n     * Determines whether the viewport is identical in row and column axes to\r\n     * the previous viewport rendered, for throttling identical render requests,\r\n     * e.g. when the logical (row-wise) viewport does not change, but the pixel\r\n     * viewport has moved a few px.\r\n     *\r\n     * @param {*} {start_col, end_col, start_row, end_row}\r\n     * @returns\r\n     * @memberof DatagridVirtualTableViewModel\r\n     */\r\n    _validate_viewport({start_col, end_col, start_row, end_row}) {\r\n        const invalid_column = this._start_col !== start_col;\r\n        const invalid_row = this._start_row !== start_row || this._end_row !== end_row || this._end_col !== end_col;\r\n        this._start_col = start_col;\r\n        this._end_col = end_col;\r\n        this._start_row = start_row;\r\n        this._end_row = end_row;\r\n        return {invalid_column, invalid_row};\r\n    }\r\n\r\n    /**\r\n     * A helper method to determine whether to perform a double-buffer render\r\n     * based on settings and render type.\r\n     *\r\n     * @param {*} {invalid_schema, invalid_row, invalid_column}\r\n     * @returns\r\n     * @memberof DatagridVirtualTableViewModel\r\n     */\r\n    _needs_swap({invalid_row, invalid_column}) {\r\n        return (DOUBLE_BUFFER_RECREATE && this._invalid_schema) || (DOUBLE_BUFFER_COLUMN && (invalid_column || this._invalid_schema)) || (DOUBLE_BUFFER_ROW && (invalid_row || this._invalid_schema));\r\n    }\r\n\r\n    /**\r\n     * Step 1 of a double-buffer render, swaps in a duplicate table and appends\r\n     * the real table to the hidden shadow DOM for mutation.\r\n     *\r\n     * @param {*} args\r\n     * @memberof DatagridVirtualTableViewModel\r\n     */\r\n    _swap_in(args) {\r\n        if (!this._virtual_scrolling_disabled) {\r\n            if (this._needs_swap(args)) {\r\n                if (this._sticky_container === this.table_model.table.parentElement) {\r\n                    this._sticky_container.replaceChild(this.table_model.table.cloneNode(true), this.table_model.table);\r\n                }\r\n                this._table_staging.appendChild(this.table_model.table);\r\n            } else {\r\n                if (this._sticky_container !== this.table_model.table.parentElement) {\r\n                    this._sticky_container.replaceChild(this.table_model.table, this._sticky_container.children[0]);\r\n                }\r\n            }\r\n        }\r\n        this._render_element.dispatchEvent(new CustomEvent(\"perspective-datagrid-before-update\", {bubbles: true, detail: this}));\r\n    }\r\n\r\n    /**\r\n     * Step 2 of a double-buffer render, swap the original table back into the\r\n     * light DOM.\r\n     *\r\n     * @param {*} args\r\n     * @memberof DatagridVirtualTableViewModel\r\n     */\r\n    _swap_out(args) {\r\n        if (!this._virtual_scrolling_disabled && this._needs_swap(args)) {\r\n            this._sticky_container.replaceChild(this.table_model.table, this._sticky_container.children[0]);\r\n        }\r\n        this._render_element.dispatchEvent(new CustomEvent(\"perspective-datagrid-after-update\", {bubbles: true, detail: this}));\r\n    }\r\n\r\n    /**\r\n     * Updates the `virtual_panel` width based on view state.\r\n     *\r\n     * @param {*} invalid_schema\r\n     * @memberof DatagridVirtualTableViewModel\r\n     */\r\n    _update_virtual_panel_width(invalid_schema) {\r\n        if (invalid_schema) {\r\n            const total_scroll_width = Math.max(1, this._virtual_panel.offsetWidth - this._container_size.width);\r\n            const percent_left = this._scroll_container.scrollLeft / total_scroll_width;\r\n            const max_scroll_column = this._max_scroll_column();\r\n            let cidx = 0,\r\n                virtual_width = 0;\r\n            while (cidx < max_scroll_column) {\r\n                virtual_width += this._column_sizes.indices[cidx] || 60;\r\n                cidx++;\r\n            }\r\n            const panel_width = this._container_size.width + virtual_width;\r\n            this._virtual_panel.style.width = panel_width + \"px\";\r\n            this._scroll_container.scrollLeft = percent_left * virtual_width;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Updates the `virtual_panel` height based on the view state.\r\n     *\r\n     * @param {*} nrows\r\n     * @memberof DatagridVirtualTableViewModel\r\n     */\r\n    _update_virtual_panel_height(nrows) {\r\n        const {row_height = 19} = this._column_sizes;\r\n        const virtual_panel_px_size = Math.min(BROWSER_MAX_HEIGHT, nrows * row_height);\r\n        this._virtual_panel.style.height = `${virtual_panel_px_size}px`;\r\n    }\r\n\r\n    /**\r\n     * Infer options for `draw()` from the previous render state, given a new\r\n     * perspective `config`.\r\n     *\r\n     * @param {*} config\r\n     * @returns\r\n     * @memberof DatagridVirtualTableViewModel\r\n     */\r\n    infer_options(config) {\r\n        config = Object.assign({}, config);\r\n        if (!this._view_cache) {\r\n            return {};\r\n        }\r\n        const old_config = Object.assign({}, this._view_cache.config);\r\n        delete old_config[\"sort\"];\r\n        delete config[\"sort\"];\r\n        return {reset_scroll_position: !isEqual(config, old_config)};\r\n    }\r\n\r\n    /**\r\n     * Draws this virtual panel, given an object of render options that allow\r\n     * the implementor to fine tune the individual render frames based on the\r\n     * interaction and previous render state.\r\n     *\r\n     * `reset_scroll_position` will not prevent the viewport from moving as\r\n     * `draw()` may change the dmiensions of the virtual_panel (and thus,\r\n     * absolute scroll offset).  This calls `reset_scroll`, which will\r\n     * trigger `_on_scroll` and ultimately `draw()` again;  however, this call\r\n     * to `draw()` will be for the same viewport and will not actually cause\r\n     * a render.\r\n     *\r\n     * @param {*} [options={reset_scroll_position = false, preserve_width = false, invalid_viewport = false}]\r\n     * @returns\r\n     * @memberof DatagridVirtualTableViewModel\r\n     */\r\n    @throttlePromise\r\n    async draw(options = {}) {\r\n        const __debug_start_time__ = DEBUG && performance.now();\r\n        const {reset_scroll_position = false, preserve_width = false, invalid_viewport = false} = options;\r\n\r\n        if (this._view_cache.column_paths === undefined) {\r\n            return;\r\n        }\r\n\r\n        if (reset_scroll_position) {\r\n            this.reset_scroll();\r\n        }\r\n\r\n        const nrows = await this._view_cache.view.num_rows();\r\n\r\n        if (this._virtual_scrolling_disabled) {\r\n            this._container_size = {width: Infinity, height: Infinity};\r\n        } else {\r\n            this._container_size = (!this._invalid_schema && this._container_size) || {\r\n                width: this._sticky_container.offsetWidth,\r\n                height: this._sticky_container.offsetHeight\r\n            };\r\n        }\r\n\r\n        const viewport = this._calculate_viewport(nrows, reset_scroll_position);\r\n        const swap_args = this._validate_viewport(viewport);\r\n        const {invalid_row, invalid_column} = swap_args;\r\n        this._update_virtual_panel_height(nrows);\r\n\r\n        if (this._invalid_schema || invalid_row || invalid_column || invalid_viewport) {\r\n            this._swap_in(swap_args);\r\n            const last_cells = await this.table_model.draw(this._container_size, this._view_cache, this._selected_id, preserve_width, viewport);\r\n            this._swap_out(swap_args);\r\n            this.table_model.autosize_cells(last_cells);\r\n            if (!preserve_width) {\r\n                this._update_virtual_panel_width(this._invalid_schema || invalid_column || invalid_viewport);\r\n            }\r\n            this._invalid_schema = false;\r\n        }\r\n\r\n        if (DEBUG) {\r\n            log_perf(performance.now() - __debug_start_time__);\r\n        }\r\n    }\r\n}\r\n","/******************************************************************************\r\n *\r\n * Copyright (c) 2017, the Perspective Authors.\r\n *\r\n * This file is part of the Perspective library, distributed under the terms of\r\n * the Apache License 2.0.  The full license can be found in the LICENSE file.\r\n *\r\n */\r\n\r\nimport {throttlePromise} from \"@finos/perspective-viewer/dist/esm/utils.js\";\r\n\r\nimport isEqual from \"lodash/isEqual\";\r\nimport {METADATA_MAP} from \"./constants\";\r\nimport {DatagridVirtualTableViewModel} from \"./scroll_panel\";\r\nimport {getCellConfig} from \"./utils\";\r\n\r\n/**\r\n *\r\n *\r\n * @class DatagridViewEventModel\r\n * @extends {DatagridVirtualTableViewModel}\r\n */\r\nexport class DatagridViewEventModel extends DatagridVirtualTableViewModel {\r\n    register_listeners() {\r\n        this._scroll_container.addEventListener(\"scroll\", this._on_scroll.bind(this), {passive: false});\r\n        this._scroll_container.addEventListener(\"mousewheel\", this._on_mousewheel.bind(this), {passive: false});\r\n        this._sticky_container.addEventListener(\"mousedown\", this._on_click.bind(this));\r\n        this._sticky_container.addEventListener(\"dblclick\", this._on_dblclick.bind(this));\r\n    }\r\n\r\n    /**\r\n     * @returns\r\n     * @memberof DatagridViewModel\r\n     */\r\n    async _on_scroll(event) {\r\n        event.stopPropagation();\r\n        event.returnValue = false;\r\n        await this.draw();\r\n        this._render_element.dispatchEvent(new CustomEvent(\"perspective-datagrid-scroll\"));\r\n    }\r\n\r\n    /**\r\n     * Mousewheel must precalculate in addition to `_on_scroll` to prevent\r\n     * visual artifacts due to scrolling \"inertia\" on modern browsers/mobile.\r\n     *\r\n     * @param {*} event\r\n     * @memberof DatagridViewModel\r\n     */\r\n    _on_mousewheel(event) {\r\n        if (this._virtual_scrolling_disabled) {\r\n            return;\r\n        }\r\n        event.preventDefault();\r\n        event.returnValue = false;\r\n        const {offsetWidth, offsetHeight, scrollTop, scrollLeft} = this._scroll_container;\r\n        const total_scroll_height = Math.max(1, this._virtual_panel.offsetHeight - offsetHeight);\r\n        const total_scroll_width = Math.max(1, this._virtual_panel.offsetWidth - offsetWidth);\r\n        this._scroll_container.scrollTop = Math.min(total_scroll_height, scrollTop + event.deltaY);\r\n        this._scroll_container.scrollLeft = Math.min(total_scroll_width, scrollLeft + event.deltaX);\r\n        this._on_scroll(event);\r\n    }\r\n\r\n    /**\r\n     * Handles double-click header width override reset.\r\n     *\r\n     * @param {*} event\r\n     * @returns\r\n     * @memberof DatagridVirtualTableViewModel\r\n     */\r\n    async _on_dblclick(event) {\r\n        let element = event.target;\r\n        while (element.tagName !== \"TD\" && element.tagName !== \"TH\") {\r\n            element = element.parentElement;\r\n            if (!this._sticky_container.contains(element)) {\r\n                return;\r\n            }\r\n        }\r\n        const is_resize = event.target.classList.contains(\"pd-column-resize\");\r\n        const metadata = METADATA_MAP.get(element);\r\n        if (is_resize) {\r\n            await new Promise(setTimeout);\r\n            delete this._column_sizes.override[metadata.size_key];\r\n            delete this._column_sizes.auto[metadata.size_key];\r\n            delete this._column_sizes.indices[metadata.cidx];\r\n            element.style.minWidth = \"\";\r\n            element.style.maxWidth = \"\";\r\n            for (const row of this.table_model.body.cells) {\r\n                const td = row[metadata.cidx];\r\n                td.style.minWidth = \"\";\r\n                td.style.maxWidth = \"\";\r\n                td.classList.remove(\"pd-cell-clip\");\r\n            }\r\n            await this.draw({invalid_viewport: true});\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Dispatches all click events to other handlers, depending on\r\n     * `event.target`.\r\n     *\r\n     * @param {*} event\r\n     * @returns\r\n     * @memberof DatagridVirtualTableViewModel\r\n     */\r\n    async _on_click(event) {\r\n        if (event.button !== 0) {\r\n            return;\r\n        }\r\n\r\n        let element = event.target;\r\n        while (element.tagName !== \"TD\" && element.tagName !== \"TH\") {\r\n            element = element.parentElement;\r\n            if (!this._sticky_container.contains(element)) {\r\n                return;\r\n            }\r\n        }\r\n\r\n        const is_button = event.target.classList.contains(\"pd-row-header-icon\");\r\n        const is_resize = event.target.classList.contains(\"pd-column-resize\");\r\n        const metadata = METADATA_MAP.get(element);\r\n        if (is_button) {\r\n            await this._on_toggle(event, metadata);\r\n        } else if (is_resize) {\r\n            this._on_resize_column(event, element, metadata);\r\n        } else if (metadata?.is_column_header) {\r\n            await this._on_sort(event, metadata);\r\n        } else {\r\n            await this._on_select(metadata);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Datagrid event for column resize.\r\n     *\r\n     * @param {*} event\r\n     * @param {*} element\r\n     * @param {*} metadata\r\n     * @memberof DatagridVirtualTableViewModel\r\n     */\r\n    _on_resize_column(event, element, metadata) {\r\n        const start = event.pageX;\r\n        element = this.table_model.header.get_column_header(metadata.vcidx);\r\n        const width = this._column_sizes.indices[metadata.cidx];\r\n        const move = event => this._on_resize_column_move(event, element, start, width, metadata);\r\n        const up = async () => {\r\n            document.removeEventListener(\"mousemove\", move);\r\n            document.removeEventListener(\"mouseup\", up);\r\n            const override_width = this._column_sizes.override[metadata.size_key];\r\n            this._column_sizes.indices[metadata.cidx] = override_width;\r\n            await this.draw({invalid_viewport: true});\r\n        };\r\n        document.addEventListener(\"mousemove\", move);\r\n        document.addEventListener(\"mouseup\", up);\r\n    }\r\n\r\n    /**\r\n     * Datagrid event for mouse movement when resizing a column.\r\n     *\r\n     * @param {*} event\r\n     * @param {*} th\r\n     * @param {*} start\r\n     * @param {*} width\r\n     * @param {*} metadata\r\n     * @memberof DatagridVirtualTableViewModel\r\n     */\r\n    @throttlePromise\r\n    async _on_resize_column_move(event, th, start, width, metadata) {\r\n        await new Promise(setTimeout);\r\n        const diff = event.pageX - start;\r\n        const override_width = width + diff;\r\n        this._column_sizes.override[metadata.size_key] = override_width;\r\n\r\n        // If the column is smaller, new columns may need to be fetched, so\r\n        // redraw, else just update the DOM widths as if redrawn.\r\n        if (diff < 0) {\r\n            await this.draw({invalid_viewport: true, preserve_width: true});\r\n        } else {\r\n            th.style.minWidth = override_width + \"px\";\r\n            th.style.maxWidth = override_width + \"px\";\r\n            const auto_width = this._column_sizes.auto[metadata.size_key];\r\n            for (const row of this.table_model.body.cells) {\r\n                const td = row[metadata.vcidx];\r\n                td.style.maxWidth = td.style.minWidth = override_width + \"px\";\r\n                td.classList.toggle(\"pd-cell-clip\", auto_width > override_width);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Datagrid event which handles row selection.\r\n     *\r\n     * @param {*} metadata\r\n     * @returns\r\n     * @memberof DatagridVirtualTableViewModel\r\n     */\r\n    async _on_select(metadata) {\r\n        if (!this._render_element.hasAttribute(\"selectable\")) {\r\n            return;\r\n        }\r\n\r\n        const is_deselect = isEqual(metadata.id, this._selected_id);\r\n        let filters = [];\r\n        if (is_deselect) {\r\n            this._selected_id = undefined;\r\n            await this.draw({invalid_viewport: true});\r\n        } else {\r\n            this._selected_id = metadata.id;\r\n            await this.draw({invalid_viewport: true});\r\n            filters = await getCellConfig(this._view_cache, metadata.ridx, metadata.cidx);\r\n            filters = filters.config.filters;\r\n        }\r\n\r\n        this._render_element.dispatchEvent(\r\n            new CustomEvent(\"perspective-select\", {\r\n                bubbles: true,\r\n                composed: true,\r\n                detail: {\r\n                    selected: !is_deselect,\r\n                    config: {filters}\r\n                }\r\n            })\r\n        );\r\n    }\r\n\r\n    /**\r\n     * Toggles a tree row between 'open' and 'closed' states, or toggles all\r\n     * tree rows at this depth when the shift key is also pressed.\r\n     *\r\n     * @param {*} event\r\n     * @param {*} metadata\r\n     * @memberof DatagridVirtualTableViewModel\r\n     */\r\n    async _on_toggle(event, metadata) {\r\n        if (metadata.is_open) {\r\n            if (event.shiftKey) {\r\n                await this._view_cache.view.set_depth(metadata.row_path.length - 1);\r\n            } else {\r\n                await this._view_cache.view.collapse(metadata.ridx);\r\n            }\r\n        } else if (metadata.is_open === false) {\r\n            if (event.shiftKey) {\r\n                await this._view_cache.view.set_depth(metadata.row_path.length);\r\n            } else {\r\n                await this._view_cache.view.expand(metadata.ridx);\r\n            }\r\n        }\r\n        await this.draw({invalid_viewport: true});\r\n    }\r\n\r\n    /**\r\n     * Datagrid event which handles sorting.  There are 3 control states:\r\n     *\r\n     *  - Already sorted by `metadata.column_name`, increment sort clause to\r\n     *    next sort state.\r\n     *  - Not sorted, shift key, append new sort clause to existing.\r\n     *  - Not sorted, set as new sort clause.\r\n     *\r\n     * @param {*} event\r\n     * @param {*} metadata\r\n     * @memberof DatagridVirtualTableViewModel\r\n     */\r\n    async _on_sort(event, metadata) {\r\n        let sort = this._view_cache.config.sort.slice();\r\n        const current_idx = sort.findIndex(x => x[0] === metadata.column_name);\r\n        if (current_idx > -1) {\r\n            const sort_dir = sort[current_idx][1];\r\n            const new_sort = this._render_element._increment_sort(sort_dir, false, event.altKey);\r\n            sort[current_idx] = [metadata.column_name, new_sort];\r\n        } else {\r\n            let sort_dir = event.altKey ? \"asc abs\" : \"asc\";\r\n            const new_sort = [metadata.column_name, sort_dir];\r\n            if (event.shiftKey) {\r\n                sort.push(new_sort);\r\n            } else {\r\n                sort = [new_sort];\r\n            }\r\n        }\r\n        this._render_element.setAttribute(\"sort\", JSON.stringify(sort));\r\n    }\r\n}\r\n","/******************************************************************************\r\n *\r\n * Copyright (c) 2017, the Perspective Authors.\r\n *\r\n * This file is part of the Perspective library, distributed under the terms of\r\n * the Apache License 2.0.  The full license can be found in the LICENSE file.\r\n *\r\n */\r\n\r\nimport {registerPlugin} from \"@finos/perspective-viewer/dist/esm/utils.js\";\r\nimport {_start_profiling_loop} from \"./utils\";\r\nimport {DatagridViewModel} from \"./datagrid\";\r\nimport {VIEWER_MAP} from \"./constants\";\r\nimport MATERIAL_STYLE from \"../less/material.less\";\r\n\r\n/**\r\n * Initializes a new datagrid renderer if needed, or returns an existing one\r\n * associated with a rendering `<div>` from a cache.\r\n *\r\n * @param {*} element\r\n * @param {*} div\r\n * @returns\r\n */\r\nfunction get_or_create_datagrid(element, div) {\r\n    let datagrid;\r\n    if (!VIEWER_MAP.has(div)) {\r\n        datagrid = document.createElement(\"perspective-datagrid\");\r\n        datagrid.appendChild(document.createElement(\"slot\"));\r\n        datagrid.set_element(element);\r\n        datagrid.register_listeners();\r\n        div.innerHTML = \"\";\r\n        div.appendChild(datagrid);\r\n        VIEWER_MAP.set(div, datagrid);\r\n    } else {\r\n        datagrid = VIEWER_MAP.get(div);\r\n    }\r\n\r\n    if (!datagrid.isConnected) {\r\n        datagrid.clear();\r\n        div.innerHTML = \"\";\r\n        div.appendChild(datagrid);\r\n    }\r\n\r\n    return datagrid;\r\n}\r\n\r\n/**\r\n * <perspective-viewer> plugin.\r\n *\r\n * @class DatagridPlugin\r\n */\r\nclass DatagridPlugin {\r\n    static name = \"Datagrid\";\r\n    static selectMode = \"toggle\";\r\n    static deselectMode = \"pivots\";\r\n\r\n    static async update(div) {\r\n        try {\r\n            const datagrid = VIEWER_MAP.get(div);\r\n            await datagrid.draw({invalid_viewport: true});\r\n        } catch (e) {\r\n            return;\r\n        }\r\n    }\r\n\r\n    static async create(div, view) {\r\n        const datagrid = get_or_create_datagrid(this, div);\r\n        const options = await datagrid.set_view(view);\r\n        await datagrid.draw(options);\r\n    }\r\n\r\n    static async resize() {\r\n        if (this.view && VIEWER_MAP.has(this._datavis)) {\r\n            const datagrid = VIEWER_MAP.get(this._datavis);\r\n            datagrid.reset_size();\r\n            await datagrid.draw({invalid_viewport: true});\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * Appends the default tbale CSS to `<head>`, should be run once on module\r\n *  import.\r\n *\r\n */\r\nfunction _register_global_styles() {\r\n    const style = document.createElement(\"style\");\r\n    style.textContent = MATERIAL_STYLE;\r\n    document.head.appendChild(style);\r\n}\r\n\r\n/******************************************************************************\r\n *\r\n * Main\r\n *\r\n */\r\n\r\nwindow.customElements.define(\"perspective-datagrid\", DatagridViewModel);\r\n\r\nregisterPlugin(\"datagrid\", DatagridPlugin);\r\n\r\n_start_profiling_loop();\r\n_register_global_styles();\r\n","/******************************************************************************\r\n *\r\n * Copyright (c) 2017, the Perspective Authors.\r\n *\r\n * This file is part of the Perspective library, distributed under the terms of\r\n * the Apache License 2.0.  The full license can be found in the LICENSE file.\r\n *\r\n */\r\n\r\nimport {METADATA_MAP} from \"./constants\";\r\nimport {DatagridTableViewModel} from \"./table\";\r\nimport {DatagridViewEventModel} from \"./events\";\r\n\r\n/**\r\n * Datagrid's \"public\" API.  See the `superstore-custom-grid.html` simple\r\n * example.\r\n *\r\n * @class DatagridViewEventModel\r\n * @extends {DatagridVirtualTableViewModel}\r\n */\r\nexport class DatagridViewModel extends DatagridViewEventModel {\r\n    /**\r\n     * Returns the metadata object associated with a `<td>` or `<th>`.  When\r\n     * an `perspective-datagrid-after-update` event fires, use this method\r\n     * to look up the Perspective data associated with a `<table>`s DOM cells.\r\n     *\r\n     * @param {*} td\r\n     * @returns a metadata object.\r\n     * @memberof DatagridViewModel\r\n     */\r\n    get_meta(td) {\r\n        return METADATA_MAP.get(td);\r\n    }\r\n\r\n    /**\r\n     * Gets all `<td>` elements modified in this render.  This is equivalent to\r\n     * `element.querySlectorAll(\"td\");\r\n     *\r\n     * @returns\r\n     * @memberof DatagridViewModel\r\n     */\r\n    get_tds() {\r\n        return this.table_model.body.cells.flat(1);\r\n    }\r\n\r\n    /**\r\n     * Gets all `<th>` elements modified in this render.  This is equivalent to\r\n     * `element.querySlectorAll(\"th\");\r\n     *\r\n     * @returns\r\n     * @memberof DatagridViewModel\r\n     */\r\n    get_ths() {\r\n        return this.table_model.body.cells.flat(1);\r\n    }\r\n\r\n    /**\r\n     * Clear this renderer.\r\n     *\r\n     * @memberof DatagridViewModel\r\n     */\r\n    clear() {\r\n        this._sticky_container.innerHTML = \"<table></table>\";\r\n        if (this._render_element) {\r\n            if (this._render_element !== this.table_model.table.parentElement) {\r\n                this._render_element.appendChild(this._sticky_container);\r\n            }\r\n        } else {\r\n            this.appendChild(this.table_model.table);\r\n        }\r\n    }\r\n\r\n    reset_viewport() {\r\n        this._start_row = undefined;\r\n        this._end_row = undefined;\r\n        this._start_col = undefined;\r\n        this._end_col = undefined;\r\n    }\r\n\r\n    reset_size() {\r\n        this._container_size = undefined;\r\n    }\r\n\r\n    reset_scroll() {\r\n        this._column_sizes.indices = [];\r\n        this._scroll_container.scrollTop = 0;\r\n        this._scroll_container.scrollLeft = 0;\r\n        this.reset_viewport();\r\n    }\r\n\r\n    async set_view(view) {\r\n        const config = await view.get_config();\r\n        const table_schema = await this._render_element.table.schema();\r\n        const schema = await view.schema();\r\n        const column_paths = await view.column_paths();\r\n        this._invalid_schema = true;\r\n        const options = this.infer_options(config);\r\n        this._view_cache = {view, config, column_paths, schema, table_schema};\r\n        return options;\r\n    }\r\n\r\n    set_element(_render_element) {\r\n        if (_render_element) {\r\n            this._render_element = _render_element;\r\n        }\r\n        this._virtual_scrolling_disabled = _render_element.hasAttribute(\"disable-virtual-datagrid\");\r\n        this.create_shadow_dom();\r\n        this._column_sizes = {auto: {}, override: {}, indices: []};\r\n        this.table_model = new DatagridTableViewModel(this._table_clip, this._column_sizes, this._sticky_container);\r\n        if (!this.table_model) return;\r\n        if (this._render_element) {\r\n            if (this._render_element !== this.table_model.table.parentElement) {\r\n                this._render_element.appendChild(this._sticky_container);\r\n            }\r\n        } else {\r\n            this.appendChild(this.table_model.table);\r\n        }\r\n    }\r\n}\r\n"],"sourceRoot":""}